function FastClick(e){"use strict";function t(e,t){return function(){return e.apply(t,arguments)}}var n;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,FastClick.notNeeded(e)||(deviceIsAndroid&&(e.addEventListener("mouseover",t(this.onMouse,this),!0),e.addEventListener("mousedown",t(this.onMouse,this),!0),e.addEventListener("mouseup",t(this.onMouse,this),!0)),e.addEventListener("click",t(this.onClick,this),!0),e.addEventListener("touchstart",t(this.onTouchStart,this),!1),e.addEventListener("touchmove",t(this.onTouchMove,this),!1),e.addEventListener("touchend",t(this.onTouchEnd,this),!1),e.addEventListener("touchcancel",t(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(n=e.onclick,e.addEventListener("click",function(e){n(e)},!1),e.onclick=null))}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,a,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(a=e.changedTouches[0],o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase(),"label"===r){if(t=this.findControl(o)){if(this.focus(o),deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o))return e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(o),this.sendClick(o,e),deviceIsIOS4&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(i=o.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(e,t){function n(e){var t=fe[e]={};return J.each(e.split(te),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(ge,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:ve.test(r)?J.parseJSON(r):r}catch(a){}J.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!J.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(){return!1}function o(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,J.isFunction(t))return J.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return J.grep(e,function(e,r){return e===t===n});if("string"==typeof t){var r=J.grep(e,function(e){return 1===e.nodeType});if(Ie.test(t))return J.filter(t,r,!n);t=J.filter(t,r)}return J.grep(e,function(e,r){return J.inArray(e,t)>=0===n})}function c(e){var t=Re.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&J.hasData(e)){var n,r,i,a=J._data(e),o=J._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)J.event.add(t,n,s[n][r])}o.data&&(o.data=J.extend({},o.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),J.support.html5Clone&&e.innerHTML&&!J.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(J.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function v(e){Ze.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=gt.length;i--;)if(t=gt[i]+n,t in e)return t;return r}function y(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)}function m(e,t){for(var n,r,i=[],a=0,o=e.length;o>a;a++)n=e[a],n.style&&(i[a]=J._data(n,"olddisplay"),t?(!i[a]&&"none"===n.style.display&&(n.style.display=""),""===n.style.display&&y(n)&&(i[a]=J._data(n,"olddisplay",E(n.nodeName)))):(r=nt(n,"display"),!i[a]&&"none"!==r&&J._data(n,"olddisplay",r)));for(a=0;o>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[a]||"":"none"));return e}function x(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function b(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=J.css(e,n+vt[i],!0)),r?("content"===n&&(a-=parseFloat(nt(e,"padding"+vt[i]))||0),"margin"!==n&&(a-=parseFloat(nt(e,"border"+vt[i]+"Width"))||0)):(a+=parseFloat(nt(e,"padding"+vt[i]))||0,"padding"!==n&&(a+=parseFloat(nt(e,"border"+vt[i]+"Width"))||0));return a}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,a=J.support.boxSizing&&"border-box"===J.css(e,"boxSizing");if(0>=r){if(r=nt(e,t),(0>r||null==r)&&(r=e.style[t]),ct.test(r))return r;i=a&&(J.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+b(e,t,n||(a?"border":"content"),i)+"px"}function E(e){if(ht[e])return ht[e];var t=J("<"+e+">").appendTo(X.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rt=X.body.appendChild(rt||J.extend(X.createElement("iframe"),{frameBorder:0,width:0,height:0})),it&&rt.createElement||(it=(rt.contentWindow||rt.contentDocument).document,it.write("<!doctype html><html><body>"),it.close()),t=it.body.appendChild(it.createElement(e)),n=nt(t,"display"),X.body.removeChild(rt)),ht[e]=n,n}function _(e,t,n,r){var i;if(J.isArray(t))J.each(t,function(t,i){n||xt.test(e)?r(e,i):_(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==J.type(t))r(e,t);else for(i in t)_(e+"["+i+"]",t[i],n,r)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,a,o=t.toLowerCase().split(te),s=0,l=o.length;if(J.isFunction(n))for(;l>s;s++)r=o[s],a=/^\+/.test(r),a&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[a?"unshift":"push"](n)}}function S(e,n,r,i,a,o){a=a||n.dataTypes[0],o=o||{},o[a]=!0;for(var s,l=e[a],u=0,c=l?l.length:0,d=e===At;c>u&&(d||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!d||o[s]?s=t:(n.dataTypes.unshift(s),s=S(e,n,r,i,s,o)));return(d||!s)&&!o["*"]&&(s=S(e,n,r,i,"*",o)),s}function T(e,n){var r,i,a=J.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((a[r]?e:i||(i={}))[r]=n[r]);i&&J.extend(!0,e,i)}function C(e,n,r){var i,a,o,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(a in c)a in r&&(n[c[a]]=r[a]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){u.unshift(a);break}if(u[0]in r)o=u[0];else{for(a in r){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}s||(s=a)}o=o||s}return o?(o!==u[0]&&u.unshift(o),r[o]):void 0}function D(e,t){var n,r,i,a,o=e.dataTypes.slice(),s=o[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;i=o[++u];)if("*"!==i){if("*"!==s&&s!==i){if(n=l[s+" "+i]||l["* "+i],!n)for(r in l)if(a=r.split(" "),a[1]===i&&(n=l[s+" "+a[0]]||l["* "+a[0]])){n===!0?n=l[r]:l[r]!==!0&&(i=a[0],o.splice(u--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function N(){try{return new e.XMLHttpRequest}catch(t){}}function P(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Ht=t},0),Ht=J.now()}function B(e,t){J.each(t,function(t,n){for(var r=(Jt[t]||[]).concat(Jt["*"]),i=0,a=r.length;a>i;i++)if(r[i].call(e,t,n))return})}function L(e,t,n){var r,i=0,a=Kt.length,o=J.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Ht||M(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),i=0,a=l.tweens.length;a>i;i++)l.tweens[i].run(r);return o.notifyWith(e,[l,r,n]),1>r&&a?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ht||M(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=J.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,r=t?l.tweens.length:0;r>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),u=l.props;for(O(u,l.opts.specialEasing);a>i;i++)if(r=Kt[i].call(l,e,u,l.opts))return r;return B(l,u),J.isFunction(l.opts.start)&&l.opts.start.call(e,l),J.fx.timer(J.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function O(e,t){var n,r,i,a,o;for(n in e)if(r=J.camelCase(n),i=t[r],a=e[n],J.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),o=J.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function A(e,t,n){var r,i,a,o,s,l,u,c,d=this,h=e.style,p={},f=[],v=e.nodeType&&y(e);n.queue||(u=J._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,J.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===J.css(e,"display")&&"none"===J.css(e,"float")&&(J.support.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",J.support.shrinkWrapBlocks||d.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],Ut.exec(a)){if(delete t[r],a===(v?"hide":"show"))continue;f.push(r)}if(o=f.length)for(s=J._data(e,"fxshow")||J._data(e,"fxshow",{}),v?J(e).show():d.done(function(){J(e).hide()}),d.done(function(){var t;J.removeData(e,"fxshow",!0);for(t in p)J.style(e,t,p[t])}),r=0;o>r;r++)i=f[r],l=d.createTween(i,v?s[i]:0),p[i]=s[i]||J.style(e,i),i in s||(s[i]=l.start,v&&(l.end=l.start,l.start="width"===i||"height"===i?1:0))}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function z(e,t){for(var n,r={height:e},i=0;4>i;i+=2-t)n=vt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e){return J.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var R,j,X=e.document,q=e.location,V=e.navigator,$=e.jQuery,Y=e.$,H=Array.prototype.push,W=Array.prototype.slice,U=Array.prototype.indexOf,Z=Object.prototype.toString,G=Object.prototype.hasOwnProperty,K=String.prototype.trim,J=function(e,t){return new J.fn.init(e,t,R)},Q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ee=/\S/,te=/\s+/,ne=ee.test("Â ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,re=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ie=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^[\],:{}\s]*$/,oe=/(?:^|:|,)(?:\s*\[)+/g,se=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ue=/^-ms-/,ce=/-([\da-z])/gi,de=function(e,t){return(t+"").toUpperCase()},he=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",he,!1),J.ready()):"complete"===X.readyState&&(X.detachEvent("onreadystatechange",he),J.ready())},pe={};J.fn=J.prototype={constructor:J,init:function(e,n,r){var i,a,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:re.exec(e),i&&(i[1]||!n)){if(i[1])return n=n instanceof J?n[0]:n,o=n&&n.nodeType?n.ownerDocument||n:X,e=J.parseHTML(i[1],o,!0),ie.test(i[1])&&J.isPlainObject(n)&&this.attr.call(e,n,!0),J.merge(this,e);if(a=X.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=X,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return J.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return W.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=J.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return J.each(this,e,t)},ready:function(e){return J.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(W.apply(this,arguments),"slice",W.call(arguments).join(","))},map:function(e){return this.pushStack(J.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:[].sort,splice:[].splice},J.fn.init.prototype=J.fn,J.extend=J.fn.extend=function(){var e,n,r,i,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"!=typeof s&&!J.isFunction(s)&&(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(J.isPlainObject(i)||(a=J.isArray(i)))?(a?(a=!1,o=r&&J.isArray(r)?r:[]):o=r&&J.isPlainObject(r)?r:{},s[n]=J.extend(c,o,i)):i!==t&&(s[n]=i));return s},J.extend({noConflict:function(t){return e.$===J&&(e.$=Y),t&&e.jQuery===J&&(e.jQuery=$),J},isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){if(e===!0?!--J.readyWait:!J.isReady){if(!X.body)return setTimeout(J.ready,1);J.isReady=!0,e!==!0&&--J.readyWait>0||(j.resolveWith(X,[J]),J.fn.trigger&&J(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray||function(e){return"array"===J.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pe[Z.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==J.type(e)||e.nodeType||J.isWindow(e))return!1;try{if(e.constructor&&!G.call(e,"constructor")&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||G.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||X,(r=ie.exec(e))?[t.createElement(r[1])]:(r=J.buildFragment([e],t,n?null:[]),J.merge([],(r.cacheable?J.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=J.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ae.test(t.replace(se,"@").replace(le,"]").replace(oe,""))?new Function("return "+t)():void J.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(a){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ee.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ue,"ms-").replace(ce,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,a=0,o=e.length,s=o===t||J.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;o>a&&n.apply(e[a++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;o>a&&n.call(e[a],a,e[a++])!==!1;);return e},trim:K?function(e){return null==e?"":K.call(e)}:function(e){return null==e?"":e.toString().replace(ne,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=J.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||J.isWindow(e)?H.call(r,e):J.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(U)return U.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[i++]=n[a];else for(;n[a]!==t;)e[i++]=n[a++];return e.length=i,e},grep:function(e,t,n){var r,i=[],a=0,o=e.length;for(n=!!n;o>a;a++)r=!!t(e[a],a),n!==r&&i.push(e[a]);return i},map:function(e,n,r){var i,a,o=[],s=0,l=e.length,u=e instanceof J||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||J.isArray(e));if(u)for(;l>s;s++)i=n(e[s],s,r),null!=i&&(o[o.length]=i);else for(a in e)i=n(e[a],a,r),null!=i&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,a;return"string"==typeof n&&(r=e[n],n=e,e=r),J.isFunction(e)?(i=W.call(arguments,2),a=function(){return e.apply(n,i.concat(W.call(arguments)))},a.guid=e.guid=e.guid||a.guid||J.guid++,a):t},access:function(e,n,r,i,a,o,s){var l,u=null==r,c=0,d=e.length;if(r&&"object"==typeof r){for(c in r)J.access(e,n,c,r[c],1,o,i);a=1}else if(i!==t){if(l=s===t&&J.isFunction(i),u&&(l?(l=n,n=function(e,t,n){return l.call(J(e),n)}):(n.call(e,i),n=null)),n)for(;d>c;c++)n(e[c],r,l?i.call(e[c],c,n(e[c],r)):i,s);a=1}return a?e:u?n.call(e):d?n(e[0],r):o},now:function(){return(new Date).getTime()}}),J.ready.promise=function(t){if(!j)if(j=J.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&X.addEventListener)setTimeout(J.ready,1);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",he,!1),e.addEventListener("load",J.ready,!1);else{X.attachEvent("onreadystatechange",he),e.attachEvent("onload",J.ready);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!J.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}J.ready()}}()}return j.promise(t)},J.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()}),R=J(X);var fe={};J.Callbacks=function(e){e="string"==typeof e?fe[e]||n(e):J.extend({},e);var r,i,a,o,s,l,u=[],c=!e.once&&[],d=function(t){for(r=e.memory&&t,i=!0,l=o||0,o=0,s=u.length,a=!0;u&&s>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}a=!1,u&&(c?c.length&&d(c.shift()):r?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function n(t){J.each(t,function(t,r){!J.isFunction(r)||e.unique&&h.has(r)?r&&r.length&&n(r):u.push(r)})}(arguments),a?s=u.length:r&&(o=t,d(r))}return this},remove:function(){return u&&J.each(arguments,function(e,t){for(var n;(n=J.inArray(t,u,n))>-1;)u.splice(n,1),a&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return J.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],u&&(!i||c)&&(a?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(n){J.each(t,function(t,r){var a=r[0],o=e[t];i[r[1]](J.isFunction(o)?function(){var e=o.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n:this,[e])}:n[a])}),e=null}).promise()},promise:function(e){return"object"==typeof e?J.extend(e,r):r}},i={};return r.pipe=r.then,J.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=o.fire,i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=W.call(arguments),o=a.length,s=1!==o||e&&J.isFunction(e.promise)?o:0,l=1===s?e:J.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?W.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&J.isFunction(a[i].promise)?a[i].promise().done(u(i,r,a)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,a),l.promise()}}),J.support=function(){var t,n,r,i,a,o,s,l,u,c,d,h=X.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!r)return{};i=X.createElement("select"),a=i.appendChild(X.createElement("option")),o=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===o.value,optSelected:a.selected,getSetAttribute:"t"!==h.className,enctype:!!X.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===X.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",d)),o=X.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),s=X.createDocumentFragment(),s.appendChild(h.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,s.removeChild(o),s.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in h,c||(h.setAttribute(l,"return;"),c="function"==typeof h[l]),t[u+"Bubbles"]=c;return J(function(){var n,r,i,a,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=X.getElementsByTagName("body")[0];s&&(n=X.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=X.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,a=X.createElement("div"),a.style.cssText=r.style.cssText=o,a.style.marginRight=a.style.width="0",r.style.width="1px",r.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=a=null)}),s.removeChild(h),n=r=i=a=o=s=h=null,t}();var ve=/^(?:\{.*\}|\[.*\])$/,ge=/([A-Z])/g;J.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?J.cache[e[J.expando]]:e[J.expando],!!e&&!i(e)},data:function(e,n,r,i){if(J.acceptData(e)){var a,o,s=J.expando,l="string"==typeof n,u=e.nodeType,c=u?J.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(i||c[d].data)||!l||r!==t)return d||(u?e[s]=d=J.deletedIds.pop()||++J.uuid:d=s),c[d]||(c[d]={},u||(c[d].toJSON=J.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[d]=J.extend(c[d],n):c[d].data=J.extend(c[d].data,n)),a=c[d],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[J.camelCase(n)]=r),l?(o=a[n],null==o&&(o=a[J.camelCase(n)])):o=a,o}},removeData:function(e,t,n){if(J.acceptData(e)){var r,a,o,s=e.nodeType,l=s?J.cache:e,u=s?e[J.expando]:J.expando;if(l[u]){if(t&&(r=n?l[u]:l[u].data)){J.isArray(t)||(t in r?t=[t]:(t=J.camelCase(t),t=t in r?[t]:t.split(" ")));for(a=0,o=t.length;o>a;a++)delete r[t[a]];if(!(n?i:J.isEmptyObject)(r))return}(n||(delete l[u].data,i(l[u])))&&(s?J.cleanData([e],!0):J.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return J.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&J.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),J.fn.extend({data:function(e,n){var i,a,o,s,l,u=this[0],c=0,d=null;if(e===t){if(this.length&&(d=J.data(u),1===u.nodeType&&!J._data(u,"parsedAttrs"))){for(o=u.attributes,l=o.length;l>c;c++)s=o[c].name,0===s.indexOf("data-")&&(s=J.camelCase(s.substring(5)),r(u,s,d[s]));J._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){J.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",a=i[1]+"!",J.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+a,[i[0]]),
d===t&&u&&(d=J.data(u,e),d=r(u,e,d)),d===t&&i[1]?this.data(i[0]):d):(i[1]=n,void this.each(function(){var t=J(this);t.triggerHandler("setData"+a,i),J.data(this,e,n),t.triggerHandler("changeData"+a,i)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){J.removeData(this,e)})}}),J.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=J._data(e,t),n&&(!r||J.isArray(n)?r=J._data(e,t,J.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),r=n.shift(),i=J._queueHooks(e,t),a=function(){J.dequeue(e,t)};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,a,i)),!n.length&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J._data(e,n)||J._data(e,n,{empty:J.Callbacks("once memory").add(function(){J.removeData(e,t+"queue",!0),J.removeData(e,n,!0)})})}}),J.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?J.queue(this[0],e):n===t?this:this.each(function(){var t=J.queue(this,e,n);J._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},delay:function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,a=J.Deferred(),o=this,s=this.length,l=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(r=J._data(o[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),a.promise(n)}});var ye,me,xe,be=/[\t\r\n]/g,we=/\r/g,Ee=/^(?:button|input)$/i,_e=/^(?:button|input|object|select|textarea)$/i,ke=/^a(?:rea|)$/i,Se=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Te=J.support.getSetAttribute;J.fn.extend({attr:function(e,t){return J.access(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})},prop:function(e,t){return J.access(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return e=J.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,a,o,s;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(te),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(a=" "+i.className+" ",o=0,s=t.length;s>o;o++)~a.indexOf(" "+t[o]+" ")||(a+=t[o]+" ");i.className=J.trim(a)}else i.className=e;return this},removeClass:function(e){var n,r,i,a,o,s,l;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(te),s=0,l=this.length;l>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(be," "),a=0,o=n.length;o>a;a++)for(;r.indexOf(" "+n[a]+" ")>-1;)r=r.replace(" "+n[a]+" "," ");i.className=e?J.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(J.isFunction(e)?function(n){J(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,a=0,o=J(this),s=t,l=e.split(te);i=l[a++];)s=r?s:!o.hasClass(i),o[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&J._data(this,"__className__",this.className),this.className=this.className||e===!1?"":J._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(be," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,a=this[0];{if(arguments.length)return i=J.isFunction(e),this.each(function(r){var a,o=J(this);1===this.nodeType&&(a=i?e.call(this,r,o.val()):e,null==a?a="":"number"==typeof a?a+="":J.isArray(a)&&(a=J.map(a,function(e){return null==e?"":e+""})),n=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=J.valHooks[a.type]||J.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(a,"value"))!==t?r:(r=a.value,"string"==typeof r?r.replace(we,""):null==r?"":r)}}}),J.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,a=e.selectedIndex,o=[],s=e.options,l="select-one"===e.type;if(0>a)return null;for(n=l?a:0,r=l?a+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(J.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&J.nodeName(i.parentNode,"optgroup"))){if(t=J(i).val(),l)return t;o.push(t)}return l&&!o.length&&s.length?J(s[a]).val():o},set:function(e,t){var n=J.makeArray(t);return J(e).find("option").each(function(){this.selected=J.inArray(J(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var a,o,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&J.isFunction(J.fn[n])?J(e)[n](r):"undefined"==typeof e.getAttribute?J.prop(e,n,r):(s=1!==l||!J.isXMLDoc(e),s&&(n=n.toLowerCase(),o=J.attrHooks[n]||(Se.test(n)?me:ye)),r!==t?null===r?void J.removeAttr(e,n):o&&"set"in o&&s&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,""+r),r):o&&"get"in o&&s&&null!==(a=o.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a))},removeAttr:function(e,t){var n,r,i,a,o=0;if(t&&1===e.nodeType)for(r=t.split(te);o<r.length;o++)i=r[o],i&&(n=J.propFix[i]||i,a=Se.test(i),a||J.attr(e,i,""),e.removeAttribute(Te?i:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Ee.test(e.nodeName)&&e.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return ye&&J.nodeName(e,"button")?ye.get(e,t):t in e?e.value:null},set:function(e,t,n){return ye&&J.nodeName(e,"button")?ye.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!J.isXMLDoc(e),o&&(n=J.propFix[n]||n,a=J.propHooks[n]),r!==t?a&&"set"in a&&(i=a.set(e,r,n))!==t?i:e[n]=r:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):_e.test(e.nodeName)||ke.test(e.nodeName)&&e.href?0:t}}}}),me={get:function(e,n){var r,i=J.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?J.removeAttr(e,n):(r=J.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Te||(xe={name:!0,id:!0,coords:!0},ye=J.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(xe[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=X.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},J.each(["width","height"],function(e,t){J.attrHooks[t]=J.extend(J.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),J.attrHooks.contenteditable={get:ye.get,set:function(e,t,n){""===t&&(t="false"),ye.set(e,t,n)}}),J.support.hrefNormalized||J.each(["href","src","width","height"],function(e,n){J.attrHooks[n]=J.extend(J.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),J.support.style||(J.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),J.support.enctype||(J.propFix.enctype="encoding"),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}})});var Ce=/^(?:textarea|input|select)$/i,De=/^([^\.]*|)(?:\.(.+)|)$/,Ne=/(?:^|\s)hover(\.\S+|)\b/,Pe=/^key/,Me=/^(?:mouse|contextmenu)|click/,Be=/^(?:focusinfocus|focusoutblur)$/,Le=function(e){return J.event.special.hover?e:e.replace(Ne,"mouseenter$1 mouseleave$1")};J.event={add:function(e,n,r,i,a){var o,s,l,u,c,d,h,p,f,v,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(o=J._data(e))){for(r.handler&&(f=r,r=f.handler,a=f.selector),r.guid||(r.guid=J.guid++),l=o.events,l||(o.events=l={}),s=o.handle,s||(o.handle=s=function(e){return"undefined"==typeof J||e&&J.event.triggered===e.type?t:J.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=J.trim(Le(n)).split(" "),u=0;u<n.length;u++)c=De.exec(n[u])||[],d=c[1],h=(c[2]||"").split(".").sort(),g=J.event.special[d]||{},d=(a?g.delegateType:g.bindType)||d,g=J.event.special[d]||{},p=J.extend({type:d,origType:c[1],data:i,handler:r,guid:r.guid,selector:a,namespace:h.join(".")},f),v=l[d],v||(v=l[d]=[],v.delegateCount=0,g.setup&&g.setup.call(e,i,h,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),a?v.splice(v.delegateCount++,0,p):v.push(p),J.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var a,o,s,l,u,c,d,h,p,f,v,g=J.hasData(e)&&J._data(e);if(g&&(h=g.events)){for(t=J.trim(Le(t||"")).split(" "),a=0;a<t.length;a++)if(o=De.exec(t[a])||[],s=l=o[1],u=o[2],s){for(p=J.event.special[s]||{},s=(r?p.delegateType:p.bindType)||s,f=h[s]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<f.length;d++)v=f[d],!(!i&&l!==v.origType||n&&n.guid!==v.guid||u&&!u.test(v.namespace)||r&&r!==v.selector&&("**"!==r||!v.selector)||(f.splice(d--,1),v.selector&&f.delegateCount--,!p.remove||!p.remove.call(e,v)));0===f.length&&c!==f.length&&((!p.teardown||p.teardown.call(e,u,g.handle)===!1)&&J.removeEvent(e,s,g.handle),delete h[s])}else for(s in h)J.event.remove(e,s+t[a],n,r,!0);J.isEmptyObject(h)&&(delete g.handle,J.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,a){if(!i||3!==i.nodeType&&8!==i.nodeType){var o,s,l,u,c,d,h,p,f,v,g=n.type||n,y=[];if(Be.test(g+J.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),(!i||J.event.customEvent[g])&&!J.event.global[g])return;if(n="object"==typeof n?n[J.expando]?n:new J.Event(g,n):new J.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",!i){o=J.cache;for(l in o)o[l].events&&o[l].events[g]&&J.event.trigger(n,r,o[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=i),r=null!=r?J.makeArray(r):[],r.unshift(n),h=J.event.special[g]||{},h.trigger&&h.trigger.apply(i,r)===!1)return;if(f=[[i,h.bindType||g]],!a&&!h.noBubble&&!J.isWindow(i)){for(v=h.delegateType||g,u=Be.test(v+g)?i:i.parentNode,c=i;u;u=u.parentNode)f.push([u,v]),c=u;c===(i.ownerDocument||X)&&f.push([c.defaultView||c.parentWindow||e,v])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)u=f[l][0],n.type=f[l][1],p=(J._data(u,"events")||{})[n.type]&&J._data(u,"handle"),p&&p.apply(u,r),p=d&&u[d],p&&J.acceptData(u)&&p.apply(u,r)===!1&&n.preventDefault();return n.type=g,!(a||n.isDefaultPrevented()||h._default&&h._default.apply(i.ownerDocument,r)!==!1||"click"===g&&J.nodeName(i,"a")||!J.acceptData(i)||!d||!i[g]||("focus"===g||"blur"===g)&&0===n.target.offsetWidth||J.isWindow(i)||(c=i[d],c&&(i[d]=null),J.event.triggered=g,i[g](),J.event.triggered=t,!c||!(i[d]=c))),n.result}},dispatch:function(n){n=J.event.fix(n||e.event);var r,i,a,o,s,l,u,c,d,h,p=(J._data(this,"events")||{})[n.type]||[],f=p.delegateCount,v=[].slice.call(arguments),g=!n.exclusive&&!n.namespace,y=J.event.special[n.type]||{},m=[];if(v[0]=n,n.delegateTarget=this,!y.preDispatch||y.preDispatch.call(this,n)!==!1){if(f&&(!n.button||"click"!==n.type))for(o=J(this),o.context=this,a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==n.type){for(l={},c=[],o[0]=a,r=0;f>r;r++)d=p[r],h=d.selector,l[h]===t&&(l[h]=o.is(h)),l[h]&&c.push(d);c.length&&m.push({elem:a,matches:c})}for(p.length>f&&m.push({elem:this,matches:p.slice(f)}),r=0;r<m.length&&!n.isPropagationStopped();r++)for(u=m[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)d=u.matches[i],(g||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,s=((J.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,v),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return y.postDispatch&&y.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,i=r.documentElement,a=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&o!==t&&(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,r=e,i=J.event.fixHooks[e.type]||{},a=i.props?this.props.concat(i.props):this.props;for(e=J.Event(r),t=a.length;t;)n=a[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{ready:{setup:J.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){J.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?J.event.trigger(i,null,t):J.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},J.event.handle=J.event.dispatch,J.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),this[J.expando]=!0,void 0):new J.Event(e,t)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,a=e.handleObj;a.selector}return(!i||i!==r&&!J.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){return J.nodeName(this,"form")?!1:void J.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=J.nodeName(n,"input")||J.nodeName(n,"button")?n.form:t;r&&!J._data(r,"_submit_attached")&&(J.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),J._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&J.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return J.nodeName(this,"form")?!1:void J.event.remove(this,"._submit")}}),J.support.changeBubbles||(J.event.special.change={setup:function(){return Ce.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(J.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),J.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),J.event.simulate("change",this,e,!0)})),!1):void J.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ce.test(t.nodeName)&&!J._data(t,"_change_attached")&&(J.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&J.event.simulate("change",this.parentNode,e,!0)}),J._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return J.event.remove(this,"._change"),Ce.test(this.nodeName)}}),J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,r,!0)},teardown:function(){0===--n&&X.removeEventListener(e,r,!0)}}}),J.fn.extend({on:function(e,n,r,i,o){var s,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(e){return J().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=J.guid++)),this.each(function(){J.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,J(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=a),this.each(function(){J.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return J(this.context).on(e,this.selector,t,n),this},die:function(e,t){return J(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?J.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||J.guid++,r=0,i=function(n){var i=(J._data(this,"lastToggle"+e.guid)||0)%r;return J._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Pe.test(t)&&(J.event.fixHooks[t]=J.event.keyHooks),Me.test(t)&&(J.event.fixHooks[t]=J.event.mouseHooks)}),function(e,t){function n(e,t,n,r){for(var i=0,a=t.length;a>i;i++)ae(e,t[i],n,r)}function r(e,t,r,i,a,o){var s,l=oe.setFilters[t.toLowerCase()];return l||ae.error(t),(e||!(s=a))&&n(e||"*",i,s=[],a),s.length>0?l(s,r,o):[]}function i(e,i,a,o,s){for(var l,u,c,d,h,p,f,v,g=0,y=s.length,m=$.POS,x=new RegExp("^"+m.source+"(?!"+k+")","i"),b=function(){for(var e=1,n=arguments.length-2;n>e;e++)arguments[e]===t&&(l[e]=t)};y>g;g++){for(m.exec(""),e=s[g],d=[],c=0,h=o;l=m.exec(e);)v=m.lastIndex=l.index+l[0].length,v>c&&(f=e.slice(c,l.index),c=v,p=[i],O.test(f)&&(h&&(p=h),h=o),(u=j.test(f))&&(f=f.slice(0,-5).replace(O,"$&*")),l.length>1&&l[0].replace(x,b),h=r(f,l[1],l[2],p,h,u));h?(d=d.concat(h),(f=e.slice(c))&&")"!==f?O.test(f)?n(f,d,a,o):ae(f,i,a,o?o.concat(h):h):E.apply(a,d)):ae(e,i,a,o)}return 1===y?a:ae.uniqueSort(a)}function a(e,t,n){for(var r,i,a,o=[],s=0,l=I.exec(e),u=!l.pop()&&!l.pop(),c=u&&e.match(A)||[""],d=oe.preFilter,h=oe.filter,p=!n&&t!==v;null!=(i=c[s])&&u;s++)for(o.push(r=[]),p&&(i=" "+i);i;){u=!1,(l=O.exec(i))&&(i=i.slice(l[0].length),u=r.push({part:l.pop().replace(L," "),captures:l}));for(a in h)(l=$[a].exec(i))&&(!d[a]||(l=d[a](l,t,n)))&&(i=i.slice(l.shift().length),u=r.push({part:a,captures:l}));if(!u)break}return u||ae.error(e),o}function o(e,t,n){var r=t.dir,i=b++;return e||(e=function(e){return e===n}),t.first?function(t,n){for(;t=t[r];)if(1===t.nodeType)return e(t,n)&&t}:function(t,n){for(var a,o=i+"."+d,s=o+"."+c;t=t[r];)if(1===t.nodeType){if((a=t[_])===s)return t.sizset;if("string"==typeof a&&0===a.indexOf(o)){if(t.sizset)return t}else{if(t[_]=s,e(t,n))return t.sizset=!0,t;t.sizset=!1}}}}function s(e,t){return e?function(n,r){var i=t(n,r);return i&&e(i===!0?n:i,r)}:t}function l(e,t,n){for(var r,i,a=0;r=e[a];a++)oe.relative[r.part]?i=o(i,oe.relative[r.part],t):(r.captures.push(t,n),i=s(i,oe.filter[r.part].apply(null,r.captures)));return i}function u(e){return function(t,n){for(var r,i=0;r=e[i];i++)if(r(t,n))return!0;return!1}}var c,d,h,p,f,v=e.document,g=v.documentElement,y="undefined",m=!1,x=!0,b=0,w=[].slice,E=[].push,_=("sizcache"+Math.random()).replace(".",""),k="[\\x20\\t\\r\\n\\f]",S="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",T=S.replace("w","w#"),C="([*^$|!~]?=)",D="\\["+k+"*("+S+")"+k+"*(?:"+C+k+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+T+")|)|)"+k+"*\\]",N=":("+S+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",P=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",M=k+"*([\\x20\\t\\r\\n\\f>+~])"+k+"*",B="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+D+"|"+N.replace(2,7)+"|[^\\\\(),])+",L=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g"),O=new RegExp("^"+M),A=new RegExp(B+"?(?="+k+"*,|$)","g"),I=new RegExp("^(?:(?!,)(?:(?:^|,)"+k+"*"+B+")*?|"+k+"*(.*?))(\\)|$)"),z=new RegExp(B.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+M,"g"),F=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,R=/[\x20\t\r\n\f]*[+~]/,j=/:not\($/,X=/h\d/i,q=/input|select|textarea|button/i,V=/\\(?!\\)/g,$={ID:new RegExp("^#("+S+")"),CLASS:new RegExp("^\\.("+S+")"),NAME:new RegExp("^\\[name=['\"]?("+S+")['\"]?\\]"),TAG:new RegExp("^("+S.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+D),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),POS:new RegExp(P,"ig"),needsContext:new RegExp("^"+k+"*[>+~]|"+P,"i")},Y={},H=[],W={},U=[],Z=function(e){return e.sizzleFilter=!0,e},G=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}},K=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}},Q=function(e){var t=!1,n=v.createElement("div");try{t=e(n)}catch(r){}return n=null,t},ee=Q(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),te=Q(function(e){e.id=_+0,e.innerHTML="<a name='"+_+"'></a><div name='"+_+"'></div>",g.insertBefore(e,g.firstChild);var t=v.getElementsByName&&v.getElementsByName(_).length===2+v.getElementsByName(_+0).length;return f=!v.getElementById(_),g.removeChild(e),t}),ne=Q(function(e){return e.appendChild(v.createComment("")),0===e.getElementsByTagName("*").length}),re=Q(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==y&&"#"===e.firstChild.getAttribute("href")}),ie=Q(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length?(e.lastChild.className="e",1!==e.getElementsByClassName("e").length):!1}),ae=function(e,t,n,r){n=n||[],t=t||v;var i,a,o,s,l=t.nodeType;if(1!==l&&9!==l)return[];if(!e||"string"!=typeof e)return n;if(o=le(t),!o&&!r&&(i=F.exec(e)))if(s=i[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&ue(t,a)&&a.id===s)return n.push(a),n}else{if(i[2])return E.apply(n,w.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&ie&&t.getElementsByClassName)return E.apply(n,w.call(t.getElementsByClassName(s),0)),n}return he(e,t,n,r,o)},oe=ae.selectors={cacheLength:50,match:$,order:["ID","TAG"],attrHandle:{},createPseudo:Z,find:{ID:f?function(e,t,n){if(typeof t.getElementById!==y&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==y&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==y&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:ne?function(e,t){return typeof t.getElementsByTagName!==y?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],a=0;r=n[a];a++)1===r.nodeType&&i.push(r);return i}return n}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(V,""),e[3]=(e[4]||e[5]||"").replace(V,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||ae.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=e[4];return $.CHILD.test(e[0])?null:(n&&(t=I.exec(n))&&t.pop()&&(e[0]=e[0].slice(0,t[0].length-n.length-1),n=t[0].slice(0,-1)),e.splice(2,3,n||e[3]),e)}},filter:{ID:f?function(e){return e=e.replace(V,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(V,""),function(t){var n=typeof t.getAttributeNode!==y&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(V,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=Y[e];return t||(t=Y[e]=new RegExp("(^|"+k+")"+e+"("+k+"|$)"),H.push(e),H.length>oe.cacheLength&&delete Y[H.shift()]),function(e){return t.test(e.className||typeof e.getAttribute!==y&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return t?function(r){var i=ae.attr(r,e),a=i+"";if(null==i)return"!="===t;switch(t){case"=":return a===n;case"!=":return a!==n;case"^=":return n&&0===a.indexOf(n);case"*=":return n&&a.indexOf(n)>-1;case"$=":return n&&a.substr(a.length-n.length)===n;case"~=":return(" "+a+" ").indexOf(n)>-1;case"|=":return a===n||a.substr(0,n.length+1)===n+"-"}}:function(t){return null!=ae.attr(t,e)}},CHILD:function(e,t,n,r){if("nth"===e){var i=b++;return function(e){var t,a,o=0,s=e;if(1===n&&0===r)return!0;if(t=e.parentNode,t&&(t[_]!==i||!e.sizset)){for(s=t.firstChild;s&&(1!==s.nodeType||(s.sizset=++o,s!==e));s=s.nextSibling);t[_]=i}return a=e.sizset-r,0===n?0===a:a%n===0&&a/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t,n,r){var i=oe.pseudos[e]||oe.pseudos[e.toLowerCase()];return i||ae.error("unsupported pseudo: "+e),i.sizzleFilter?i(t,n,r):i}},pseudos:{not:Z(function(e,t,n){var r=de(e.replace(L,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!oe.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},contains:Z(function(e){return function(t){return(t.textContent||t.innerText||ce(t)).indexOf(e)>-1}}),has:Z(function(e){return function(t){return ae(e,t).length>0}}),header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:G("radio"),checkbox:G("checkbox"),file:G("file"),password:G("password"),image:G("image"),submit:K("submit"),reset:K("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return q.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){for(var r=[],i=n?1:0,a=e.length;a>i;i+=2)r.push(e[i]);return r},odd:function(e,t,n){for(var r=[],i=n?0:1,a=e.length;a>i;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}};oe.setFilters.nth=oe.setFilters.eq,oe.filters=oe.pseudos,re||(oe.attrHandle={href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}}),te&&(oe.order.push("NAME"),oe.find.NAME=function(e,t){return typeof t.getElementsByName!==y?t.getElementsByName(e):void 0}),ie&&(oe.order.splice(1,0,"CLASS"),oe.find.CLASS=function(e,t,n){return typeof t.getElementsByClassName===y||n?void 0:t.getElementsByClassName(e)});try{w.call(g.childNodes,0)[0].nodeType}catch(se){w=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}var le=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},ue=ae.contains=g.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:g.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},ce=ae.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ce(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=ce(t);return n};ae.attr=function(e,t){var n,r=le(e);return r||(t=t.toLowerCase()),oe.attrHandle[t]?oe.attrHandle[t](e):ee||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},[0,0].sort(function(){return x=0}),g.compareDocumentPosition?h=function(e,t){return e===t?(m=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1;

}:(h=function(e,t){if(e===t)return m=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],a=[],o=e.parentNode,s=t.parentNode,l=o;if(o===s)return p(e,t);if(!o)return-1;if(!s)return 1;for(;l;)i.unshift(l),l=l.parentNode;for(l=s;l;)a.unshift(l),l=l.parentNode;n=i.length,r=a.length;for(var u=0;n>u&&r>u;u++)if(i[u]!==a[u])return p(i[u],a[u]);return u===n?p(e,a[u],-1):p(i[u],t,1)},p=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),ae.uniqueSort=function(e){var t,n=1;if(h&&(m=x,e.sort(h),m))for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e};var de=ae.compile=function(e,t,n){var r,i,o,s=W[e];if(s&&s.context===t)return s;for(i=a(e,t,n),o=0;r=i[o];o++)i[o]=l(r,t,n);return s=W[e]=u(i),s.context=t,s.runs=s.dirruns=0,U.push(e),U.length>oe.cacheLength&&delete W[U.shift()],s};ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){return ae(t,null,null,[e]).length>0};var he=function(e,t,n,r,a){e=e.replace(L,"$1");var o,s,l,u,h,p,f,v,g,y=e.match(A),m=e.match(z),x=t.nodeType;if($.POS.test(e))return i(e,t,n,r,y);if(r)o=w.call(r,0);else if(y&&1===y.length){if(m.length>1&&9===x&&!a&&(y=$.ID.exec(m[0]))){if(t=oe.find.ID(y[1],t,a)[0],!t)return n;e=e.slice(m.shift().length)}for(v=(y=R.exec(m[0]))&&!y.index&&t.parentNode||t,g=m.pop(),p=g.split(":not")[0],l=0,u=oe.order.length;u>l;l++)if(f=oe.order[l],y=$[f].exec(p)){if(o=oe.find[f]((y[1]||"").replace(V,""),v,a),null==o)continue;p===g&&(e=e.slice(0,e.length-g.length)+p.replace($[f],""),e||E.apply(n,w.call(o,0)));break}}if(e)for(s=de(e,t,a),d=s.dirruns++,null==o&&(o=oe.find.TAG("*",R.test(e)&&t.parentNode||t)),l=0;h=o[l];l++)c=s.runs++,s(h,t)&&n.push(h);return n};v.querySelectorAll&&function(){var e,t=he,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[],a=[":active"],o=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.oMatchesSelector||g.msMatchesSelector;Q(function(e){e.innerHTML="<select><option selected></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+k+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),Q(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+k+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=i.length&&new RegExp(i.join("|")),he=function(e,r,a,o,s){if(!(o||s||i&&i.test(e)))if(9===r.nodeType)try{return E.apply(a,w.call(r.querySelectorAll(e),0)),a}catch(l){}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r.getAttribute("id"),c=u||_,d=R.test(e)&&r.parentNode||r;u?c=c.replace(n,"\\$&"):r.setAttribute("id",c);try{return E.apply(a,w.call(d.querySelectorAll(e.replace(A,"[id='"+c+"'] $&")),0)),a}catch(l){}finally{u||r.removeAttribute("id")}}return t(e,r,a,o,s)},o&&(Q(function(t){e=o.call(t,"div");try{o.call(t,"[test!='']:sizzle"),a.push(oe.match.PSEUDO)}catch(n){}}),a=new RegExp(a.join("|")),ae.matchesSelector=function(t,n){if(n=n.replace(r,"='$1']"),!(le(t)||a.test(n)||i&&i.test(n)))try{var s=o.call(t,n);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(l){}return ae(n,null,null,[t]).length>0})}(),ae.attr=J.attr,J.find=ae,J.expr=ae.selectors,J.expr[":"]=J.expr.pseudos,J.unique=ae.uniqueSort,J.text=ae.getText,J.isXMLDoc=ae.isXML,J.contains=ae.contains}(e);var Oe=/Until$/,Ae=/^(?:parents|prev(?:Until|All))/,Ie=/^.[^:#\[\.,]*$/,ze=J.expr.match.needsContext,Fe={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(e){var t,n,r,i,a,o,s=this;if("string"!=typeof e)return J(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(J.contains(s[t],this))return!0});for(o=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=o.length,J.find(e,this[t],o),t>0)for(i=r;i<o.length;i++)for(a=0;r>a;a++)if(o[a]===o[i]){o.splice(i--,1);break}return o},has:function(e){var t,n=J(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(J.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ze.test(e)?J(e,this.context).index(this[0])>=0:J.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=ze.test(e)||"string"!=typeof e?J(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:J.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return a=a.length>1?J.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?J.inArray(this[0],J(e)):J.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?J(e,t):J.makeArray(e&&e.nodeType?[e]:e),r=J.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:J.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.fn.andSelf=J.fn.addBack,J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return J.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(n,r){var i=J.map(this,t,n);return Oe.test(e)||(r=n),r&&"string"==typeof r&&(i=J.filter(r,i)),i=this.length>1&&!Fe[e]?J.unique(i):i,this.length>1&&Ae.test(e)&&(i=i.reverse()),this.pushStack(i,e,W.call(arguments).join(","))}}),J.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?J.find.matchesSelector(t[0],e)?[t[0]]:[]:J.find.matches(e,t)},dir:function(e,n,r){for(var i=[],a=e[n];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!J(a).is(r));)1===a.nodeType&&i.push(a),a=a[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",je=/ jQuery\d+="(?:null|\d+)"/g,Xe=/^\s+/,qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ve=/<([\w:]+)/,$e=/<tbody/i,Ye=/<|&#?\w+;/,He=/<(?:script|style|link)/i,We=/<(?:script|object|embed|option|style)/i,Ue=new RegExp("<(?:"+Re+")[\\s/>]","i"),Ze=/^(?:checkbox|radio)$/,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/\/(java|ecma)script/i,Je=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},et=c(X),tt=et.appendChild(X.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,J.support.htmlSerialize||(Qe._default=[1,"X<div>","</div>"]),J.fn.extend({text:function(e){return J.access(this,function(e){return e===t?J.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(J.isFunction(e))return this.each(function(t){J(this).wrapAll(e.call(this,t))});if(this[0]){var t=J(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(J.isFunction(e)?function(t){J(this).wrapInner(e.call(this,t))}:function(){var t=J(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(n){J(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=J.clean(arguments);return this.pushStack(J.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=J.clean(arguments);return this.pushStack(J.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||J.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(J.cleanData(n.getElementsByTagName("*")),J.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&J.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return J.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(je,""):t;if(!("string"!=typeof e||He.test(e)||!J.support.htmlSerialize&&Ue.test(e)||!J.support.leadingWhitespace&&Xe.test(e)||Qe[(Ve.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(qe,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(J.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(J(J.isFunction(e)?e():e),"replaceWith",e):this:J.isFunction(e)?this.each(function(t){var n=J(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=J(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;J(this).remove(),t?J(t).before(e):J(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,a,o,s,l=0,u=e[0],c=[],h=this.length;if(!J.support.checkClone&&h>1&&"string"==typeof u&&Ge.test(u))return this.each(function(){J(this).domManip(e,n,r)});if(J.isFunction(u))return this.each(function(i){var a=J(this);e[0]=u.call(this,i,n?a.html():t),a.domManip(e,n,r)});if(this[0]){if(i=J.buildFragment(e,this,c),o=i.fragment,a=o.firstChild,1===o.childNodes.length&&(o=a),a)for(n=n&&J.nodeName(a,"tr"),s=i.cacheable||h-1;h>l;l++)r.call(n&&J.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===s?o:J.clone(o,!0,!0));o=a=null,c.length&&J.each(c,function(e,t){t.src?J.ajax?J.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):J.error("no ajax"):J.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Je,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),J.buildFragment=function(e,n,r){var i,a,o,s=e[0];return n=n||X,n=(n[0]||n).ownerDocument||n[0]||n,"undefined"==typeof n.createDocumentFragment&&(n=X),1===e.length&&"string"==typeof s&&s.length<512&&n===X&&"<"===s.charAt(0)&&!We.test(s)&&(J.support.checkClone||!Ge.test(s))&&(J.support.html5Clone||!Ue.test(s))&&(a=!0,i=J.fragments[s],o=i!==t),i||(i=n.createDocumentFragment(),J.clean(e,n,i,r),a&&(J.fragments[s]=o&&i)),{fragment:i,cacheable:a}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(n){var r,i=0,a=[],o=J(n),s=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return o[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),J(o[i])[t](r),a=a.concat(r);return this.pushStack(a,e,o.selector)}}),J.extend({clone:function(e,t,n){var r,i,a,o;if(J.support.html5Clone||J.isXMLDoc(e)||!Ue.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tt.innerHTML=e.outerHTML,tt.removeChild(o=tt.firstChild)),!(J.support.noCloneEvent&&J.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(p(e,o),r=f(e),i=f(o),a=0;r[a];++a)i[a]&&p(r[a],i[a]);if(t&&(h(e,o),n))for(r=f(e),i=f(o),a=0;r[a];++a)h(r[a],i[a]);return r=i=null,o},clean:function(e,t,n,r){var i,a,o,s,l,u,d,h,p,f,g,y=0,m=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=X),a=t===X&&et;null!=(o=e[y]);y++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Ye.test(o)){for(a=a||c(t),d=d||a.appendChild(t.createElement("div")),o=o.replace(qe,"<$1></$2>"),s=(Ve.exec(o)||["",""])[1].toLowerCase(),l=Qe[s]||Qe._default,u=l[0],d.innerHTML=l[1]+o+l[2];u--;)d=d.lastChild;if(!J.support.tbody)for(h=$e.test(o),p="table"!==s||h?"<table>"!==l[1]||h?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,i=p.length-1;i>=0;--i)J.nodeName(p[i],"tbody")&&!p[i].childNodes.length&&p[i].parentNode.removeChild(p[i]);!J.support.leadingWhitespace&&Xe.test(o)&&d.insertBefore(t.createTextNode(Xe.exec(o)[0]),d.firstChild),o=d.childNodes,d=a.lastChild}else o=t.createTextNode(o);o.nodeType?m.push(o):m=J.merge(m,o)}if(d&&(a.removeChild(d),o=d=a=null),!J.support.appendChecked)for(y=0;null!=(o=m[y]);y++)J.nodeName(o,"input")?v(o):"undefined"!=typeof o.getElementsByTagName&&J.grep(o.getElementsByTagName("input"),v);if(n)for(f=function(e){return!e.type||Ke.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},y=0;null!=(o=m[y]);y++)J.nodeName(o,"script")&&f(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(g=J.grep(J.merge([],o.getElementsByTagName("script")),f),m.splice.apply(m,[y+1,0].concat(g)),y+=g.length));return m},cleanData:function(e,t){for(var n,r,i,a,o=0,s=J.expando,l=J.cache,u=J.support.deleteExpando,c=J.event.special;null!=(i=e[o]);o++)if((t||J.acceptData(i))&&(r=i[s],n=r&&l[r])){if(n.events)for(a in n.events)c[a]?J.event.remove(i,a):J.removeEvent(i,a,n.handle);l[r]&&(delete l[r],u?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,J.deletedIds.push(r))}}}),function(){var e,t;J.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=J.uaMatch(V.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.webkit&&(t.safari=!0),J.browser=t,J.sub=function(){function e(t,n){return new e.fn.init(t,n)}J.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function n(n,r){return r&&r instanceof J&&!(r instanceof e)&&(r=e(r)),J.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(X);return e}}();var nt,rt,it,at=/alpha\([^)]*\)/i,ot=/opacity=([^)]*)/,st=/^(top|right|bottom|left)$/,lt=/^margin/,ut=new RegExp("^("+Q+")(.*)$","i"),ct=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),dt=new RegExp("^([-+])=("+Q+")","i"),ht={},pt={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:0,fontWeight:400,lineHeight:1},vt=["Top","Right","Bottom","Left"],gt=["Webkit","O","Moz","ms"],yt=J.fn.toggle;J.fn.extend({css:function(e,n){return J.access(this,function(e,n,r){return r!==t?J.style(e,n,r):J.css(e,n)},e,n,arguments.length>1)},show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e,t){var n="boolean"==typeof e;return J.isFunction(e)&&J.isFunction(t)?yt.apply(this,arguments):this.each(function(){(n?e:y(this))?J(this).show():J(this).hide()})}}),J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nt(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=J.camelCase(n),u=e.style;if(n=J.cssProps[l]||(J.cssProps[l]=g(u,l)),s=J.cssHooks[n]||J.cssHooks[l],r===t)return s&&"get"in s&&(a=s.get(e,!1,i))!==t?a:u[n];if(o=typeof r,"string"===o&&(a=dt.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(J.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"===o&&!J.cssNumber[l]&&(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var a,o,s,l=J.camelCase(n);return n=J.cssProps[l]||(J.cssProps[l]=g(e.style,l)),s=J.cssHooks[n]||J.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=nt(e,n)),"normal"===a&&n in ft&&(a=ft[n]),r||i!==t?(o=parseFloat(a),r||J.isNumeric(o)?o||0:a):a},swap:function(e,t,n){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=a[i];return r}}),e.getComputedStyle?nt=function(e,t){var n,r,i,a,o=getComputedStyle(e,null),s=e.style;return o&&(n=o[t],""===n&&!J.contains(e.ownerDocument.documentElement,e)&&(n=J.style(e,t)),ct.test(n)&&lt.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=n,n=o.width,s.width=r,s.minWidth=i,s.maxWidth=a)),n}:X.documentElement.currentStyle&&(nt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],a=e.style;return null==i&&a&&a[t]&&(i=a[t]),ct.test(i)&&!st.test(t)&&(n=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":i,i=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,n,r){return n?0!==e.offsetWidth||"none"!==nt(e,"display")?w(e,t,r):J.swap(e,pt,function(){return w(e,t,r)}):void 0},set:function(e,n,r){return x(e,n,r?b(e,t,r,J.support.boxSizing&&"border-box"===J.css(e,"boxSizing")):0)}}}),J.support.opacity||(J.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=J.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===J.trim(a.replace(at,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=at.test(a)?a.replace(at,i):a+" "+i)}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(e,t){return J.swap(e,{display:"inline-block"},function(){return t?nt(e,"marginRight"):void 0})}}),!J.support.pixelPosition&&J.fn.position&&J.each(["top","left"],function(e,t){J.cssHooks[t]={get:function(e,n){if(n){var r=nt(e,t);return ct.test(r)?J(e).position()[t]+"px":r}}}})}),J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!J.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nt(e,"display"))},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],a={};for(r=0;4>r;r++)a[e+vt[r]+t]=i[r]||i[r-2]||i[0];return a}},lt.test(e)||(J.cssHooks[e+t].set=x)});var mt=/%20/g,xt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Et=/^(?:select|textarea)/i;J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Et.test(this.nodeName)||wt.test(this.type))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e,n){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),J.param=function(e,n){var r,i=[],a=function(e,t){t=J.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){a(this.name,this.value)});else for(r in e)_(r,e[r],n,a);return i.join("&").replace(mt,"+")};var _t,kt,St=/#.*$/,Tt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ct=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Pt=/\?/,Mt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Bt=/([?&])_=[^&]*/,Lt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ot=J.fn.load,At={},It={},zt=["*/"]+["*"];try{_t=q.href}catch(Ft){_t=X.createElement("a"),_t.href="",_t=_t.href}kt=Lt.exec(_t.toLowerCase())||[],J.fn.load=function(e,n,r){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);if(!this.length)return this;var i,a,o,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),J.isFunction(n)?(r=n,n=t):"object"==typeof n&&(a="POST"),J.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,s.html(i?J("<div>").append(e.replace(Mt,"")).find(i):e)}),this},J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.each(["get","post"],function(e,n){J[n]=function(e,r,i,a){return J.isFunction(r)&&(a=a||i,i=r,r=t),J.ajax({type:n,url:e,data:r,success:i,dataType:a})}}),J.extend({getScript:function(e,n){return J.get(e,t,n,"script")},getJSON:function(e,t,n){return J.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?T(e,J.ajaxSettings):(t=e,e=J.ajaxSettings),T(e,t),e},ajaxSettings:{url:_t,isLocal:Ct.test(kt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":zt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:k(At),ajaxTransport:k(It),ajax:function(e,n){function r(e,n,r,o){var u,d,m,x,w,_=n;2!==b&&(b=2,l&&clearTimeout(l),s=t,a=o||"",E.readyState=e>0?4:0,r&&(x=C(h,E,r)),e>=200&&300>e||304===e?(h.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(J.lastModified[i]=w),w=E.getResponseHeader("Etag"),w&&(J.etag[i]=w)),304===e?(_="notmodified",u=!0):(u=D(h,x),_=u.state,d=u.data,m=u.error,u=!m)):(m=_,(!_||e)&&(_="error",0>e&&(e=0))),E.status=e,E.statusText=""+(n||_),u?v.resolveWith(p,[d,_,E]):v.rejectWith(p,[E,_,m]),E.statusCode(y),y=t,c&&f.trigger("ajax"+(u?"Success":"Error"),[E,h,u?d:m]),g.fireWith(p,[E,_]),c&&(f.trigger("ajaxComplete",[E,h]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,o,s,l,u,c,d,h=J.ajaxSetup({},n),p=h.context||h,f=p!==h&&(p.nodeType||p instanceof J)?J(p):J.event,v=J.Deferred(),g=J.Callbacks("once memory"),y=h.statusCode||{},m={},x={},b=0,w="canceled",E={readyState:0,setRequestHeader:function(e,t){if(!b){var n=e.toLowerCase();e=x[n]=x[n]||e,m[e]=t}return this},getAllResponseHeaders:function(){return 2===b?a:null},getResponseHeader:function(e){var n;if(2===b){if(!o)for(o={};n=Tt.exec(a);)o[n[1].toLowerCase()]=n[2];n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return b||(h.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(v.promise(E),E.success=E.done,E.error=E.fail,E.complete=g.add,E.statusCode=function(e){if(e){var t;if(2>b)for(t in e)y[t]=[y[t],e[t]];else t=e[E.status],E.always(t)}return this},h.url=((e||h.url)+"").replace(St,"").replace(Nt,kt[1]+"//"),h.dataTypes=J.trim(h.dataType||"*").toLowerCase().split(te),null==h.crossDomain&&(u=Lt.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]==kt[1]&&u[2]==kt[2]&&(u[3]||("http:"===u[1]?80:443))==(kt[3]||("http:"===kt[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=J.param(h.data,h.traditional)),S(At,h,n,E),2===b)return E;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Dt.test(h.type),c&&0===J.active++&&J.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Pt.test(h.url)?"&":"?")+h.data,delete h.data),i=h.url,h.cache===!1)){var _=J.now(),k=h.url.replace(Bt,"$1_="+_);h.url=k+(k===h.url?(Pt.test(h.url)?"&":"?")+"_="+_:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(i=i||h.url,J.lastModified[i]&&E.setRequestHeader("If-Modified-Since",J.lastModified[i]),J.etag[i]&&E.setRequestHeader("If-None-Match",J.etag[i])),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zt+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)E.setRequestHeader(d,h.headers[d]);if(!h.beforeSend||h.beforeSend.call(p,E,h)!==!1&&2!==b){w="abort";for(d in{success:1,error:1,complete:1})E[d](h[d]);if(s=S(It,h,n,E)){E.readyState=1,c&&f.trigger("ajaxSend",[E,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){E.abort("timeout")},h.timeout));try{b=1,s.send(m,r)}catch(T){if(!(2>b))throw T;r(-1,T)}}else r(-1,"No Transport");return E}return E.abort()},active:0,lastModified:{},etag:{}});var Rt=[],jt=/\?/,Xt=/(=)\?(?=&|$)|\?\?/,qt=J.now();J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||J.expando+"_"+qt++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(n,r,i){var a,o,s,l=n.data,u=n.url,c=n.jsonp!==!1,d=c&&Xt.test(u),h=c&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(l);return"jsonp"===n.dataTypes[0]||d||h?(a=n.jsonpCallback=J.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[a],d?n.url=u.replace(Xt,"$1"+a):h?n.data=l.replace(Xt,"$1"+a):c&&(n.url+=(jt.test(u)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||J.error(a+" was not called"),s[0]},n.dataTypes[0]="json",e[a]=function(){s=arguments},i.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=r.jsonpCallback,Rt.push(a)),s&&J.isFunction(o)&&o(s[0]),s=o=t}),"script"):void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),J.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=X.head||X.getElementsByTagName("head")[0]||X.documentElement;return{send:function(i,a){n=X.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||a(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vt,$t=e.ActiveXObject?function(){for(var e in Vt)Vt[e](0,1)}:!1,Yt=0;J.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&N()||P()}:N,function(e){J.extend(J.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(n){if(!n.crossDomain||J.support.cors){var r;return{send:function(i,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,d,h;try{if(r&&(i||4===l.readyState))if(r=t,o&&(l.onreadystatechange=J.noop,$t&&delete Vt[o]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h);try{d.text=l.responseText}catch(e){}try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(f){i||a(-1,f)}d&&a(s,u,d,c)},n.async?4===l.readyState?setTimeout(r,0):(o=++Yt,$t&&(Vt||(Vt={},J(e).unload($t)),Vt[o]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Ht,Wt,Ut=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([-+])=|)("+Q+")([a-z%]*)$","i"),Gt=/queueHooks$/,Kt=[A],Jt={"*":[function(e,t){var n,r,i,a=this.createTween(e,t),o=Zt.exec(t),s=a.cur(),l=+s||0,u=1;if(o){if(n=+o[2],r=o[3]||(J.cssNumber[e]?"":"px"),"px"!==r&&l){l=J.css(a.elem,e,!0)||n||1;do i=u=u||".5",l/=u,J.style(a.elem,e,l+r),u=a.cur()/s;while(1!==u&&u!==i)}a.unit=r,a.start=l,a.end=o[1]?l+(o[1]+1)*n:n}return a}]};J.Animation=J.extend(L,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Jt[n]=Jt[n]||[],Jt[n].unshift(t)},prefilter:function(e,t){t?Kt.unshift(e):Kt.push(e)}}),J.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(J.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration),this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.each(["toggle","show","hide"],function(e,t){var n=J.fn[t];J.fn[t]=function(r,i,a){return null==r||"boolean"==typeof r||!e&&J.isFunction(r)&&J.isFunction(i)?n.apply(this,arguments):this.animate(z(t,!0),r,i,a)}}),J.fn.extend({fadeTo:function(e,t,n,r){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=J.isEmptyObject(e),a=J.speed(t,n,r),o=function(){var t=L(this,J.extend({},e),a);i&&t.stop(!0)};return i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=J.timers,o=J._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Gt.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem===this&&(null==e||a[n].queue===e)&&(a[n].anim.stop(r),t=!1,a.splice(n,1));(t||!r)&&J.dequeue(this,e)})}}),J.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),J.speed=function(e,t,n){var r=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return r.duration=J.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in J.fx.speeds?J.fx.speeds[r.duration]:J.fx.speeds._default,
(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){J.isFunction(r.old)&&r.old.call(this),r.queue&&J.dequeue(this,r.queue)},r},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.timers=[],J.fx=I.prototype.init,J.fx.tick=function(){for(var e,t=J.timers,n=0;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||J.fx.stop()},J.fx.timer=function(e){e()&&J.timers.push(e)&&!Wt&&(Wt=setInterval(J.fx.tick,J.fx.interval))},J.fx.interval=13,J.fx.stop=function(){clearInterval(Wt),Wt=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fx.step={},J.expr&&J.expr.filters&&(J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length});var Qt=/^(?:body|html)$/i;J.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){J.offset.setOffset(this,e,t)});var n,r,i,a,o,s,l,u,c,d,h=this[0],p=h&&h.ownerDocument;if(p)return(i=p.body)===h?J.offset.bodyOffset(h):(r=p.documentElement,J.contains(r,h)?(n=h.getBoundingClientRect(),a=F(p),o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,l=a.pageYOffset||r.scrollTop,u=a.pageXOffset||r.scrollLeft,c=n.top+l-o,d=n.left+u-s,{top:c,left:d}):{top:0,left:0})},J.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return J.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(J.css(e,"marginTop"))||0,n+=parseFloat(J.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=J.css(e,"position");"static"===r&&(e.style.position="relative");var i,a,o=J(e),s=o.offset(),l=J.css(e,"top"),u=J.css(e,"left"),c=("absolute"===r||"fixed"===r)&&J.inArray("auto",[l,u])>-1,d={},h={};c?(h=o.position(),i=h.top,a=h.left):(i=parseFloat(l)||0,a=parseFloat(u)||0),J.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):o.css(d)}},J.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=Qt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(J.css(e,"marginTop"))||0,n.left-=parseFloat(J.css(e,"marginLeft"))||0,r.top+=parseFloat(J.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(J.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||X.body;e&&!Qt.test(e.nodeName)&&"static"===J.css(e,"position");)e=e.offsetParent;return e||X.body})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);J.fn[e]=function(i){return J.access(this,function(e,i,a){var o=F(e);return a===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(r?J(o).scrollLeft():a,r?a:J(o).scrollTop()):e[i]=a)},e,i,arguments.length,null)}}),J.each({Height:"height",Width:"width"},function(e,n){J.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){J.fn[i]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||a===!0?"margin":"border");return J.access(this,function(n,r,i){var a;return J.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):i===t?J.css(n,r,i,s):J.style(n,r,i,s)},n,o?i:t,o)}})}),e.jQuery=e.$=J,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return J})}(window);var cytoscape;!function(e){"use strict";var t=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};t.version="2.4.0",t.init=function(e){return void 0===e&&(e={}),t.is.plainObject(e)?new t.Core(e):t.is.string(e)?t.extension.apply(t.extension,arguments):void 0},t.fn={},"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape),"undefined"!=typeof define&&define.amd&&define("cytoscape",function(){return cytoscape}),e&&(e.cytoscape=cytoscape)}("undefined"==typeof window?null:window),this.cytoscape=cytoscape,function(e){"use strict";var t=0,n=1,r=2,i=function(e){return this instanceof i?(this.id="Thenable/1.0.7",this.state=t,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new i(e)};i.prototype={fulfill:function(e){return a(this,n,"fulfillValue",e)},reject:function(e){return a(this,r,"rejectReason",e)},then:function(e,t){var n=this,r=new i;return n.onFulfilled.push(l(e,r,"fulfill")),n.onRejected.push(l(t,r,"reject")),o(n),r.proxy}};var a=function(e,n,r,i){return e.state===t&&(e.state=n,e[r]=i,o(e)),e},o=function(e){e.state===n?s(e,"onFulfilled",e.fulfillValue):e.state===r&&s(e,"onRejected",e.rejectReason)},s=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(i):"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(a){return void t.reject(a)}u(t,i)}}},u=function(e,t){if(e===t||e.proxy===t)return void e.reject(new TypeError("cannot resolve promise with itself"));var n;if("object"==typeof t&&null!==t||"function"==typeof t)try{n=t.then}catch(r){return void e.reject(r)}if("function"!=typeof n)e.fulfill(t);else{var i=!1;try{n.call(t,function(n){i||(i=!0,n===t?e.reject(new TypeError("circular thenable chain")):u(e,n))},function(t){i||(i=!0,e.reject(t))})}catch(r){i||e.reject(r)}}};e.Promise="undefined"==typeof Promise?i:Promise,e.Promise.all=e.Promise.all||function(t){return new e.Promise(function(e,n){for(var r=new Array(t.length),i=0,a=function(n,a){r[n]=a,i++,i===t.length&&e(r)},o=0;o<t.length;o++)!function(e){var r=t[e],i=null!=r.then;if(i)r.then(function(t){a(e,t)},function(e){n(e)});else{var o=r;a(e,o)}}(o)})}}(cytoscape),function(e,t){"use strict";var n="string",r=typeof{},i="function";e.is={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==n},fn:function(e){return null!=e&&typeof e===i},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(t){return null!=t&&typeof t===r&&!e.is.array(t)&&t.constructor===Object},object:function(e){return null!=e&&typeof e===r},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(t){return e.is.number(t)&&Math.floor(t)===t},color:function(e){return null!=e&&"string"==typeof e&&""!==$.Color(e).toString()},bool:function(e){return null!=e&&typeof e==typeof!0},elementOrCollection:function(t){return e.is.element(t)||e.is.collection(t)},element:function(t){return t instanceof e.Element&&t._private.single},collection:function(t){return t instanceof e.Collection&&!t._private.single},core:function(t){return t instanceof e.Core},style:function(t){return t instanceof e.Style},stylesheet:function(t){return t instanceof e.Stylesheet},event:function(t){return t instanceof e.Event},thread:function(t){return t instanceof e.Thread},fabric:function(t){return t instanceof e.Fabric},emptyString:function(t){return t?e.is.string(t)&&(""===t||t.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(t){return t&&e.is.string(t)&&""!==t&&!t.match(/^\s+$/)?!0:!1},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(t){return e.is.plainObject(t)&&e.is.number(t.x1)&&e.is.number(t.x2)&&e.is.number(t.y1)&&e.is.number(t.y2)},promise:function(t){return e.is.object(t)&&e.is.fn(t.then)},touch:function(){return t&&("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return e.is.khtml()||e.is.webkit()||e.is.blink()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.util={extend:function(){var t,n,r,i,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||e.is.fn(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(n in t)r=s[n],i=t[n],s!==i&&(c&&i&&(e.is.plainObject(i)||(a=e.is.array(i)))?(a?(a=!1,o=r&&e.is.array(r)?r:[]):o=r&&e.is.plainObject(r)?r:{},s[n]=e.util.extend(c,o,i)):void 0!==i&&(s[n]=i));return s},require:function(n,r,i){var a;i=e.util.extend({msgIfNotFound:!0},i);var o=!1,s=function(e){o=!0,r(e)},l=function(e){t&&(a=t[n]),void 0!==a&&s(a),e&&e()},u=function(){o||c(d)},c=function(e){"undefined"!=typeof module&&module.exports&&require&&(a=require(n)),void 0!==a&&s(a),e&&e()},d=function(){o||h(p)},h=function(e){"undefined"!=typeof define&&define.amd&&require&&require([n],function(t){a=t,void 0!==a&&s(a),e&&e()})},p=function(){!o&&i.msgIfNotFound&&e.util.error("Cytoscape.js tried to pull in dependency `"+n+"` but no module (i.e. CommonJS, AMD, or window) was found")};l(u)},requires:function(t,n){for(var r=[],i=[],a=function(){for(var e=0;e<t.length;e++)if(!i[e])return;n.apply(n,r)},o=0;o<t.length;o++)!function(){var n=t[o],s=o;e.util.require(n,function(e){r[s]=e,i[s]=!0,a()})}()},throttle:function(t,n,r){var i=!0,a=!0;return r===!1?i=!1:e.is.plainObject(r)&&(i="leading"in r?r.leading:i,a="trailing"in r?r.trailing:a),r=r||{},r.leading=i,r.maxWait=n,r.trailing=a,e.util.debounce(t,n,r)},now:function(){return+new Date},debounce:function(t,n,r){var i,a,o,s,l,u,c,d=0,h=!1,p=!0;if(e.is.fn(t)){if(n=Math.max(0,n)||0,r===!0){var f=!0;p=!1}else e.is.plainObject(r)&&(f=r.leading,h="maxWait"in r&&(Math.max(n,r.maxWait)||0),p="trailing"in r?r.trailing:p);var v=function(){var r=n-(e.util.now()-s);if(0>=r){a&&clearTimeout(a);var h=c;a=u=c=void 0,h&&(d=e.util.now(),o=t.apply(l,i),u||a||(i=l=null))}else u=setTimeout(v,r)},g=function(){u&&clearTimeout(u),a=u=c=void 0,(p||h!==n)&&(d=e.util.now(),o=t.apply(l,i),u||a||(i=l=null))};return function(){if(i=arguments,s=e.util.now(),l=this,c=p&&(u||!f),h===!1)var r=f&&!u;else{a||f||(d=s);var y=h-(s-d),m=0>=y;m?(a&&(a=clearTimeout(a)),d=s,o=t.apply(l,i)):a||(a=setTimeout(g,y))}return m&&u?u=clearTimeout(u):u||n===h||(u=setTimeout(v,n)),r&&(m=!0,o=t.apply(l,i)),!m||u||a||(i=l=null),o}}},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}},clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},copy:function(t){return null==t?t:e.is.array(t)?t.slice():e.is.plainObject(t)?e.util.clone(t):t},makeBoundingBox:function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mapEmpty:function(e){var t=!0;if(null!=e)for(var n in e){t=!1;break}return t},pushMap:function(t){var n=e.util.getMap(t);null==n?e.util.setMap($.extend({},t,{value:[t.value]})):n.push(t.value)},setMap:function(t){for(var n,r=t.map,i=t.keys,a=i.length,o=0;a>o;o++){var n=i[o];e.is.plainObject(n)&&e.util.error("Tried to set map with object key"),o<i.length-1?(null==r[n]&&(r[n]={}),r=r[n]):r[n]=t.value}},getMap:function(t){for(var n=t.map,r=t.keys,i=r.length,a=0;i>a;a++){var o=r[a];if(e.is.plainObject(o)&&e.util.error("Tried to get map with object key"),n=n[o],null==n)return n}return n},deleteMap:function(t){for(var n=t.map,r=t.keys,i=r.length,a=t.keepChildren,o=0;i>o;o++){var s=r[o];e.is.plainObject(s)&&e.util.error("Tried to delete map with object key");var l=o===t.keys.length-1;if(l)if(a)for(var u in n)a[u]||(n[u]=void 0);else n[s]=void 0;else n=n[s]}},capitalize:function(t){return e.is.emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},camel2dash:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=r.toLowerCase(),a=r!==i;a?(t.push("-"),t.push(i)):t.push(r)}var o=t.length===e.length;return o?e:t.join("")},dash2camel:function(e){for(var t=[],n=!1,r=0;r<e.length;r++){var i=e[r],a="-"===i;a?n=!0:(t.push(n?i.toUpperCase():i),n=!1)}return t.join("")},trim:function(e){var t,n;for(t=0;t<e.length&&" "===e[t];t++);for(n=e.length-1;n>t&&" "===e[n];n--);return e.substring(t,n+1)},hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=4===e.length,a=16;return i?(t=parseInt(e[1]+e[1],a),n=parseInt(e[2]+e[2],a),r=parseInt(e[3]+e[3],a)):(t=parseInt(e[1]+e[2],a),n=parseInt(e[3]+e[4],a),r=parseInt(e[5]+e[6],a)),[t,n,r]}},hsl2tuple:function(t){function n(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}var r,i,a,o,s,l,u,c,d=new RegExp("^"+e.util.regex.hsla+"$").exec(t);if(d){if(i=parseInt(d[1]),0>i?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,a=parseFloat(d[2]),0>a||a>100)return;if(a/=100,o=parseFloat(d[3]),0>o||o>100)return;if(o/=100,s=d[4],void 0!==s&&(s=parseFloat(s),0>s||s>1))return;if(0===a)l=u=c=Math.round(255*o);else{var h=.5>o?o*(1+a):o+a-o*a,p=2*o-h;l=Math.round(255*n(p,h,i+1/3)),u=Math.round(255*n(p,h,i)),c=Math.round(255*n(p,h,i-1/3))}r=[l,u,c,s]}return r},rgb2tuple:function(t){var n,r=new RegExp("^"+e.util.regex.rgba+"$").exec(t);if(r){n=[];for(var i=[],a=1;3>=a;a++){var o=r[a];if("%"===o[o.length-1]&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),0>o||o>255)return;n.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=r[4];if(void 0!==u){if(u=parseFloat(u),0>u||u>1)return;n.push(u)}}return n},colorname2tuple:function(t){return e.util.colors[t.toLowerCase()]},color2tuple:function(t){return(e.is.array(t)?t:null)||e.util.colorname2tuple(t)||e.util.hex2tuple(t)||e.util.rgb2tuple(t)||e.util.hsl2tuple(t)},tuple2hex:function(e){function t(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}var n=e[0],r=e[1],i=e[2];return"#"+t(n)+t(r)+t(i)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},e.util.regex={},e.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",e.util.regex.rgba="rgb[a]?\\(("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hsla="hsl[a]?\\(("+e.util.regex.number+")\\s*,\\s*("+e.util.regex.number+"[%])\\s*,\\s*("+e.util.regex.number+"[%])(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+e.util.regex.number+")\\s*,\\s*(?:"+e.util.regex.number+"[%])\\s*,\\s*(?:"+e.util.regex.number+"[%])(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hex3="\\#[0-9a-fA-F]{3}",e.util.regex.hex6="\\#[0-9a-fA-F]{6}";var n=t?t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame:null;n=n||function(e){e&&setTimeout(e,1e3/60)},e.util.requestAnimationFrame=function(e){n(e)}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.math={},e.math.signum=function(e){return e>0?1:0>e?-1:0},e.math.distance=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},e.math.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},e.math.qbezierPtAt=function(t,n,r,i){return{x:e.math.qbezierAt(t.x,n.x,r.x,i),y:e.math.qbezierAt(t.y,n.y,r.y,i)}},e.math.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:t.y1>e.y2?!1:!0},e.math.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},e.math.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},e.math.roundRectangleIntersectLine=function(e,t,n,r,i,a,o){var s,l=this.getRoundRectangleRadius(i,a),u=i/2,c=a/2,d=n-u+l-o,h=r-c-o,p=n+u-l+o,f=h;if(s=this.finiteLinesIntersect(e,t,n,r,d,h,p,f,!1),s.length>0)return s;var v=n+u+o,g=r-c+l-o,y=v,m=r+c-l+o;if(s=this.finiteLinesIntersect(e,t,n,r,v,g,y,m,!1),s.length>0)return s;var x=n-u+l-o,b=r+c+o,w=n+u-l+o,E=b;if(s=this.finiteLinesIntersect(e,t,n,r,x,b,w,E,!1),s.length>0)return s;var _=n-u-o,k=r-c+l-o,S=_,T=r+c-l+o;if(s=this.finiteLinesIntersect(e,t,n,r,_,k,S,T,!1),s.length>0)return s;var C,D=n-u+l,N=r-c+l;if(C=this.intersectLineCircle(e,t,n,r,D,N,l+o),C.length>0&&C[0]<=D&&C[1]<=N)return[C[0],C[1]];var P=n+u-l,M=r-c+l;if(C=this.intersectLineCircle(e,t,n,r,P,M,l+o),C.length>0&&C[0]>=P&&C[1]<=M)return[C[0],C[1]];var B=n+u-l,L=r+c-l;if(C=this.intersectLineCircle(e,t,n,r,B,L,l+o),C.length>0&&C[0]>=B&&C[1]>=L)return[C[0],C[1]];var O=n-u+l,A=r+c-l;return C=this.intersectLineCircle(e,t,n,r,O,A,l+o),C.length>0&&C[0]<=O&&C[1]>=A?[C[0],C[1]]:[]},e.math.roundRectangleIntersectBox=function(e,t,n,r,i,a,o,s,l){var u=this.getRoundRectangleRadius(i,a),c=o-i/2-l,d=s-a/2+u-l,h=o+i/2+l,p=s+a/2-u+l,f=o-i/2+u-l,v=s-a/2-l,g=o+i/2-u+l,y=s+a/2+l,m=Math.min(e,n),x=Math.max(e,n),b=Math.min(t,r),w=Math.max(t,r);return c>x?!1:m>h?!1:v>w?!1:b>y?!1:c>=m&&x>=c&&d>=b&&w>=d?!0:h>=m&&x>=h&&d>=b&&w>=d?!0:h>=m&&x>=h&&p>=b&&w>=p?!0:c>=m&&x>=c&&p>=b&&w>=p?!0:m>=c&&h>=m&&b>=d&&p>=b?!0:x>=c&&h>=x&&b>=d&&p>=b?!0:x>=c&&h>=x&&w>=d&&p>=w?!0:m>=c&&h>=m&&w>=d&&p>=w?!0:f>=m&&x>=f&&v>=b&&w>=v?!0:g>=m&&x>=g&&v>=b&&w>=v?!0:g>=m&&x>=g&&y>=b&&w>=y?!0:f>=m&&x>=f&&y>=b&&w>=y?!0:m>=f&&g>=m&&b>=v&&y>=b?!0:x>=f&&g>=x&&b>=v&&y>=b?!0:x>=f&&g>=x&&w>=v&&y>=w?!0:m>=f&&g>=m&&w>=v&&y>=w?!0:this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,f+l,d+l)?!0:this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,g-l,d+l)?!0:this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,g-l,p-l)?!0:this.boxIntersectEllipse(m,b,x,w,l,2*u,2*u,f+l,p-l)?!0:!1},e.math.checkInBoundingCircle=function(e,t,n,r,i,a,o,s){return e=(e-o)/(i+r),t=(t-s)/(a+r),n>=e*e+t*t},e.math.boxInBezierVicinity=function(e,t,n,r,i,a,o,s,l,u,c){var d=.25*i+.5*o+.25*l,h=.25*a+.5*s+.25*u,p=Math.min(e,n)-c,f=Math.min(t,r)-c,v=Math.max(e,n)+c,g=Math.max(t,r)+c;if(i>=p&&v>=i&&a>=f&&g>=a)return 1;if(l>=p&&v>=l&&u>=f&&g>=u)return 1;if(d>=p&&v>=d&&h>=f&&g>=h)return 1;if(o>=p&&v>=o&&s>=f&&g>=s)return 1;var y=Math.min(i,d,l),m=Math.min(a,h,u),x=Math.max(i,d,l),b=Math.max(a,h,u);return y>v||p>x||m>g||f>b?0:1},e.math.checkBezierInBox=function(t,n,r,i,a,o,s,l,u,c,d){function h(d){var h=e.math.qbezierAt(a,s,u,d),p=e.math.qbezierAt(o,l,c,d);return h>=t&&r>=h&&p>=n&&i>=p}for(var p=0;1>=p;p+=.25)if(!h(p))return!1;return!0},e.math.checkStraightEdgeInBox=function(e,t,n,r,i,a,o,s,l){return i>=e&&n>=i&&o>=e&&n>=o&&a>=t&&r>=a&&s>=t&&r>=s},e.math.checkStraightEdgeCrossesBox=function(e,t,n,r,i,a,o,s,l){var u,c,d=Math.min(e,n)-l,h=Math.min(t,r)-l,p=Math.max(e,n)+l,f=Math.max(t,r)+l,v=o-i,g=i,y=s-a,m=a;if(Math.abs(v)<1e-4)return i>=d&&p>=i&&Math.min(a,s)<=h&&Math.max(a,s)>=f;var x=(d-g)/v;if(x>0&&1>=x&&(u=y*x+m,u>=h&&f>=u))return!0;var b=(p-g)/v;if(b>0&&1>=b&&(u=y*b+m,u>=h&&f>=u))return!0;var w=(h-m)/y;if(w>0&&1>=w&&(c=v*w+g,c>=d&&p>=c))return!0;var E=(f-m)/y;return E>0&&1>=E&&(c=v*E+g,c>=d&&p>=c)?!0:!1},e.math.checkBezierCrossesBox=function(e,t,n,r,i,a,o,s,l,u,c){var d=Math.min(e,n)-c,h=Math.min(t,r)-c,p=Math.max(e,n)+c,f=Math.max(t,r)+c;if(i>=d&&p>=i&&a>=h&&f>=a)return!0;if(l>=d&&p>=l&&u>=h&&f>=u)return!0;var v=i-2*o+l,g=-2*i+2*o,y=i,m=[];if(Math.abs(v)<1e-4){var x=(d-i)/g,b=(p-i)/g;m.push(x,b)}else{var w,E,_=g*g-4*v*(y-d);if(_>0){var k=Math.sqrt(_);w=(-g+k)/(2*v),E=(-g-k)/(2*v),m.push(w,E)}var S,T,C=g*g-4*v*(y-p);if(C>0){var k=Math.sqrt(C);S=(-g+k)/(2*v),T=(-g-k)/(2*v),m.push(S,T)}}m.sort(function(e,t){return e-t});var D=a-2*s+u,N=-2*a+2*s,P=a,M=[];if(Math.abs(D)<1e-4){var B=(h-a)/N,L=(f-a)/N;M.push(B,L)}else{var O,A,I=N*N-4*D*(P-h);if(I>0){var k=Math.sqrt(I);O=(-N+k)/(2*D),A=(-N-k)/(2*D),M.push(O,A)}var z,F,R=N*N-4*D*(P-f);if(R>0){var k=Math.sqrt(R);z=(-N+k)/(2*D),F=(-N-k)/(2*D),M.push(z,F)}}M.sort(function(e,t){return e-t});for(var j=0;j<m.length;j+=2)for(var X=1;X<M.length;X+=2)if(m[j]<M[X]&&M[X]>=0&&m[j]<=1&&m[j+1]>M[X-1]&&M[X-1]<=1&&m[j+1]>=0)return!0;return!1},e.math.inLineVicinity=function(e,t,n,r,i,a,o){var s=o,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,a),d=Math.max(r,a);return e>=l-s&&u+s>=e&&t>=c-s&&d+s>=t},e.math.inBezierVicinity=function(e,t,n,r,i,a,o,s,l){var u={x1:Math.min(n,o,i),x2:Math.max(n,o,i),y1:Math.min(r,s,a),y2:Math.max(r,s,a)};return e<u.x1||e>u.x2||t<u.y1||t>u.y2?!1:!0},e.math.solveCubic=function(e,t,n,r,i){t/=e,n/=e,r/=e;var a,o,s,l,u,c,d,h;return o=(3*n-t*t)/9,s=-(27*r)+t*(9*n-2*t*t),s/=54,a=o*o*o+s*s,i[1]=0,d=t/3,a>0?(u=s+Math.sqrt(a),u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3),c=s-Math.sqrt(a),c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===a?(h=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=-d+2*h,void(i[4]=i[2]=-(h+d))):(o=-o,l=o*o*o,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(o),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(i[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},e.math.sqDistanceToQuadraticBezier=function(e,t,n,r,i,a,o,s){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,u=9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,c=3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,d=1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,h=[];this.solveCubic(l,u,c,d,h);for(var p=1e-7,f=[],v=0;6>v;v+=2)Math.abs(h[v+1])<p&&h[v]>=0&&h[v]<=1&&f.push(h[v]);f.push(1),f.push(0);for(var g,y,m,x,b=-1,w=0;w<f.length;w++)y=Math.pow(1-f[w],2)*n+2*(1-f[w])*f[w]*i+f[w]*f[w]*o,m=Math.pow(1-f[w],2)*r+2*(1-f[w])*f[w]*a+f[w]*f[w]*s,x=Math.pow(y-e,2)+Math.pow(m-t,2),b>=0?b>x&&(b=x,g=f[w]):(b=x,g=f[w]);return b},e.math.sqDistanceToFiniteLine=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/l;return 0>c?u:d>l?(e-i)*(e-i)+(t-a)*(t-a):u-d},e.math.pointInsidePolygon=function(e,t,n,r,i,a,o,s,l){var u=new Array(n.length),c=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2;for(var d=Math.cos(-c),h=Math.sin(-c),p=0;p<u.length/2;p++)u[2*p]=a/2*(n[2*p]*d-n[2*p+1]*h),u[2*p+1]=o/2*(n[2*p+1]*d+n[2*p]*h),u[2*p]+=r,u[2*p+1]+=i;var f;if(l>0){var v=this.expandPolygon(u,-l);f=this.joinLines(v)}else f=u;for(var g,y,m,x,b,w=0,E=0,p=0;p<f.length/2;p++)if(g=f[2*p],y=f[2*p+1],p+1<f.length/2?(m=f[2*(p+1)],x=f[2*(p+1)+1]):(m=f[2*(p+1-f.length/2)],x=f[2*(p+1-f.length/2)+1]),g==e&&m==e);else{if(!(g>=e&&e>=m||e>=g&&m>=e))continue;b=(e-g)/(m-g)*(x-y)+y,b>t&&w++,t>b&&E++}return w%2===0?!1:!0},e.math.joinLines=function(e){for(var t,n,r,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],o=e[4*(c+1)+1],s=e[4*(c+1)+2],l=e[4*(c+1)+3]):(a=e[0],o=e[1],s=e[2],l=e[3]);var d=this.finiteLinesIntersect(t,n,r,i,a,o,s,l,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},e.math.expandPolygon=function(e,t){for(var n,r,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var l=a-r,u=-(i-n),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;o[4*s]=n+d*t,o[4*s+1]=r+h*t,o[4*s+2]=i+d*t,o[4*s+3]=a+h*t}return o},e.math.intersectLineEllipse=function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(0>u)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]},e.math.dotProduct=function(e,t){if(2!=e.length||2!=t.length)throw"dot product: arguments are not vectors";return e[0]*t[0]+e[1]*t[1]},e.math.intersectLineCircle=function(e,t,n,r,i,a,o){var s=[n-e,r-t],l=[i,a],u=[e-i,t-a],c=s[0]*s[0]+s[1]*s[1],d=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-o*o,h=d*d-4*c*l;if(0>h)return[];var p=(-d+Math.sqrt(h))/(2*c),f=(-d-Math.sqrt(h))/(2*c),v=Math.min(p,f),g=Math.max(p,f),y=[];if(v>=0&&1>=v&&y.push(v),g>=0&&1>=g&&y.push(g),0===y.length)return[];var m=y[0]*s[0]+e,x=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,x];var b=y[1]*s[0]+e,w=y[1]*s[1]+t;return[m,x,b,w]}return[m,x]},e.math.findCircleNearPoint=function(e,t,n,r,i){var a=r-e,o=i-t,s=Math.sqrt(a*a+o*o),l=a/s,u=o/s;return[e+l*n,t+u*n]},e.math.findMaxSqDistanceToOrigin=function(e){for(var t,n=1e-6,r=0;r<e.length/2;r++)t=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1],t>n&&(n=t);return n},e.math.finiteLinesIntersect=function(e,t,n,r,i,a,o,s,l){var u=(o-i)*(t-a)-(s-a)*(e-i),c=(n-e)*(t-a)-(r-t)*(e-i),d=(s-a)*(n-e)-(o-i)*(r-t);if(0!==d){var h=u/d,p=c/d;return h>=0&&1>=h&&p>=0&&1>=p?[e+h*(n-e),t+h*(r-t)]:l?[e+h*(n-e),t+h*(r-t)]:[]}return 0===u||0===c?[e,n,o].sort()[1]===o?[o,s]:[e,n,i].sort()[1]===i?[i,a]:[i,o,n].sort()[1]===n?[n,r]:[]:[]},e.math.boxIntersectEllipse=function(e,t,n,r,i,a,o,s,l){if(e>n){var u=e;e=n,n=u}if(t>r){var c=t;t=r,r=c}var d=[s-a/2-i,l],h=[s+a/2+i,l],p=[s,l-o/2-i],f=[s,l+o/2+i];return n<d[0]?!1:e>h[0]?!1:t>f[1]?!1:r<p[1]?!1:e<=h[0]&&h[0]<=n&&t<=h[1]&&h[1]<=r?!0:e<=d[0]&&d[0]<=n&&t<=d[1]&&d[1]<=r?!0:e<=p[0]&&p[0]<=n&&t<=p[1]&&p[1]<=r?!0:e<=f[0]&&f[0]<=n&&t<=f[1]&&f[1]<=r?!0:(e=(e-s)/(a/2+i),n=(n-s)/(a/2+i),t=(t-l)/(o/2+i),r=(r-l)/(o/2+i),1>=e*e+t*t?!0:1>=n*n+t*t?!0:1>=n*n+r*r?!0:1>=e*e+r*r?!0:!1)},e.math.boxIntersectPolygon=function(t,n,r,i,a,o,s,l,u,c,d){if(t>r){var h=t;t=r,r=h}if(n>i){var p=n;n=i,i=p}var f=new Array(a.length),v=Math.asin(c[1]/Math.sqrt(c[0]*c[0]+c[1]*c[1]));c[0]<0?v+=Math.PI/2:v=-v-Math.PI/2;for(var g=Math.cos(-v),y=Math.sin(-v),m=0;m<f.length/2;m++)f[2*m]=o/2*(a[2*m]*g-a[2*m+1]*y),f[2*m+1]=s/2*(a[2*m+1]*g+a[2*m]*y),f[2*m]+=l,f[2*m+1]+=u;for(var x=f[0],b=f[0],w=f[1],E=f[1],m=1;m<f.length/2;m++)f[2*m]>b&&(b=f[2*m]),f[2*m]<x&&(x=f[2*m]),f[2*m+1]>E&&(E=f[2*m+1]),f[2*m+1]<w&&(w=f[2*m+1]);if(x-d>r)return!1;if(t>b+d)return!1;if(w-d>i)return!1;if(n>E+d)return!1;var _;if(d>0){var k=e.math.expandPolygon(f,-d);_=e.math.joinLines(k)}else _=f;for(var m=0;m<f.length/2;m++)if(t<=f[2*m]&&f[2*m]<=r&&n<=f[2*m+1]&&f[2*m+1]<=i)return!0;for(var m=0;m<_.length/2;m++){var S,T,C=_[2*m],D=_[2*m+1];if(m<_.length/2-1?(S=_[2*(m+1)],T=_[2*(m+1)+1]):(S=_[0],T=_[1]),e.math.finiteLinesIntersect(C,D,S,T,t,n,r,n,!1).length>0)return!0;if(e.math.finiteLinesIntersect(C,D,S,T,t,i,r,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(C,D,S,T,t,n,t,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(C,D,S,T,r,n,r,i,!1).length>0)return!0}return!1},e.math.polygonIntersectLine=function(t,n,r,i,a,o,s,l){for(var u,c=[],d=new Array(r.length),h=0;h<d.length/2;h++)d[2*h]=r[2*h]*o+i,d[2*h+1]=r[2*h+1]*s+a;var p;if(l>0){var f=e.math.expandPolygon(d,-l);p=e.math.joinLines(f)}else p=d;for(var v,g,y,m,h=0;h<p.length/2;h++)v=p[2*h],g=p[2*h+1],h<p.length/2-1?(y=p[2*(h+1)],m=p[2*(h+1)+1]):(y=p[0],m=p[1]),u=this.finiteLinesIntersect(t,n,i,a,v,g,y,m),0!==u.length&&c.push(u[0],u[1]);return c},e.math.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return 0>a&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},e.math.generateUnitNgonPointsFitToSquare=function(t,n){var r=e.math.generateUnitNgonPoints(t,n);return r=e.math.fitPolygonToSquare(r)},e.math.fitPolygonToSquare=function(e){for(var t,n,r=e.length/2,i=1/0,a=1/0,o=-(1/0),s=-(1/0),l=0;r>l;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var u=2/(o-i),c=2/(s-a),l=0;r>l;l++)t=e[2*l]=e[2*l]*u,n=e[2*l+1]=e[2*l+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(-1>a)for(var l=0;r>l;l++)n=e[2*l+1]=e[2*l+1]+(-1-a);return e},e.math.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2===0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,a,o,s=new Array(2*e),l=0;e>l;l++)i=l*n+r,a=s[2*l]=Math.cos(i),o=s[2*l+1]=Math.sin(-i);return s},e.math.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)}}(cytoscape),function(e){"use strict";function t(t,n,r){var i={};switch(i[n]=r,t){case"core":case"collection":e.fn[t](i)}if("layout"===t){for(var o=r.prototype,s=["stop"],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this}),o.on=e.define.on({layout:!0}),o.one=e.define.on({layout:!0,unbindSelfOnTrigger:!0}),o.once=e.define.on({layout:!0,unbindAllBindersOnTrigger:!0
}),o.off=e.define.off({layout:!0}),o.trigger=e.define.trigger({layout:!0}),e.define.eventAliasesOn(o)}return e.util.setMap({map:a,keys:[t,n],value:r})}function n(t,n){return e.util.getMap({map:a,keys:[t,n]})}function r(t,n,r,i,a){return e.util.setMap({map:o,keys:[t,n,r,i],value:a})}function i(t,n,r,i){return e.util.getMap({map:o,keys:[t,n,r,i]})}var a={};e.extensions=a;var o={};e.modules=o,e.extension=function(){return 2==arguments.length?n.apply(this,arguments):3==arguments.length?t.apply(this,arguments):4==arguments.length?i.apply(this,arguments):5==arguments.length?r.apply(this,arguments):void e.util.error("Invalid extension access syntax")}}(cytoscape),function(e,t){"use strict";if(e){var n=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t};e.fn.cytoscape=function(r){var i=e(this);if("get"===r)return n(i).cy;if(t.is.fn(r)){var a=r,o=n(i).cy;if(o&&o.isReady())o.trigger("ready",[],a);else{var s=n(i),l=s.readies=s.readies||[];l.push(a)}}else if(t.is.plainObject(r))return i.each(function(){var t=e.extend({},r,{container:e(this)[0]});cytoscape(t)})},e.cytoscape=cytoscape,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)}}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(e){"use strict";function t(){return!1}function n(){return!0}e.Event=function(r,i){return this instanceof e.Event?(r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented?n:t):this.type=r,i&&(this.type=void 0!==i.type?i.type:this.type,this.cy=i.cy,this.cyTarget=i.cyTarget,this.cyPosition=i.cyPosition,this.cyRenderedPosition=i.cyRenderedPosition,this.namespace=i.namespace,this.layout=i.layout,this.data=i.data,this.message=i.message),void(this.timeStamp=r&&r.timeStamp||+new Date)):new e.Event(r,i)},e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=n;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t}}(cytoscape),function(e){"use strict";e.define={data:function(t){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};return t=e.util.extend({},n,t),function(n,r){var i=t,a=this,o=void 0!==a.length,s=o?a:[a],l=o?a[0]:a;if(e.is.string(n)){if(i.allowGetting&&void 0===r){var u;return l&&(u=l._private[i.field][n]),u}if(i.allowSetting&&void 0!==r){var c=!i.immutableKeys[n];if(c){for(var d=0,h=s.length;h>d;d++)i.canSet(s[d])&&(s[d]._private[i.field][n]=r);i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&e.is.plainObject(n)){var p,f,v=n;for(p in v){f=v[p];var c=!i.immutableKeys[p];if(c)for(var d=0,h=s.length;h>d;d++)i.canSet(s[d])&&(s[d]._private[i.field][p]=f)}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&e.is.fn(n)){var g=n;a.bind(i.bindingEvent,g)}else if(i.allowGetting&&void 0===n){var u;return l&&(u=l._private[i.field]),u}return a}},removeData:function(t){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=e.util.extend({},n,t),function(n){var r=t,i=this,a=void 0!==i.length,o=a?i:[i];if(e.is.string(n)){for(var s=n.split(/\s+/),l=s.length,u=0;l>u;u++){var c=s[u];if(!e.is.emptyString(c)){var d=!r.immutableKeys[c];if(d)for(var h=0,p=o.length;p>h;h++)o[h]._private[r.field][c]=void 0}}r.triggerEvent&&i[r.triggerFnName](r.event)}else if(void 0===n){for(var h=0,p=o.length;p>h;h++){var f=o[h]._private[r.field];for(var c in f){var v=!r.immutableKeys[c];v&&(f[c]=void 0)}}r.triggerEvent&&i[r.triggerFnName](r.event)}return i}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(t){var n={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return t=e.util.extend({},n,t),function(n,r,i,a){var o=this,s=void 0!==o.length,l=s?o:[o],u=e.is.string(n),c=t;if(e.is.plainObject(r)?(a=i,i=r,r=void 0):(e.is.fn(r)||r===!1)&&(a=r,i=void 0,r=void 0),(e.is.fn(i)||i===!1)&&(a=i,i=void 0),!e.is.fn(a)&&a!==!1&&u)return o;if(u){var d={};d[n]=a,n=d}for(var h in n)if(a=n[h],a===!1&&(a=e.define.event.falseCallback),e.is.fn(a)){h=h.split(/\s+/);for(var p=0;p<h.length;p++){var f=h[p];if(!e.is.emptyString(f)){var v=f.match(e.define.event.regex);if(v)for(var g=v[1],y=v[2]?v[2]:void 0,m={callback:a,data:i,delegated:r?!0:!1,selector:r,selObj:new e.Selector(r),type:g,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},x=0;x<l.length;x++){var b=l[x]._private;b.listeners=b.listeners||[],b.listeners.push(m)}}}}return o}},eventAliasesOn:function(t){var n=t;n.addListener=n.listen=n.bind=n.on,n.removeListener=n.unlisten=n.unbind=n.off,n.emit=n.trigger,n.pon=n.promiseOn=function(t,n){var r=this,i=Array.prototype.slice.call(arguments,0);return new e.Promise(function(e,t){var n=function(t){r.off.apply(r,o),e(t)},a=i.concat([n]),o=a.concat([]);r.on.apply(r,a)})}},off:function(t){var n={};return t=e.util.extend({},n,t),function(t,n,r){var i=this,a=void 0!==i.length,o=a?i:[i],s=e.is.string(t);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return i}if((e.is.fn(n)||n===!1)&&(r=n,n=void 0),s){var u={};u[t]=r,t=u}for(var c in t){r=t[c],r===!1&&(r=e.define.event.falseCallback),c=c.split(/\s+/);for(var d=0;d<c.length;d++){var h=c[d];if(!e.is.emptyString(h)){var p=h.match(e.define.event.optionalTypeRegex);if(p)for(var f=p[1]?p[1]:void 0,v=p[2]?p[2]:void 0,l=0;l<o.length;l++)for(var g=o[l]._private.listeners=o[l]._private.listeners||[],y=0;y<g.length;y++){var m=g[y],x=!v||v===m.namespace,b=!f||m.type===f,w=!r||r===m.callback,E=x&&b&&w;E&&(g.splice(y,1),y--)}}}}return i}},trigger:function(t){var n={};return t=e.util.extend({},n,t),function(n,r,i){var a=this,o=void 0!==a.length,s=o?a:[a],l=e.is.string(n),u=e.is.plainObject(n),c=e.is.event(n),d=this._private.cy||(e.is.core(this)?this:null),h=d?d.hasCompoundNodes():!1;if(l){var p=n.split(/\s+/);n=[];for(var f=0;f<p.length;f++){var v=p[f];if(!e.is.emptyString(v)){var g=v.match(e.define.event.regex),y=g[1],m=g[2]?g[2]:void 0;n.push({type:y,namespace:m})}}}else if(u){var x=n;n=[x]}r?e.is.array(r)||(r=[r]):r=[];for(var f=0;f<n.length;f++)for(var b=n[f],w=0;w<s.length;w++){var v,E=s[w],_=E._private.listeners=E._private.listeners||[],k=e.is.element(E),S=k||t.layout;if(c?(v=b,v.cyTarget=v.cyTarget||E,v.cy=v.cy||d):v=new e.Event(b,{cyTarget:E,cy:d,namespace:b.namespace}),b.layout&&(v.layout=b.layout),t.layout&&(v.layout=E),v.cyPosition){var T=v.cyPosition,C=d.zoom(),D=d.pan();v.cyRenderedPosition={x:T.x*C+D.x,y:T.y*C+D.y}}i&&(_=[{namespace:v.namespace,type:v.type,callback:i}]);for(var N=0;N<_.length;N++){var P=_[N],M=!P.namespace||P.namespace===v.namespace,B=P.type===v.type,L=P.delegated?E!==v.cyTarget&&e.is.element(v.cyTarget)&&P.selObj.matches(v.cyTarget):!0,O=M&&B&&L;if(O){var A=[v];if(A=A.concat(r),v.data=P.data?P.data:void 0,(P.unbindSelfOnTrigger||P.unbindAllBindersOnTrigger)&&(_.splice(N,1),N--),P.unbindAllBindersOnTrigger)for(var I=P.binders,z=0;z<I.length;z++){var F=I[z];if(F&&F!==E)for(var R=F._private.listeners,j=0;j<R.length;j++){var X=R[j];X===P&&(R.splice(j,1),j--)}}var q=P.delegated?v.cyTarget:E,V=P.callback.apply(q,A);(V===!1||v.isPropagationStopped())&&(S=!1,V===!1&&(v.stopPropagation(),v.preventDefault()))}}if(S){var $=h?E._private.parent:null,Y=null!=$&&0!==$.length;Y?($=$[0],$.trigger(v)):d.trigger(v)}}return a}},animated:function(t){var n={};return t=e.util.extend({},n,t),function(){var e=this,t=void 0!==e.length,n=t?e:[e],r=this._private.cy||this;if(!r.styleEnabled())return!1;var i=n[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(t){var n={};return t=e.util.extend({},n,t),function(){var e=this,t=void 0!==e.length,n=t?e:[e],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){var a=n[i];a._private.animation.queue=[]}return this}},delay:function(t){var n={};return t=e.util.extend({},n,t),function(e,t){var n=this._private.cy||this;return n.styleEnabled()?(this.animate({delay:e},{duration:e,complete:t}),this):this}},animate:function(t){var n={};return t=e.util.extend({},n,t),function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],a=this._private.cy||this,o=!r,s=!o;if(!a.styleEnabled())return this;var l,u=+new Date,c=a.style();switch(void 0===t&&(t={}),void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}var d=!0;if(e)for(var h in e){d=!1;break}if(d)return this;if(e.css&&s&&(e.css=c.getValueStyle(e.css,{array:!0})),e.renderedPosition&&s){var p=e.renderedPosition,f=a.pan(),v=a.zoom();e.position={x:(p.x-f.x)/v,y:(p.y-f.y)/v}}if(e.panBy&&o){var g=e.panBy,y=a.pan();e.pan={x:y.x+g.x,y:y.y+g.y}}var m=e.center||e.centre;if(m&&o){var x=a.getCenterPan(m.eles,e.zoom);x&&(e.pan=x)}if(e.fit&&o){var b=e.fit,w=a.getFitViewport(b.eles||b.boundingBox,b.padding);w&&(e.pan=w.pan,e.zoom=w.zoom)}for(var h=0;h<i.length;h++){var E=i[h];l=E.animated()&&(void 0===t.queue||t.queue)?E._private.animation.queue:E._private.animation.current,l.push({properties:e,duration:t.duration,params:t,callTime:u})}return s&&a.addToAnimationPool(this),this}},stop:function(t){var n={};return t=e.util.extend({},n,t),function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o],l=s._private.animation.current,u=0;u<l.length;u++){var c=l[u];t&&(c.duration=0)}e&&(s._private.animation.queue=[]),t||(s._private.animation.current=[])}return a.notify({collection:this,type:"draw"}),this}}}}(cytoscape),function(e){"use strict";e.fn.selector=function(t,n){for(var r in t){var i=t[r];e.Selector.prototype[r]=i}},e.Selector=function(t,n){if(!(this instanceof e.Selector))return new e.Selector(t,n);void 0===n&&void 0!==t&&(n=t,t=void 0);var r=this;if(r._private={selectorText:null,invalid:!0},!n||e.is.string(n)&&n.match(/^\s*$/))null==t?r.length=0:(r[0]=o(),r[0].group=t,r.length=1);else if(e.is.element(n)){var i=new e.Collection(r.cy(),[n]);r[0]=o(),r[0].collection=i,r.length=1}else if(e.is.collection(n))r[0]=o(),r[0].collection=n,r.length=1;else if(e.is.fn(n))r[0]=o(),r[0].filter=n,r.length=1;else{if(!e.is.string(n))return void e.util.error("A selector must be created from a string; found "+n);var a=null,o=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:e.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+",s.value=s.string+"|"+s.number,s.className=s.variable,s.id=s.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(e,t,n,r){return t})},u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];s.comparatorOp+="|@"+d}for(var u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];d.indexOf("!")>=0||"="!==d&&(s.comparatorOp+="|\\!"+d)}var h={group:{query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},id:{query:!0,regex:"\\#("+s.id+")",populate:function(e){this.ids.push(l(e))}},className:{query:!0,regex:"\\.("+s.className+")",populate:function(e){this.classes.push(l(e))}},dataExists:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},dataCompare:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(e,t,n){var r=null!=new RegExp("^"+s.string+"$").exec(n);n=r?n.substring(1,n.length-1):parseFloat(n),this.data.push({field:l(e),operator:t,value:n})}},dataBool:{query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:l(t),operator:e})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(e,t,n){this.meta.push({field:l(e),operator:t,value:parseFloat(n)})}},nextQuery:{separator:!0,regex:s.separator,populate:function(){r[++c]=o(),a=null}},child:{separator:!0,regex:s.child,populate:function(){var e=o();e.parent=this,e.subject=a,r[c]=e}},descendant:{separator:!0,regex:s.descendant,populate:function(){var e=o();e.ancestor=this,e.subject=a,r[c]=e}},subject:{modifier:!0,regex:s.subject,populate:function(){return null!=a&&this.subject!=this?(e.util.error("Redefinition of subject in selector `"+n+"`"),!1):(a=this,void(this.subject=this))}}},p=0;for(var f in h)h[p]=h[f],h[p].name=f,p++;h.length=p,r._private.selectorText=n;var v=n,c=0,g=function(t){for(var n,r,i,a=0;a<h.length;a++){var o=h[a],s=o.name;if(!e.is.fn(t)||t(s,o)){var l=v.match(new RegExp("^"+o.regex));if(null!=l){r=l,n=o,i=s;var u=l[0];v=v.substring(u.length);break}}}return{expr:n,match:r,name:i}},y=function(){var e=v.match(/^\s+/);if(e){var t=e[0];v=v.substring(t.length)}};for(r[0]=o(),y();;){var m=g();if(null==m.expr)return void e.util.error("The selector `"+n+"`is invalid");for(var x=[],p=1;p<m.match.length;p++)x.push(m.match[p]);var b=m.expr.populate.apply(r[c],x);if(b===!1)return;if(v.match(/^\s*$/))break}for(r.length=c+1,p=0;p<r.length;p++){var w=r[p];if(null!=w.subject){for(;w.subject!=w;)if(null!=w.parent){var E=w.parent,_=w;_.parent=null,E.child=_,w=E}else{if(null==w.ancestor){e.util.error("When adjusting references for the selector `"+w+"`, neither parent nor ancestor was found");break}var k=w.ancestor,S=w;S.ancestor=null,k.descendant=S,w=k}r[p]=w.subject}}if(null!=t)for(var p=0;p<r.length;p++){if(null!=r[p].group&&r[p].group!=t)return void e.util.error("Group `"+r[p].group+"` conflicts with implicit group `"+t+"` in selector `"+n+"`");r[p].group=t}}r._private.invalid=!1},e.selfn=e.Selector.prototype,e.selfn.size=function(){return this.length},e.selfn.eq=function(e){return this[e]},e.selfn.find=function(){};var t=function(n,r){if(null!=n.group&&"*"!=n.group&&n.group!=r._private.group)return!1;for(var i=r.cy(),a=!0,o=0;o<n.colonSelectors.length;o++){var s=n.colonSelectors[o];switch(s){case":selected":a=r.selected();break;case":unselected":a=!r.selected();break;case":selectable":a=r.selectable();break;case":unselectable":a=!r.selectable();break;case":locked":a=r.locked();break;case":unlocked":a=!r.locked();break;case":visible":a=r.visible();break;case":hidden":a=!r.visible();break;case":transparent":a=r.transparent();break;case":grabbed":a=r.grabbed();break;case":free":a=!r.grabbed();break;case":removed":a=r.removed();break;case":inside":a=!r.removed();break;case":grabbable":a=r.grabbable();break;case":ungrabbable":a=!r.grabbable();break;case":animated":a=r.animated();break;case":unanimated":a=!r.animated();break;case":parent":a=r.isNode()&&r.children().nonempty();break;case":child":case":nonorphan":a=r.isNode()&&r.parent().nonempty();break;case":orphan":a=r.isNode()&&r.parent().empty();break;case":loop":a=r.isEdge()&&r.data("source")===r.data("target");break;case":simple":a=r.isEdge()&&r.data("source")!==r.data("target");break;case":active":a=r.active();break;case":inactive":a=!r.active();break;case":touch":a=e.is.touch();break;case":backgrounding":a=r.backgrounding();break;case":nonbackgrounding":a=!r.backgrounding()}if(!a)break}if(!a)return!1;for(var l=!0,o=0;o<n.ids.length;o++){var u=n.ids[o],c=r._private.data.id;if(l=l&&u==c,!l)break}if(!l)return!1;for(var d=!0,o=0;o<n.classes.length;o++){var h=n.classes[o];if(d=d&&r.hasClass(h),!d)break}if(!d)return!1;var p=function(t){for(var r=!0,i=0;i<n[t.name].length;i++){var a,o=n[t.name][i],s=o.operator,l=o.value,u=o.field;if(null!=s&&null!=l){var c=t.fieldValue(u),d=e.is.string(c)||e.is.number(c)?""+c:"",h=""+l,p=!1;s.indexOf("@")>=0&&(d=d.toLowerCase(),h=h.toLowerCase(),s=s.replace("@",""),p=!0);var f=!1,v=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),f=!0),p&&(l=h.toLowerCase(),c=d.toLowerCase()),s){case"*=":a=d.search(h)>=0;break;case"$=":a=null!=new RegExp(h+"$").exec(d);break;case"^=":a=null!=new RegExp("^"+h).exec(d);break;case"=":a=c===l;break;case"!=":a=c!==l;break;case">":a=f?l>=c:c>l,v=!0;break;case">=":a=f?l>c:c>=l,v=!0;break;case"<":a=f?c>=l:l>c,v=!0;break;case"<=":a=f?c>l:l>=c,v=!0;break;default:a=!1}}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(u);break;case"!":a=!t.fieldTruthy(u);break;case"^":a=t.fieldUndefined(u)}else a=!t.fieldUndefined(u);if(f&&!v&&(a=!a,v=!0),!a){r=!1;break}}return r},f=p({name:"data",fieldValue:function(e){return r._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===r._private.data[e]},fieldTruthy:function(e){return r._private.data[e]?!0:!1}});if(!f)return!1;var v=p({name:"meta",fieldValue:function(e){return r[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==r[e]()},fieldTruthy:function(e){return r[e]()?!0:!1}});if(!v)return!1;if(null!=n.collection){var g=null!=n.collection._private.ids[r.id()];if(!g)return!1}if(null!=n.filter&&0===r.collection().filter(n.filter).size())return!1;var y=function(e,n){if(null!=e){var r=!1;if(!i.hasCompoundNodes())return!1;n=n();for(var a=0;a<n.length;a++)if(t(e,n[a])){r=!0;break}return r}return!0};return y(n.parent,function(){return r.parent()})&&y(n.ancestor,function(){return r.parents()})&&y(n.child,function(){return r.children()})&&y(n.descendant,function(){return r.descendants()})?!0:!1};e.selfn.filter=function(n){var r=this,i=n.cy();if(r._private.invalid)return new e.Collection(i);var a=function(e,n){for(var i=0;i<r.length;i++){var a=r[i];if(t(a,n))return!0}return!1};null==r._private.selectorText&&(a=function(){return!0});var o=n.filter(a);return o},e.selfn.matches=function(e){var n=this;if(n._private.invalid)return!1;for(var r=0;r<n.length;r++){var i=n[r];if(t(i,e))return!0}return!1},e.selfn.toString=e.selfn.selector=function(){for(var t="",n=function(t,n){return e.is.string(t)?n?'"'+t+'"':t:""},r=function(e){var t="";e.subject===e&&(t+="$");var a=n(e.group);t+=a.substring(0,a.length-1);for(var o=0;o<e.data.length;o++){var s=e.data[o];t+=s.value?"["+s.field+n(s.operator)+n(s.value,!0)+"]":"["+n(s.operator)+s.field+"]"}for(var o=0;o<e.meta.length;o++){var l=e.meta[o];t+="[["+l.field+n(l.operator)+n(l.value,!0)+"]]"}for(var o=0;o<e.colonSelectors.length;o++){var u=e.colonSelectors[i];t+=u}for(var o=0;o<e.ids.length;o++){var u="#"+e.ids[i];t+=u}for(var o=0;o<e.classes.length;o++){var u="."+e.classes[i];t+=u}return null!=e.parent&&(t=r(e.parent)+" > "+t),null!=e.ancestor&&(t=r(e.ancestor)+" "+t),null!=e.child&&(t+=" > "+r(e.child)),null!=e.descendant&&(t+=" "+r(e.descendant)),t},i=0;i<this.length;i++){var a=this[i];t+=r(a),this.length>1&&i<this.length-1&&(t+=", ")}return t}}(cytoscape),function(e){"use strict";e.Style=function(t){return this instanceof e.Style?e.is.core(t)?(this._private={cy:t,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void e.util.error("A style must have a core reference"):new e.Style(t)},e.style=e.Style,e.styfn=e.Style.prototype,e.fn.style=function(t,n){for(var r in t){var i=t[r];e.Style.prototype=i}},function(){var t=e.util.regex.number,n=e.util.regex.rgbaNoBackRefs,r=e.util.regex.hslaNoBackRefs,i=e.util.regex.hex3,a=e.util.regex.hex6,o=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(e){return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+t+"|\\w+|"+n+"|"+r+"|"+i+"|"+a+")\\s*\\,\\s*("+t+"|\\w+|"+n+"|"+r+"|"+i+"|"+a+")\\)$"};e.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var l=e.style.types,u=e.style.properties=[{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"content",type:l.text},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"edge-text-rotation",type:l.textRotation},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.number},{name:"shadow-offset-y",type:l.number},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.number},{name:"text-shadow-offset-y",type:l.number},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"height",type:l.autoSize},{name:"width",type:l.autoSize},{name:"shape",type:l.nodeShape},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"control-point-step-size",type:l.size},{name:"control-point-distance",type:l.number},{name:"control-point-weight",type:l.zeroOneNumber},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"source-arrow-shape",type:l.arrowShape},{name:"target-arrow-shape",type:l.arrowShape},{name:"mid-source-arrow-shape",type:l.arrowShape},{name:"mid-target-arrow-shape",type:l.arrowShape},{name:"source-arrow-color",type:l.color},{name:"target-arrow-color",type:l.color},{name:"mid-source-arrow-color",type:l.color},{name:"mid-target-arrow-color",type:l.color},{name:"source-arrow-fill",type:l.arrowFill},{name:"target-arrow-fill",type:l.arrowFill},{name:"mid-source-arrow-fill",type:l.arrowFill},{name:"mid-target-arrow-fill",type:l.arrowFill},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}];e.style.pieBackgroundN=16,u.push({name:"pie-size",type:l.bgSize});for(var c=1;c<=e.style.pieBackgroundN;c++)u.push({name:"pie-"+c+"-background-color",type:l.color}),u.push({name:"pie-"+c+"-background-size",type:l.percent}),u.push({name:"pie-"+c+"-background-opacity",type:l.zeroOneNumber});for(var c=0;c<u.length;c++){var d=u[c];u[d.name]=d}}(),e.styfn.addDefaultStylesheet=function(){var t="Helvetica",n="normal",r="normal",i="#000",a="none",o=16,s=9999;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:i,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":a,"text-wrap":"none","text-max-width":s,"text-background-color":"none","text-background-opacity":1,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":t,"font-style":n,"font-weight":r,"font-size":o,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":e.is.touch()?40:15,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.styfn.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},e.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},e.styfn.core=function(){return this._private.coreStyle},e.styfn.parse=function(t,n,r,i){t=e.util.camel2dash(t);var a=e.style.properties[t],o=n,s=e.style.types;if(!a)return null;if(void 0===n||null===n)return null;var l=e.is.string(n);l&&(n=e.util.trim(n));var u=a.type;if(!u)return null;if(r&&(""===n||null===n))return{name:t,value:n,bypass:!0,
deleteBypass:!0};var c=t.match(/pie-(\d+)-background-size/);if(e.is.fn(n))return{name:t,value:n,strValue:"fn",mapped:s.fn,bypass:r,hasPie:c};var d,h,p,f,v,g;if(!l||i);else{if((d=new RegExp(s.data.regex).exec(n))||(p=new RegExp(s.layoutData.regex).exec(n))||(v=new RegExp(s.scratch.regex).exec(n))){if(r)return!1;var y;return y=d?s.data:p?s.layoutData:s.scratch,d=d||p||v,{name:t,value:d,strValue:""+n,mapped:y,field:d[1],bypass:r,hasPie:c}}if((h=new RegExp(s.mapData.regex).exec(n))||(f=new RegExp(s.mapLayoutData.regex).exec(n))||(g=new RegExp(s.mapScratch.regex).exec(n))){if(r)return!1;var y;if(y=h?s.mapData:f?s.mapLayoutData:s.mapScratch,h=h||f||g,!u.color&&!u.number)return!1;var m=this.parse(t,h[4]);if(!m||m.mapped)return!1;var x=this.parse(t,h[5]);if(!x||x.mapped)return!1;if(m.value===x.value)return!1;if(u.color){var b=m.value,w=x.value,E=!(b[0]!==w[0]||b[1]!==w[1]||b[2]!==w[2]||b[3]!==w[3]&&(null!=b[3]&&1!==b[3]||null!=w[3]&&1!==w[3]));if(E)return!1}return{name:t,value:h,strValue:""+n,mapped:y,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:x.value,bypass:r,hasPie:c}}}if(u.number){var _,k="px";if(u.units&&(_=u.units),u.implicitUnits&&(k=u.implicitUnits),!u.unitless)if(l){var S="px|em"+(u.allowPercent?"|\\%":"");_&&(S=_);var T=n.match("^("+e.util.regex.number+")("+S+")?$");T&&(n=T[1],_=T[2]||k)}else(!_||u.implicitUnits)&&(_=k);if(n=parseFloat(n),isNaN(n)&&void 0===u.enums)return null;if(isNaN(n)&&void 0!==u.enums){n=o;for(var C=0;C<u.enums.length;C++){var D=u.enums[C];if(D===n)return{name:t,value:n,strValue:""+n,bypass:r}}return null}if(u.integer&&!e.is.integer(n))return null;if(void 0!==u.min&&n<u.min||void 0!==u.max&&n>u.max)return null;var N={name:t,value:n,strValue:""+n+(_?_:""),units:_,bypass:r,hasPie:c&&null!=n&&0!==n&&""!==n};return u.unitless||"px"!==_&&"em"!==_||(N.pxValue="px"!==_&&_?this.getEmSizeInPixels()*n:n),("ms"===_||"s"===_)&&(N.msValue="ms"===_?n:1e3*n),N}if(u.propList){var P=[],M=""+n;if("none"===M);else{for(var B=M.split(","),C=0;C<B.length;C++){var L=e.util.trim(B[C]);e.style.properties[L]&&P.push(L)}if(0===P.length)return null}return{name:t,value:P,strValue:0===P.length?"none":P.join(", "),bypass:r}}if(u.color){var O=e.util.color2tuple(n);return O?{name:t,value:O,strValue:""+n,bypass:r}:null}if(u.enums){for(var C=0;C<u.enums.length;C++){var D=u.enums[C];if(D===n)return{name:t,value:n,strValue:""+n,bypass:r}}return null}if(u.regex){var A=new RegExp(u.regex),I=A.exec(n);return I?{name:t,value:I,strValue:""+n,bypass:r}:null}return u.string?{name:t,value:n,strValue:""+n,bypass:r}:null},e.styfn.selector=function(t){var n="core"===t?null:new e.Selector(t),r=this.length++;return this[r]={selector:n,properties:[],mappedProperties:[],index:r},this},e.styfn.css=function(){var t=arguments;switch(t.length){case 1:for(var n=t[0],r=0;r<e.style.properties.length;r++){var i=e.style.properties[r],a=n[i.name];void 0===a&&(a=n[e.util.dash2camel(i.name)]),void 0!==a&&this.cssRule(i.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this},e.styfn.style=e.styfn.css,e.styfn.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.hasPie&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this}}(cytoscape),function(e){"use strict";e.styfn.apply=function(e){var t=this;t._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var n=0;n<e.length;n++){var r=e[n],i=t.getContextMeta(r),a=t.getContextStyle(i),o=t.applyContextStyle(i,a,r);t.updateTransitions(r,o.diffProps),t.updateStyleHints(r)}t._private.newStyle=!1},e.styfn.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,a=r[i];if(a)return a;for(var o=[],s={},l=0;l<n.length;l++){var u=n[l],c="t"===e[l],d="t"===t[l],h=c!==d,p=u.mappedProperties.length>0;if(h||p){var f;h&&p?f=u.properties:h?f=u.properties:p&&(f=u.mappedProperties);for(var v=0;v<f.length;v++){for(var g=f[v],y=g.name,m=!1,x=l+1;x<n.length;x++){var b=n[x],w="t"===t[x];if(w&&(m=null!=b.properties[g.name]))break}s[y]||m||(s[y]=!0,o.push(y))}}}return r[i]=o,o},e.styfn.getContextMeta=function(e){var t,n=this,r="",i=e._private.styleCxtKey||"";n._private.newStyle&&(i="");for(var a=0;a<n.length;a++){var o=n[a],s=o.selector&&o.selector.matches(e);r+=s?"t":"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t}},e.styfn.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},a=0;a<n.length;a++){var o=n[a],s="t"===t[a];if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l],c=i[u.name]=u;c.context=o}}return r[t]=i,i},e.styfn.applyContextStyle=function(e,t,n){for(var r=this,i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],l=t[s],u=n._private.style[s];if(l&&u!==l){var c=a[s]={prev:u};r.applyParsedProperty(n,l),c.next=n._private.style[s],c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}},e.styfn.updateStyleHints=function(t){var n=t._private,r=this,i=n.style,a=!1;if("nodes"===n.group&&r._private.hasPie)for(var o=1;o<=e.style.pieBackgroundN;o++){var s=n.style["pie-"+o+"-background-size"].value;if(s>0){a=!0;break}}n.hasPie=a;var l=i["text-transform"].strValue,u=i.content.strValue,c=i["font-style"].strValue,s=i["font-size"].pxValue+"px",d=i["font-family"].strValue,h=i["font-weight"].strValue,p=i["text-valign"].strValue,f=i["text-valign"].strValue,v=i["text-outline-width"].pxValue,g=i["text-wrap"].strValue,y=i["text-max-width"].pxValue;n.labelKey=c+"$"+s+"$"+d+"$"+h+"$"+u+"$"+l+"$"+p+"$"+f+"$"+v+"$"+g+"$"+y,n.fontKey=c+"$"+h+"$"+s+"$"+d;var m=i.width.pxValue,x=i.height.pxValue,b=i["border-width"].pxValue;if(n.boundingBoxKey=m+"$"+x+"$"+b,"edges"===t._private.group){var w=i["control-point-step-size"].pxValue,E=i["control-point-distance"]?i["control-point-distance"].pxValue:void 0,_=i["control-point-weight"].value,k=i["curve-style"].strValue;n.boundingBoxKey+="$"+w+"$"+E+"$"+_+"$"+k}n.styleKey=Date.now()},e.styfn.applyParsedProperty=function(t,n){var r,i,a=n,o=t._private.style,s=e.style.types,l=e.style.properties[a.name].type,u=a.bypass,c=o[a.name],d=c&&c.bypass,h=t._private;if(("height"===n.name||"width"===n.name)&&t.isNode()){if("auto"===n.value&&!t.isParent())return!1;"auto"!==n.value&&t.isParent()&&(a=n=this.parse(n.name,"auto",u))}if(u&&a.deleteBypass){var p=o[a.name];return p?p.bypass&&p.bypassed?(o[a.name]=p.bypassed,!0):!1:!0}var f=function(){e.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case s.mapData:case s.mapLayoutData:case s.mapScratch:var r,v=a.mapped===s.mapLayoutData,g=a.mapped===s.mapScratch,y=a.field.split(".");r=g||v?h.scratch:h.data;for(var m=0;m<y.length&&r;m++){var x=y[m];r=r[x]}var b;if(b=e.is.number(r)?(r-a.fieldMin)/(a.fieldMax-a.fieldMin):0,0>b?b=0:b>1&&(b=1),l.color){var w=a.valueMin[0],E=a.valueMax[0],_=a.valueMin[1],k=a.valueMax[1],S=a.valueMin[2],T=a.valueMax[2],C=null==a.valueMin[3]?1:a.valueMin[3],D=null==a.valueMax[3]?1:a.valueMax[3],N=[Math.round(w+(E-w)*b),Math.round(_+(k-_)*b),Math.round(S+(T-S)*b),Math.round(C+(D-C)*b)];i={bypass:a.bypass,name:a.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!l.number)return!1;var P=a.valueMin+(a.valueMax-a.valueMin)*b;i=this.parse(a.name,P,a.bypass,!0)}i||(i=this.parse(a.name,c.strValue,a.bypass,!0)),i||f(),i.mapping=a,a=i;break;case s.data:case s.layoutData:case s.scratch:var r,v=a.mapped===s.layoutData,g=a.mapped===s.scratch,y=a.field.split(".");if(r=g||v?h.scratch:h.data)for(var m=0;m<y.length;m++){var x=y[m];r=r[x]}if(i=this.parse(a.name,r,a.bypass,!0),!i){var M=c?c.strValue:"";i=this.parse(a.name,M,a.bypass,!0)}i||f(),i.mapping=a,a=i;break;case s.fn:var B=a.value,L=B(t);i=this.parse(a.name,L,a.bypass,!0),i.mapping=a,a=i;break;case void 0:break;default:return!1}return u?(a.bypassed=d?c.bypassed:c,o[a.name]=a):d?c.bypassed=a:o[a.name]=a,!0},e.styfn.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()},e.styfn.updateMappers=function(t){for(var n=0;n<t.length;n++){for(var r=t[n],i=r._private.style,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=i[o.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(r,l)}}this.updateStyleHints(r)}},e.styfn.updateTransitions=function(t,n,r){var i=this,a=t._private.style,o=a["transition-property"].value,s=a["transition-duration"].msValue,l=a["transition-delay"].msValue,u={};if(o.length>0&&s>0){for(var c=!1,d=0;d<o.length;d++){var h=o[d],p=a[h],f=n[h];if(f){var v=f.prev,g=v,y=null!=f.next?f.next:p,m=!1;g&&(e.is.number(g.pxValue)&&e.is.number(y.pxValue)?m=g.pxValue!==y.pxValue:e.is.number(g.value)&&e.is.number(y.value)?m=g.value!==y.value:e.is.array(g.value)&&e.is.array(y.value)&&(m=g.value[0]!==y.value[0]||g.value[1]!==y.value[1]||g.value[2]!==y.value[2]),m&&(u[h]=y.strValue,this.applyBypass(t,h,g.strValue),c=!0))}}if(!c)return;t._private.transitioning=!0,t.stop(),l>0&&t.delay(l),t.animate({css:u},{duration:s,queue:!1,complete:function(){r||i.removeBypasses(t,o),t._private.transitioning=!1}})}else t._private.transitioning&&(t.stop(),this.removeBypasses(t,o),t._private.transitioning=!1)}}(cytoscape),function(e){"use strict";e.styfn.applyBypass=function(t,n,r,i){var a=[],o=!0;if("*"===n||"**"===n){if(void 0!==r)for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],n=l.name,u=this.parse(n,r,!0);u&&a.push(u)}}else if(e.is.string(n)){var u=this.parse(n,r,!0);u&&a.push(u)}else{if(!e.is.plainObject(n))return!1;var c=n;i=r;for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],n=l.name,r=c[n];if(void 0===r&&(r=c[e.util.dash2camel(n)]),void 0!==r){var u=this.parse(n,r,!0);u&&a.push(u)}}}if(0===a.length)return!1;for(var d=!1,s=0;s<t.length;s++){for(var h,p=t[s],f=p._private.style,v={},g=0;g<a.length;g++){var l=a[g];if(i){var y=f[l.name];h=v[l.name]={prev:y}}d=this.applyParsedProperty(p,l)||d,i&&(h.next=f[l.name])}i&&this.updateTransitions(p,v,o)}return d},e.styfn.overrideBypass=function(t,n,r){for(var i=0;i<t.length;i++){var a=t[i],o=a._private.style[e.util.camel2dash(n)];o.bypass?(o.value=r,o.pxValue=r):this.applyBypass(a,n,r)}},e.styfn.removeAllBypasses=function(t,n){for(var r=!0,i=0;i<t.length;i++){for(var a=t[i],o={},s=a._private.style,l=0;l<e.style.properties.length;l++){var u=e.style.properties[l],c=u.name,d="",h=this.parse(c,d,!0),p=s[u.name],f=o[u.name]={prev:p};this.applyParsedProperty(a,h),f.next=s[u.name]}n&&this.updateTransitions(a,o,r)}},e.styfn.removeBypasses=function(t,n,r){for(var i=!0,a=0;a<t.length;a++){for(var o=t[a],s={},l=o._private.style,u=0;u<n.length;u++){var c=n[u],d=e.style.properties[c],h="",p=this.parse(c,h,!0),f=l[d.name],v=s[d.name]={prev:f};this.applyParsedProperty(o,p),v.next=l[d.name]}r&&this.updateTransitions(o,s,i)}}}(cytoscape),function(e,t){"use strict";e.styfn.getEmSizeInPixels=function(){var e=this._private.cy,n=e.container();if(t&&n&&t.getComputedStyle){var r=t.getComputedStyle(n).getPropertyValue("font-size"),i=parseFloat(r);return i}return 1},e.styfn.containerCss=function(e){var n=this._private.cy,r=n.container();return t&&r&&t.getComputedStyle?t.getComputedStyle(r).getPropertyValue(e):void 0},e.styfn.containerProperty=function(e){var t=this.containerCss(e),n=this.parse(e,t);return n},e.styfn.containerPropertyAsString=function(e){var t=this.containerProperty(e);return t?t.strValue:void 0}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.styfn.getRenderedStyle=function(t){var t=t[0];if(t){for(var n={},r=t._private.style,i=this._private.cy,a=i.zoom(),o=0;o<e.style.properties.length;o++){var s=e.style.properties[o],l=r[s.name];if(l){var u=l.unitless?l.strValue:l.pxValue*a+"px";n[s.name]=u,n[e.util.dash2camel(s.name)]=u}}return n}},e.styfn.getRawStyle=function(t){var t=t[0];if(t){for(var n={},r=t._private.style,i=0;i<e.style.properties.length;i++){var a=e.style.properties[i],o=r[a.name];o&&(n[a.name]=o.strValue,n[e.util.dash2camel(a.name)]=o.strValue)}return n}},e.styfn.getValueStyle=function(t,n){n=n||{};var r,i=n.array?[]:{};if(r=e.is.element(t)?t._private.style:t)for(var a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=r[o.name]||r[e.util.dash2camel(o.name)];void 0===s||e.is.plainObject(s)||(s=this.parse(o.name,s)),s&&(n.array?i.push(s):(i[o.name]=s,i[e.util.dash2camel(o.name)]=s))}return i}}(cytoscape),function(e){"use strict";e.style.applyFromJson=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.selector,a=r.style||r.css;e.selector(i);for(var o in a){var s=a[o];e.css(o,s)}}return e},e.style.fromJson=function(t,n){var r=new e.Style(t);return e.style.applyFromJson(r,n),r},e.styfn.fromJson=function(t){var n=this;return n.resetToDefault(),e.style.applyFromJson(n,t),n},e.styfn.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e}}(cytoscape),function(e){"use strict";e.style.applyFromString=function(t,n){function r(){l=l.length>a.length?l.substr(a.length):""}function i(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,l=""+n;for(l=l.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var u=l.match(/^\s*$/);if(u)break;var c=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){e.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}a=c[0];var d=c[1];if("core"!==d){var h=new e.Selector(d);if(h._private.invalid){e.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),r();continue}}var p=c[2],f=!1;o=p;for(var v=[];;){var u=o.match(/^\s*$/);if(u)break;var g=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!g){e.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}s=g[0];var y=g[1],m=g[2],x=e.style.properties[y];if(x){var b=t.parse(y,m);b?(v.push({name:y,val:m}),i()):(e.util.error("Skipping property: Invalid property definition in: "+s),i())}else e.util.error("Skipping property: Invalid property name in: "+s),i()}if(f){r();break}t.selector(d);for(var w=0;w<v.length;w++){var x=v[w];t.css(x.name,x.val)}r()}return t},e.style.fromString=function(t,n){var r=new e.Style(t);return e.style.applyFromString(r,n),r},e.styfn.fromString=function(t){var n=this;return n.resetToDefault(),e.style.applyFromString(n,t),n}}(cytoscape),function(e){"use strict";e.stylesheet=e.Stylesheet=function(){return this instanceof e.Stylesheet?void(this.length=0):new e.Stylesheet},e.sheetfn=e.Stylesheet.prototype,e.sheetfn.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},e.sheetfn.css=function(t,n){var r=this.length-1;if(e.is.string(t))this[r].properties.push({name:t,value:n});else if(e.is.plainObject(t))for(var i=t,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=i[o.name];if(void 0===s&&(s=i[e.util.dash2camel(o.name)]),void 0!==s){var t=o.name,n=s;this[r].properties.push({name:t,value:n})}}return this},e.sheetfn.style=e.sheetfn.css,e.sheetfn.generateStyle=function(t){for(var n=new e.Style(t),r=0;r<this.length;r++){var i=this[r],a=i.selector,o=i.properties;n.selector(a);for(var s=0;s<o.length;s++){var l=o[s];n.css(l.name,l.value)}}return n}}(cytoscape),function(e,t){"use strict";e.Thread=function(t){return this instanceof e.Thread?(this._private={requires:[],files:[],queue:null,pass:[]},void(t&&this.run(t))):new e.Thread(t)},e.thread=e.Thread,e.thdfn=e.Thread.prototype,e.fn.thread=function(t,n){for(var r in t){var i=t[r];e.Thread.prototype[r]=i}};var n=function(t){var n=e.is.fn(t)?t.toString():'JSON.parse("'+JSON.stringify(t)+'")';return n},r=function(t){var i,o;e.is.object(t)&&t.fn?(i=a(t.fn,t.name),o=t.name,t=t.fn):e.is.fn(t)?(i=t.toString(),o=t.name):e.is.string(t)?i=t:e.is.object(t)&&(i=t.proto?"":t.name+" = {};",o=t.name,t=t.obj),i+="\n";var s=function(e,t){if(e.prototype){var n=!1;for(var a in e.prototype){n=!0;break}n&&(i+=r({name:t,obj:e,proto:!0},e))}};if(t.prototype&&null!=o)for(var l in t.prototype){var u="",c=t.prototype[l],d=n(c),h=o+".prototype."+l;u+=h+" = "+d+";\n",u&&(i+=u),s(c,h)}if(!e.is.string(t))for(var l in t){var p="";if(t.hasOwnProperty(l)){var c=t[l],d=n(c),h=o+'["'+l+'"]';p+=h+" = "+d+";\n"}p&&(i+=p),s(c,h)}return i},i=function(t){return e.is.string(t)&&t.match(/\.js$/)};e.fn.thread({require:function(t,n){return i(t)?(this._private.files.push(t),this):(n&&(e.is.fn(t)?(n=n||t.name,t={name:n,fn:t}):t={name:n,obj:t}),this._private.requires.push(t),this)},pass:function(e){return this._private.pass.push(e),this},run:function(n,i){var a=this,o=this._private;if(i=i||o.pass.shift(),o.stopped)return void e.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.");if(o.running)return o.queue=o.queue.then(function(){return a.run(n,i)});var s=null!=t,l="undefined"!=typeof module;a.trigger("run");var u=new e.Promise(function(u,c){o.running=!0;var d=o.ran,h=e.is.string(n)?n:n.toString(),p="\n"+o.requires.map(function(e){return r(e)}).concat(o.files.map(function(e){if(s){var n=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?t.location.origin+t.location.pathname+e:e.match(/^\//)?t.location.origin+"/"+e:e};return'importScripts("'+n(e)+'");'}return l?'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );':void 0})).concat(["( function(){","var ret = ("+h+")("+JSON.stringify(i)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(o.requires=[],o.files=[],s){var f,v;if(!d){var g=p+"";p=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),p+=g,f=new Blob([p],{type:"application/javascript"}),v=t.URL.createObjectURL(f)}var y=o.webworker=o.webworker||new Worker(v);d&&y.postMessage({$$eval:p});var m;y.addEventListener("message",m=function(t){var n=e.is.object(t)&&e.is.object(t.data);n&&"$$resolve"in t.data?(y.removeEventListener("message",m),u(t.data.$$resolve)):n&&"$$reject"in t.data?(y.removeEventListener("message",m),c(t.data.$$reject)):a.trigger(new e.Event(t,{type:"message",message:t.data}))},!1),d||y.postMessage("$$start")}else if(l){var m,x=require("path"),b=require("child_process"),w=o.child=o.child||b.fork(x.join(__dirname,"thread-node-fork"));w.on("message",m=function(t){e.is.object(t)&&"$$resolve"in t?(w.removeListener("message",m),u(t.$$resolve)):e.is.object(t)&&"$$reject"in t?(w.removeListener("message",m),c(t.$$reject)):a.trigger(new e.Event({},{type:"message",message:t}))}),w.send({$$eval:p})}else e.error("Tried to create thread but no underlying tech found!")}).then(function(e){return o.running=!1,o.ran=!0,a.trigger("ran"),e});return null==o.queue&&(o.queue=u),u},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var a=function(e,t){var n=e.toString();return n=n.replace(/function.*\(/,"function "+t+"(")},o=function(e){return e=e||{},function(t,n){var r=a(t,"_$_$_"+e.name);return this.require(r),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(n):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};e.fn.thread({reduce:o({name:"reduce"}),reduceRight:o({name:"reduceRight"}),map:o({name:"map"})});var s=e.thdfn;s.promise=s.run,s.terminate=s.halt=s.stop,s.include=s.require,e.worker=e.Worker=e.Thread,e.fn.thread({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.thdfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.Fabric=function(t){if(!(this instanceof e.Fabric))return new e.Fabric(t);this._private={pass:[]};var n=4;e.is.number(t),t="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:n;for(var r=0;t>r;r++)this[r]=e.Thread();this.length=t},e.fabric=e.Fabric,e.fabfn=e.Fabric.prototype,e.fn.fabric=function(t,n){for(var r in t){var i=t[r];e.Fabric.prototype[r]=i}},e.fn.fabric({require:function(e,t){for(var n=0;n<this.length;n++){var r=this[n];r.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var n=this[t];n.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(t){var n=this._private.pass;return e.is.array(t)?n.push(t):e.util.error("Only arrays or collections may be used with fabric.pass()"),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(t){for(var n=this,r=n._private,i=n.spreadSize(),a=r.pass.shift().concat([]),o=[],s=0;s<this.length;s++){var l=this[s],u=a.splice(0,i),c=l.pass(u).run(t);o.push(c);var d=0===a.length;if(d)break}return e.Promise.all(o).then(function(e){for(var t=[],n=0,r=0;r<e.length;r++)for(var i=e[r],a=0;a<i.length;a++){var o=i[a];t[n++]=o}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],n=resolve;resolve=function(e){t.push(e)};for(var r=0;r<e.length;r++){var i=t.length,a=_$_$_fabmap(e[r]),o=i===t.length;o&&t.push(a)}return resolve=n,t})},filter:function(e){var t=this._private,n=t.pass[0];return this.map(e).then(function(e){for(var t=[],r=0;r<n.length;r++){var i=n[r],a=e[r];a&&t.push(i)}return t})},sort:function(e){var t=this,n=this._private.pass[0].length,r=this.spreadSize();return e=e||function(e,t){return t>e?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(r,i,a){i=Math.min(i,n),a=Math.min(a,n);for(var o=r,s=i,l=[],u=o;a>u;u++){var c=t[r],d=t[i];s>r&&(i>=a||e(c,d)<=0)?(l.push(c),r++):(l.push(d),i++)}for(var u=0;u<l.length;u++){var h=o+u;t[h]=l[u]}},a=r;n>a;a*=2)for(var o=0;n>o;o+=2*a)i(o,o+a,o+2*a);return t})}});var n=function(e){return e=e||{},function(t,n){var r=this._private.pass.shift();return this.random().pass(r)[e.threadFn](t,n)}};e.fn.fabric({randomMap:n({threadFn:"map"}),reduce:n({threadFn:"reduce"}),reduceRight:n({threadFn:"reduceRight"})});var r=e.fabfn;r.promise=r.run,r.terminate=r.halt=r.stop,r.include=r.require,e.fn.fabric({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.fabfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";var n=e.is.touch(),r={},i=e.util.copy(r);e.defaults=function(t){r=e.util.extend({},i,t)},e.fn.core=function(t,n){for(var r in t){var i=t[r];e.Core.prototype[r]=i}},e.Core=function(i){if(!(this instanceof e.Core))return new e.Core(i);var a=this;i=e.util.extend({},r,i);var o=i.container,s=o?o._cyreg:null;if(s=s||{},s&&s.cy){if(o)for(;o.firstChild;)o.removeChild(o.firstChild);s.cy.notify({type:"destroy"}),s={}}var l=s.readies=s.readies||[];o&&(o._cyreg=s),s.cy=a;var u=void 0!==t&&void 0!==o&&!i.headless,c=i;c.layout=e.util.extend({name:u?"grid":"null"},c.layout),c.renderer=e.util.extend({name:u?"canvas":"null"},c.renderer);var d=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},h=this._private={container:c.container,ready:!1,initrender:!1,options:c,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:e.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,c.zoomingEnabled),userZoomingEnabled:d(!0,c.userZoomingEnabled),panningEnabled:d(!0,c.panningEnabled),userPanningEnabled:d(!0,c.userPanningEnabled),boxSelectionEnabled:d(!1,c.boxSelectionEnabled),autolock:d(!1,c.autolock,c.autolockNodes),autoungrabify:d(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:d(!1,c.autounselectify),styleEnabled:void 0===c.styleEnabled?u:c.styleEnabled,zoom:e.is.number(c.zoom)?c.zoom:1,pan:{x:e.is.plainObject(c.pan)&&e.is.number(c.pan.x)?c.pan.x:0,y:e.is.plainObject(c.pan)&&e.is.number(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},p=c.selectionType;h.selectionType=void 0===p||"additive"!==p&&"single"!==p?n?"additive":"single":p,e.is.number(c.minZoom)&&e.is.number(c.maxZoom)&&c.minZoom<c.maxZoom?(h.minZoom=c.minZoom,h.maxZoom=c.maxZoom):e.is.number(c.minZoom)&&void 0===c.maxZoom?h.minZoom=c.minZoom:e.is.number(c.maxZoom)&&void 0===c.minZoom&&(h.maxZoom=c.maxZoom);var f=function(t){for(var n=!1,r=0;r<v.length;r++){var i=v[r];if(e.is.promise(i)){n=!0;break}}return n?e.Promise.all(v).then(t):void t(v)},v=[c.style,c.elements];f(function(t){var n=t[0],r=t[1];h.styleEnabled&&a.setStyle(n),a.initRenderer(e.util.extend({hideEdgesOnViewport:c.hideEdgesOnViewport,hideLabelsOnViewport:c.hideLabelsOnViewport,textureOnViewport:c.textureOnViewport,wheelSensitivity:e.is.number(c.wheelSensitivity)&&c.wheelSensitivity>0?c.wheelSensitivity:1,motionBlur:void 0===c.motionBlur?!0:c.motionBlur,motionBlurOpacity:void 0===c.motionBlurOpacity?.05:c.motionBlurOpacity,pixelRatio:e.is.number(c.pixelRatio)&&c.pixelRatio>0?c.pixelRatio:"auto"===c.pixelRatio?void 0:1,tapThreshold:d(e.is.touch()?8:4,e.is.touch()?c.touchTapThreshold:c.desktopTapThreshold)},c.renderer)),c.initrender&&(a.on("initrender",c.initrender),a.on("initrender",function(){a._private.initrender=!0})),a.load(r,function(){a.startAnimationLoop(),a._private.ready=!0,e.is.fn(c.ready)&&a.on("ready",c.ready);for(var t=0;t<l.length;t++){var n=l[t];a.on("ready",n)}s&&(s.readies=[]),a.trigger("ready")},c.done)})},e.corefn=e.Core.prototype,e.fn.core({isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var e=this.container(),t=e.parentNode;return t&&t.removeChild(e),this},getElementById:function(t){var n=this._private.id2index[t];return void 0!==n?this._private.elements[n]:new e.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var t=this._private.elements,n=this._private.id2index,r=0;r<e.length;r++){var i=e[r],a=i._private.data.id,o=n[a],s=void 0!==o;s||(o=t.length,t.push(i),n[a]=o,i._private.index=o)}return this},removeFromPool:function(e){for(var t=this._private.elements,n=this._private.id2index,r=0;r<e.length;r++){var i=e[r],a=i._private.data.id,o=n[a],s=void 0!==o;if(s){this._private.id2index[a]=void 0,t.splice(o,1);for(var l=o;l<t.length;l++){var u=t[l]._private.data.id;n[u]--,t[l]._private.index--}}}},container:function(){return this._private.container},options:function(){return e.util.copy(this._private.options)},json:function(e){var t={},n=this;return t.elements={},n.elements().each(function(e,n){var r=n.group();t.elements[r]||(t.elements[r]=[]),t.elements[r].push(n.json())}),this._private.styleEnabled&&(t.style=n.style().json()),t.zoomingEnabled=n._private.zoomingEnabled,t.userZoomingEnabled=n._private.userZoomingEnabled,t.zoom=n._private.zoom,t.minZoom=n._private.minZoom,t.maxZoom=n._private.maxZoom,t.panningEnabled=n._private.panningEnabled,t.userPanningEnabled=n._private.userPanningEnabled,t.pan=n._private.pan,t.boxSelectionEnabled=n._private.boxSelectionEnabled,t.layout=n._private.options.layout,t.renderer=n._private.options.renderer,t.hideEdgesOnViewport=n._private.options.hideEdgesOnViewport,t.hideLabelsOnViewport=n._private.options.hideLabelsOnViewport,t.textureOnViewport=n._private.options.textureOnViewport,t.wheelSensitivity=n._private.options.wheelSensitivity,t.motionBlur=n._private.options.motionBlur,t},defer:function(e){var t=this,n=t._private,r=n.deferredExecQueue;r.push(e),n.deferredTimeout||(n.deferredTimeout=setTimeout(function(){for(;r.length>0;)r.shift()();n.deferredTimeout=null},0))}})}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";function n(e){var t=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?n:e;setTimeout(t,9,e)}e.fn.core({add:function(t){var n,r=this;if(e.is.elementOrCollection(t)){var i=t;if(i._private.cy===r)n=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}n=new e.Collection(r,a)}}else if(e.is.array(t)){var a=t;n=new e.Collection(r,a)}else if(e.is.plainObject(t)&&(e.is.array(t.nodes)||e.is.array(t.edges))){for(var l=t,a=[],u=["nodes","edges"],o=0,c=u.length;c>o;o++){var d=u[o],h=l[d];if(e.is.array(h))for(var p=0,f=h.length;f>p;p++){var v=h[p];v.group=d,a.push(v)}}n=new e.Collection(r,a)}else{var v=t;n=new e.Element(r,v).collection()}return n},remove:function(t){if(e.is.elementOrCollection(t))t=t;else if(e.is.string(t)){var n=t;t=this.$(n)}return t.remove()},load:function(r,i,a){function o(){s.one("layoutready",function(e){s.notifications(!0),s.trigger(e),s.notify({type:"load",collection:s.elements()}),s.one("load",i),s.trigger("load")}).one("layoutstop",function(){s.one("done",a),s.trigger("done")});var t=e.util.extend({},s._private.options.layout);t.eles=s.$(),s.layout(t)}var s=this;s.notifications(!1);var l=s.elements();return l.length>0&&l.remove(),null!=r&&(e.is.plainObject(r)||e.is.array(r))&&s.add(r),t?n(o):o(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(e,t){"use strict";e.fn.core({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},startAnimationLoop:function(){function n(){e.util.requestAnimationFrame(function(e){r(e),n()})}function r(t){function n(n,r){var s=n._private.animation.current,l=n._private.animation.queue,u=!1;if(0===s.length){var c=l.length>0?l.shift():null;c&&(c.callTime=t,s.push(c))}for(var d=[],h=s.length-1;h>=0;h--){var p=s[h];p.started||i(n,p),a(n,p,t,r),p.done&&(d.push(p),s.splice(h,1)),u=!0}for(var h=0;h<d.length;h++){var p=d[h],f=p.params.complete;e.is.fn(f)&&f.apply(n,[t])}return r||0!==s.length||0!==l.length||o.push(n),u}t=+new Date;for(var r=l._private.aniEles,o=[],s=0;s<r.length;s++){var u=r[s];n(u)}var c=n(l,!0);if(r.length>0||c){var d;if(r.length>0){var h=r.updateCompoundBounds();d=h.length>0?r.add(h):r}l.notify({type:"draw",collection:d})}r.unmerge(o)}function i(t,n){var r=e.is.core(t),i=!r,a=t,o=l._private.style;if(i)var s=a._private.position,u={x:s.x,y:s.y},c=o.getValueStyle(a);if(r)var d=l._private.pan,h={x:d.x,y:d.y},p=l._private.zoom;n.started=!0,n.startTime=Date.now(),n.startPosition=u,n.startStyle=c,n.startPan=h,n.startZoom=p}function a(t,n,r,i){var a,u=l._private.style,c=n.properties,d=n.params,h=n.startTime,p=!i;

if(a=0===n.duration?1:Math.min(1,(r-h)/n.duration),0>a?a=0:a>1&&(a=1),null==c.delay){var f=n.startPosition,v=c.position,g=t._private.position;v&&p&&(o(f.x,v.x)&&(g.x=s(f.x,v.x,a)),o(f.y,v.y)&&(g.y=s(f.y,v.y,a)));var y=n.startPan,m=c.pan,x=t._private.pan,b=null!=m&&i;b&&(o(y.x,m.x)&&(x.x=s(y.x,m.x,a)),o(y.y,m.y)&&(x.y=s(y.y,m.y,a)),t.trigger("pan"));var w=n.startZoom,E=c.zoom,_=null!=E&&i;_&&(o(w,E)&&(t._private.zoom=s(w,E,a)),t.trigger("zoom")),(b||_)&&t.trigger("viewport");var k=c.style||c.css;if(k&&p)for(var S=0;S<k.length;S++){var T=k[S].name,C=k[S],D=C,N=n.startStyle[T],P=s(N,D,a);u.overrideBypass(t,T,P)}}return e.is.fn(d.step)&&d.step.apply(t,[r]),a>=1&&(n.done=!0),a}function o(t,n){return null==t||null==n?!1:e.is.number(t)&&e.is.number(n)?!0:t&&n?!0:!1}function s(t,n,r){0>r?r=0:r>1&&(r=1);var i,a;if(i=null!=t.pxValue||null!=t.value?null!=t.pxValue?t.pxValue:t.value:t,a=null!=n.pxValue||null!=n.value?null!=n.pxValue?n.pxValue:n.value:n,e.is.number(i)&&e.is.number(a))return i+(a-i)*r;if(e.is.number(i[0])&&e.is.number(a[0])){var o=i,s=a,l=function(e,t){var n=t-e,i=e;return Math.round(r*n+i)},u=l(o[0],s[0]),c=l(o[1],s[1]),d=l(o[2],s[2]);return[u,c,d]}return void 0}var l=this;l.styleEnabled()&&t&&n()}})}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.fn.core({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(e){"use strict";e.fn.core({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.corefn)}(cytoscape),function(e){"use strict";e.fn.core({png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}}),e.corefn.jpeg=e.corefn.jpg}(cytoscape),function(e){"use strict";e.fn.core({layout:function(t){var n;return null==t&&(t=e.util.extend({},this._private.options.layout),t.eles=this.$()),n=this.initLayout(t),n.run(),this},makeLayout:function(e){return this.initLayout(e)},initLayout:function(t){if(null==t)return void e.util.error("Layout options must be specified to make a layout");if(null==t.name)return void e.util.error("A `name` must be specified to make a layout");var n=t.name,r=e.extension("layout",n);if(null==r)return void e.util.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?");t.eles=null!=t.eles?t.eles:this.$(),e.is.string(t.eles)&&(t.eles=this.$(t.eles));var i=new r(e.util.extend({},t,{cy:this}));return e.is.plainObject(i._private)||(i._private={}),i._private.cy=this,i._private.listeners=[],i}}),e.corefn.createLayout=e.corefn.makeLayout}(cytoscape),function(e){"use strict";e.fn.core({notify:function(e){if(this._private.batchingNotify){var t=this._private.batchNotifyEles,n=this._private.batchNotifyTypes;if(e.collection)for(var r=0;r<e.collection.length;r++){var i=e.collection[r];t.ids[i._private.id]||t.push(i)}return void(n.ids[e.type]||n.push(e.type))}if(this._private.notificationsEnabled){var a=this.renderer();a.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=e?!0:!1)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=[],e.batchNotifyEles=[],e.batchNotifyTypes=[],e.batchStyleEles.ids={},e.batchNotifyEles.ids={},e.batchNotifyTypes.ids={},this},endBatch:function(){var t=this._private;return t.batchingStyle=!1,new e.Collection(this,t.batchStyleEles).updateStyle(),t.batchingNotify=!1,this.notify({type:t.batchNotifyTypes,collection:t.batchNotifyEles}),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n in e){var r=e[n],i=t.getElementById(n);i.data(r)}})}})}(cytoscape),function(e){"use strict";e.fn.core({renderTo:function(e,t,n,r){var i=this._private.renderer;return i.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(t){var n=this,r=e.extension("renderer",t.name);return null==r?void e.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name):void(this._private.renderer=new r(e.util.extend({},t,{cy:n,style:n._private.style})))},triggerOnRender:function(){for(var e=this._private.onRenders,t=0;t<e.length;t++){var n=e[t];n()}return this},onRender:function(e){return this._private.onRenders.push(e),this},offRender:function(e){var t=this._private.onRenders;if(null==e)return this._private.onRenders=[],this;for(var n=0;n<t.length;n++){var r=t[n];if(e===r){t.splice(n,1);break}}return this}})}(cytoscape),function(e){"use strict";e.fn.core({collection:function(t){return e.is.string(t)?this.$(t):e.is.elementOrCollection(t)?t.collection():e.is.array(t)?new e.Collection(this,t):new e.Collection(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(t){var n=new e.Collection(this,this._private.elements);return t?n.filter(t):n}}),e.corefn.elements=e.corefn.filter=e.corefn.$}(cytoscape),function(e){"use strict";e.fn.core({style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(t){var n=this._private;return n.style=e.is.stylesheet(t)?t.generateStyle(this):e.is.array(t)?e.style.fromJson(this,t):e.is.string(t)?e.style.fromString(this,t):new e.Style(this),n.style}})}(cytoscape),function(e){"use strict";e.fn.core({autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=e?!0:!1,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=e?!0:!1,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=e?!0:!1,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=e?!0:!1,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=e?!0:!1,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=e?!0:!1,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=e?!0:!1,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=e?!0:!1,this)},pan:function(){var t,n,r,i,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(e.is.string(o[0]))return t=o[0],s[t];if(e.is.plainObject(o[0])){if(!this._private.panningEnabled)return this;r=o[0],i=r.x,a=r.y,e.is.number(i)&&(s.x=i),e.is.number(a)&&(s.y=a),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0],n=o[1],"x"!==t&&"y"!==t||!e.is.number(n)||(s[t]=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(t){var n,r,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:e.is.plainObject(s[0])&&(i=s[0],a=i.x,o=i.y,e.is.number(a)&&(l.x+=a),e.is.number(o)&&(l.y+=o),this.trigger("pan viewport"));break;case 2:n=s[0],r=s[1],"x"!==n&&"y"!==n||!e.is.number(r)||(l[n]+=r),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(t,n){if(e.is.number(t)&&void 0===n&&(n=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r;if(e.is.string(t)){var i=t;t=this.$(i)}else if(e.is.boundingBox(t)){var a=t;r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else e.is.elementOrCollection(t)||(t=this.elements());r=r||t.boundingBox();var o,s=this.width(),l=this.height();if(n=e.is.number(n)?n:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){o=Math.min((s-2*n)/r.w,(l-2*n)/r.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(s-o*(r.x1+r.x2))/2,y:(l-o*(r.y1+r.y2))/2};return{zoom:o,pan:u}}}},minZoom:function(t){return void 0===t?this._private.minZoom:(e.is.number(t)&&(this._private.minZoom=t),this)},maxZoom:function(t){return void 0===t?this._private.maxZoom:(e.is.number(t)&&(this._private.maxZoom=t),this)},zoom:function(t){var n,r;if(void 0===t)return this._private.zoom;if(e.is.number(t))r=t;else if(e.is.plainObject(t)){if(r=t.level,t.position){var i=t.position,a=this._private.pan,o=this._private.zoom;n={x:i.x*o+a.x,y:i.y*o+a.y}}else t.renderedPosition&&(n=t.renderedPosition);if(n&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!e.is.number(r)||n&&(!e.is.number(n.x)||!e.is.number(n.y)))return this;if(r=r>this._private.maxZoom?this._private.maxZoom:r,r=r<this._private.minZoom?this._private.minZoom:r,n){var s=this._private.pan,l=this._private.zoom,u=r,c={x:-u/l*(n.x-s.x)+n.x,y:-u/l*(n.y-s.y)+n.y};this._private.zoom=r,this._private.pan=c;var d=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(d?" pan ":"")+" viewport ")}else this._private.zoom=r,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(t){var n=this._private,r=!0,i=!0,a=[],o=!1,s=!1;if(!t)return this;if(e.is.number(t.zoom)||(r=!1),e.is.plainObject(t.pan)||(i=!1),!r&&!i)return this;if(r){var l=t.zoom;l<n.minZoom||l>n.maxZoom||!n.zoomingEnabled?o=!0:(n.zoom=l,a.push("zoom"))}if(i&&(!o||!t.cancelOnFailedZoom)&&n.panningEnabled){var u=t.pan;e.is.number(u.x)&&(n.pan.x=u.x,s=!1),e.is.number(u.y)&&(n.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.trigger(a.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(t,n){if(this._private.panningEnabled){if(e.is.string(t)){var r=t;t=this.elements(r)}else e.is.elementOrCollection(t)||(t=this.elements());var i=t.boundingBox(),a=this.width(),o=this.height();n=void 0===n?this._private.zoom:n;var s={x:(a-n*(i.x1+i.x2))/2,y:(o-n*(i.y1+i.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}}),e.corefn.centre=e.corefn.center,e.corefn.autolockNodes=e.corefn.autolock,e.corefn.autoungrabifyNodes=e.corefn.autoungrabify}(cytoscape),function(e){"use strict";e.fn.collection=e.fn.eles=function(t,n){for(var r in t){var i=t[r];e.Collection.prototype[r]=i}};var t={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(t,n,r){var i=e.is.element(n)?n._private:n,a=i.group,o=null!=r?r:this.prefix[a]+this.id[a];if(t.getElementById(o).empty())this.id[a]++;else for(;!t.getElementById(o).empty();)o=this.prefix[a]+ ++this.id[a];return o}};e.Element=function(t,n,r){if(!(this instanceof e.Element))return new e.Element(t,n,r);var i=this;if(r=void 0===r||r?!0:!1,void 0===t||void 0===n||!e.is.core(t))return void e.util.error("An element must have a core reference and parameters set");if("nodes"!==n.group&&"edges"!==n.group)return void e.util.error("An element must be of type `nodes` or `edges`; you specified `"+n.group+"`");if(this.length=1,this[0]=this,this._private={cy:t,single:!0,data:n.data||{},position:n.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:n.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:n.selected?!0:!1,selectable:void 0===n.selectable?!0:n.selectable?!0:!1,locked:n.locked?!0:!1,grabbed:!1,grabbable:void 0===n.grabbable?!0:n.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[]},n.renderedPosition){var a=n.renderedPosition,o=t.pan(),s=t.zoom();this._private.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}if(e.is.string(n.classes))for(var l=n.classes.split(/\s+/),u=0,c=l.length;c>u;u++){var d=l[u];d&&""!==d&&(i._private.classes[d]=!0)}n.css&&t.style().applyBypass(this,n.css),(void 0===r||r)&&this.restore()},e.Collection=function(n,r,i){if(!(this instanceof e.Collection))return new e.Collection(n,r);if(void 0===n||!e.is.core(n))return void e.util.error("A collection must have a reference to the core");var a={},o={},s=!1;if(r){if(r.length>0&&e.is.plainObject(r[0])&&!e.is.element(r[0])){s=!0;for(var l=[],u={},c=0,d=r.length;d>c;c++){var h=r[c];null==h.data&&(h.data={});var p=h.data;if(null==p.id)p.id=t.generate(n,h);else if(0!==n.getElementById(p.id).length||u[p.id])continue;var f=new e.Element(n,h,!1);l.push(f),u[p.id]=!0}r=l}}else r=[];this.length=0;for(var c=0,d=r.length;d>c;c++){var v=r[c];if(v){var g=v._private.data.id;(!i||i.unique&&!a[g])&&(a[g]=v,o[g]=this.length,this[this.length]=v,this.length++)}}this._private={cy:n,ids:a,indexes:o},s&&this.restore()},e.elefn=e.elesfn=e.Element.prototype=e.Collection.prototype,e.elesfn.cy=function(){return this._private.cy},e.elesfn.element=function(){return this[0]},e.elesfn.collection=function(){return e.is.collection(this)?this:new e.Collection(this._private.cy,[this])},e.elesfn.unique=function(){return new e.Collection(this._private.cy,this,{unique:!0})},e.elesfn.getElementById=function(t){var n=this._private.cy,r=this._private.ids[t];return r?r:e.Collection(n)},e.elesfn.json=function(){var t=this.element();if(null==t)return void 0;var n=t._private,r=e.util.copy({data:n.data,position:n.position,group:n.group,bypass:n.bypass,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbed:n.grabbed,grabbable:n.grabbable,classes:""}),i=[];for(var a in n.classes)n.classes[a]&&i.push(a);for(var o=0;o<i.length;o++){var a=i[o];r.classes+=a+(o<i.length-1?" ":"")}return r},e.elesfn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],r=n.json();e.push(r)}return e},e.elesfn.clone=function(){for(var t=this.cy(),n=[],r=0;r<this.length;r++){var i=this[r],a=i.json(),o=new e.Element(t,a,!1);n.push(o)}return new e.Collection(t,n)},e.elesfn.copy=e.elesfn.clone,e.elesfn.restore=function(n){var r=this,i=[],a=r.cy();void 0===n&&(n=!0);for(var o=[],s=[],l=[],u=0,c=0,d=0,h=r.length;h>d;d++){var p=r[d];p.isNode()?(s.push(p),u++):(l.push(p),c++)}o=s.concat(l);for(var d=0,h=o.length;h>d;d++){var p=o[d];if(p.removed()){var f=p._private,v=f.data;if(void 0===v.id)v.id=t.generate(a,p);else{if(e.is.emptyString(v.id)||!e.is.string(v.id)){e.util.error("Can not create element with invalid string ID `"+v.id+"`");continue}if(0!==a.getElementById(v.id).length){e.util.error("Can not create second element with ID `"+v.id+"`");continue}}var g=v.id;if(p.isEdge()){for(var y=p,m=["source","target"],x=m.length,b=!1,w=0;x>w;w++){var E=m[w],_=v[E];null==_||""===_?(e.util.error("Can not create edge `"+g+"` with unspecified "+E),b=!0):a.getElementById(_).empty()&&(e.util.error("Can not create edge `"+g+"` with nonexistant "+E+" `"+_+"`"),b=!0)}if(b)continue;var k=a.getElementById(v.source),S=a.getElementById(v.target);k._private.edges.push(y),S._private.edges.push(y),y._private.source=k,y._private.target=S}f.ids={},f.ids[g]=p,f.removed=!1,a.addToPool(p),i.push(p)}}for(var d=0;u>d;d++){var T=o[d],v=T._private.data,C=T._private.data.parent,D=null!=C;if(D){var N=a.getElementById(C);if(N.empty())v.parent=void 0;else{for(var P=!1,M=N;!M.empty();){if(T.same(M)){P=!0,v.parent=void 0;break}M=M.parent()}P||(N[0]._private.children.push(T),T._private.parent=N[0],a._private.hasCompoundNodes=!0)}}}if(i=new e.Collection(a,i),i.length>0){var B=i.add(i.connectedNodes()).add(i.parent());B.updateStyle(n),n?i.rtrigger("add"):i.trigger("add")}return r},e.elesfn.removed=function(){var e=this[0];return e&&e._private.removed},e.elesfn.inside=function(){var e=this[0];return e&&!e._private.removed},e.elesfn.remove=function(t){function n(e){for(var t=e._private.edges,n=0;n<t.length;n++)i(t[n])}function r(e){for(var t=e._private.children,n=0;n<t.length;n++)i(t[n])}function i(e){var t=c[e.id()];t||(c[e.id()]=!0,e.isNode()?(u.push(e),n(e),r(e)):u.unshift(e))}function a(e,t){for(var n=e._private.edges,r=0;r<n.length;r++){var i=n[r];if(t===i){n.splice(r,1);break}}}function o(e,t){t=t[0],e=e[0];for(var n=e._private.children,r=0;r<n.length;r++)if(n[r][0]===t[0]){n.splice(r,1);break}}var s=this,l=[],u=[],c={},d=s._private.cy;void 0===t&&(t=!0);for(var h=0,p=s.length;p>h;h++){var f=s[h];i(f)}for(var h=0;h<u.length;h++){var f=u[h];if(f._private.removed=!0,d.removeFromPool(f),l.push(f),f.isEdge()){var v=f.source()[0],g=f.target()[0];a(v,f),a(g,f)}else{var y=f.parent();0!==y.length&&o(y,f)}}var m=d._private.elements;d._private.hasCompoundNodes=!1;for(var h=0;h<m.length;h++){var f=m[h];if(f.isParent()){d._private.hasCompoundNodes=!0;break}}var x=new e.Collection(this.cy(),l);x.size()>0&&(t&&this.cy().notify({type:"remove",collection:x}),x.trigger("remove"));for(var b={},h=0;h<u.length;h++){var f=u[h],w="nodes"===f._private.group,E=f._private.data.parent;if(w&&void 0!==E&&!b[E]){b[E]=!0;var y=d.getElementById(E);y&&0!==y.length&&!y._private.removed&&0===y.children().length&&y.updateStyle()}}return this},e.elesfn.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.getElementById(n).length>0,a=t.getElementById(r).length>0;if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s];"edges"===l.group&&(i&&(l.data.source=n),a&&(l.data.target=r))}return t.add(o)}}else if(void 0!==e.parent){var u=e.parent,c=null===u||t.getElementById(u).length>0;if(c){var o=this.jsons(),d=this.descendants(),h=d.merge(d.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=o[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return t.add(o).merge(h.restore())}return this}}(cytoscape),function(e){"use strict";e.fn.eles({stdBreadthFirstSearch:function(t){return t=e.util.extend({},t,{std:!0}),this.breadthFirstSearch(t)},breadthFirstSearch:function(t,n,r){var i,a,o;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.roots,n=i.visit,r=i.directed,a=i.std,o=i.thisArg),r=2!==arguments.length||e.is.fn(n)?r:n,n=e.is.fn(n)?n:function(){};for(var s,l=this._private.cy,u=e.is.string(t)?this.filter(t):t,c=[],d=[],h={},p={},f={},v=0,g=this.nodes(),y=this.edges(),m=0;m<u.length;m++)u[m].isNode()&&(c.unshift(u[m]),f[u[m].id()]=!0,d.push(u[m]),p[u[m].id()]=0);for(;0!==c.length;){var x,u=c.shift(),b=p[u.id()],w=h[u.id()],E=null==w?void 0:w.connectedNodes().not(u)[0];if(x=a?n.call(o,u,w,E,v++,b):n.call(u,v++,b,u,w,E),x===!0){s=u;break}if(x===!1)break;for(var _=u.connectedEdges(r?function(){return this.data("source")===u.id()}:void 0).intersect(y),m=0;m<_.length;m++){var k=_[m],S=k.connectedNodes(function(){return this.id()!==u.id()}).intersect(g);0===S.length||f[S.id()]||(S=S[0],c.push(S),f[S.id()]=!0,p[S.id()]=p[u.id()]+1,d.push(S),h[S.id()]=k)}}for(var T=[],m=0;m<d.length;m++){var C=d[m],D=h[C.id()];D&&T.push(D),T.push(C)}return{path:new e.Collection(l,T,{unique:!0}),found:new e.Collection(l,s,{unique:!0})}},stdDepthFirstSearch:function(t){return t=e.util.extend({},t,{std:!0}),this.depthFirstSearch(t)},depthFirstSearch:function(t,n,r){var i,a,o;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.roots,n=i.visit,r=i.directed,a=i.std,o=i.thisArg),r=2!==arguments.length||e.is.fn(n)?r:n,n=e.is.fn(n)?n:function(){};for(var s,l=this._private.cy,u=e.is.string(t)?this.filter(t):t,c=[],d=[],h={},p={},f={},v=0,g=this.edges(),y=this.nodes(),m=0;m<u.length;m++)u[m].isNode()&&(c.push(u[m]),d.push(u[m]),p[u[m].id()]=0);for(;0!==c.length;){var u=c.pop();if(!f[u.id()]){f[u.id()]=!0;var x,b=p[u.id()],w=h[u.id()],E=null==w?void 0:w.connectedNodes().not(u)[0];if(x=a?n.call(o,u,w,E,v++,b):n.call(u,v++,b,u,w,E),x===!0){s=u;break}if(x===!1)break;for(var _=u.connectedEdges(r?function(){return this.data("source")===u.id()}:void 0).intersect(g),m=0;m<_.length;m++){var k=_[m],S=k.connectedNodes(function(){return this.id()!==u.id()}).intersect(y);0===S.length||f[S.id()]||(S=S[0],c.push(S),p[S.id()]=p[u.id()]+1,d.push(S),h[S.id()]=k)}}}for(var T=[],m=0;m<d.length;m++){var C=d[m],D=h[C.id()];D&&T.push(D),T.push(C)}return{path:new e.Collection(l,T,{unique:!0}),found:new e.Collection(l,s,{unique:!0})}},kruskal:function(t){function n(e){for(var t=0;t<i.length;t++){var n=i[t];if(n.anySame(e))return{eles:n,index:t}}}t=e.is.fn(t)?t:function(){return 1};for(var r=new e.Collection(this._private.cy,[]),i=[],a=this.nodes(),o=0;o<a.length;o++)i.push(a[o].collection());for(var s=this.edges(),l=s.toArray().sort(function(e,n){var r=t.call(e,e),i=t.call(n,n);return r-i}),o=0;o<l.length;o++){var u=l[o],c=u.source()[0],d=u.target()[0],h=n(c),p=n(d);h.index!==p.index&&(r=r.add(u),i[h.index]=h.eles.add(p.eles),i.splice(p.index,1))}return a.add(r)},dijkstra:function(t,n,r){var i;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(i=t,t=i.root,n=i.weight,r=i.directed);var a=this._private.cy;r=e.is.fn(n)?r:n,n=e.is.fn(n)?n:function(){return 1};for(var o=e.is.string(t)?this.filter(t).eq(0):t.eq(0),s={},l={},u={},c=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),h=[],p=0;p<d.length;p++)s[d[p].id()]=d[p].same(o)?0:1/0,h.push(d[p]);var f=function(e){return s[e.id()]};h=new e.Collection(a,h);for(var v=e.Minheap(a,h,f),g=function(e,t){for(var i,a=(r?e.edgesTo(t):e.edgesWith(t)).intersect(c),o=1/0,s=0;s<a.length;s++){var l=a[s],u=n.apply(l,[l]);(o>u||!i)&&(o=u,i=l)}return{edge:i,dist:o}};v.size()>0;){var y=v.pop(),m=y.value,x=y.id,b=a.getElementById(x);if(u[x]=m,m===Math.Infinite)break;for(var w=b.neighborhood().intersect(d),p=0;p<w.length;p++){var E=w[p],_=E.id(),k=g(b,E),S=m+k.dist;S<v.getValueById(_)&&(v.edit(_,S),l[_]={node:b,edge:k.edge})}}return{distanceTo:function(t){var n=e.is.string(t)?d.filter(t).eq(0):t.eq(0);return u[n.id()]},pathTo:function(t){var n=e.is.string(t)?d.filter(t).eq(0):t.eq(0),r=[],i=n;if(n.length>0)for(r.unshift(n);l[i.id()];){var o=l[i.id()];r.unshift(o.edge),r.unshift(o.node),i=o.node}return new e.Collection(a,r)}}}}),e.elesfn.bfs=e.elesfn.breadthFirstSearch,e.elesfn.dfs=e.elesfn.depthFirstSearch,e.elesfn.stdBfs=e.elesfn.stdBreadthFirstSearch,e.elesfn.stdDfs=e.elesfn.stdDepthFirstSearch}(cytoscape),function(e){"use strict";e.fn.eles({aStar:function(t){t=t||{};var n=function(e,t,r,a){if(e==t)return a.push(i.getElementById(t)),a;if(t in r){var o=r[t],s=p[t];return a.push(i.getElementById(t)),a.push(i.getElementById(s)),n(e,o,r,a)}return void 0},r=function(e,t){if(0===e.length)return void 0;for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];r>a&&(r=a,n=i)}return n},i=this._private.cy;if(null==t||null==t.root)return void 0;var a=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null==t.goal)return void 0;var o=e.is.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(null!=t.heuristic&&e.is.fn(t.heuristic))var s=t.heuristic;else var s=function(){return 0};if(null!=t.weight&&e.is.fn(t.weight))var l=t.weight;else var l=function(e){return 1};if(null!=t.directed)var u=t.directed;else var u=!1;var c=[],d=[a.id()],h={},p={},f={},v={};f[a.id()]=0,v[a.id()]=s(a);for(var g=this.edges().stdFilter(function(e){return!e.isLoop()}),y=this.nodes(),m=0;d.length>0;){var x=r(d,v),b=i.getElementById(d[x]);if(m++,b.id()==o.id()){var w=n(a.id(),o.id(),h,[]);return w.reverse(),{found:!0,distance:f[b.id()],path:new e.Collection(i,w),steps:m}}c.push(b.id()),d.splice(x,1);var E=b.connectedEdges();u&&(E=E.stdFilter(function(e){return e.data("source")===b.id()})),E=E.intersect(g);for(var _=0;_<E.length;_++){var k=E[_],S=k.connectedNodes().stdFilter(function(e){return e.id()!==b.id()}).intersect(y);if(-1==c.indexOf(S.id())){var T=f[b.id()]+l.apply(k,[k]);-1!=d.indexOf(S.id())?T<f[S.id()]&&(f[S.id()]=T,v[S.id()]=T+s(S),h[S.id()]=b.id()):(f[S.id()]=T,v[S.id()]=T+s(S),d.push(S.id()),h[S.id()]=b.id(),p[S.id()]=k.id())}}}return{found:!1,distance:void 0,path:void 0,steps:m}},floydWarshall:function(t){t=t||{};var n=this._private.cy;if(null!=t.weight&&e.is.fn(t.weight))var r=t.weight;else var r=function(e){return 1};if(null!=t.directed)var i=t.directed;else var i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l={},u=0;s>u;u++)l[o[u].id()]=u;for(var c=[],u=0;s>u;u++){for(var d=new Array(s),h=0;s>h;h++)d[h]=u==h?0:1/0;c.push(d)}var p=[],f=[],v=function(e){for(var t=0;s>t;t++){for(var n=new Array(s),r=0;s>r;r++)n[r]=void 0;e.push(n)}};v(p),v(f);for(var u=0;u<a.length;u++){var g=l[a[u].source().id()],y=l[a[u].target().id()],m=r.apply(a[u],[a[u]]);c[g][y]>m&&(c[g][y]=m,p[g][y]=y,f[g][y]=a[u])}if(!i)for(var u=0;u<a.length;u++){var g=l[a[u].target().id()],y=l[a[u].source().id()],m=r.apply(a[u],[a[u]]);c[g][y]>m&&(c[g][y]=m,p[g][y]=y,f[g][y]=a[u])}for(var x=0;s>x;x++)for(var u=0;s>u;u++)for(var h=0;s>h;h++)c[u][x]+c[x][h]<c[u][h]&&(c[u][h]=c[u][x]+c[x][h],p[u][h]=p[u][x]);for(var b=[],u=0;s>u;u++)b.push(o[u].id());var w={distance:function(t,r){if(e.is.string(t))var i=n.filter(t)[0].id();else var i=t.id();if(e.is.string(r))var a=n.filter(r)[0].id();else var a=r.id();return c[l[i]][l[a]]},path:function(t,r){var i=function(e,t,r,i,a){if(e===t)return n.getElementById(i[e]);if(void 0===r[e][t])return void 0;for(var o=[n.getElementById(i[e])],s=e;e!==t;){s=e,e=r[e][t];var l=a[s][e];o.push(l),o.push(n.getElementById(i[e]))}return o};if(e.is.string(t))var a=n.filter(t)[0].id();else var a=t.id();if(e.is.string(r))var o=n.filter(r)[0].id();else var o=r.id();var s=i(l[a],l[o],p,b,f);return new e.Collection(n,s)}};return w},bellmanFord:function(t){if(t=t||{},null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(e){return 1};if(null!=t.directed)var r=t.directed;else var r=!1;if(null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var i=this.filter(t.root)[0];else var i=t.root[0];for(var a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u={},c=0;l>c;c++)u[s[c].id()]=c;for(var d=[],h=[],p=[],c=0;l>c;c++)d[c]=s[c].id()===i.id()?0:1/0,h[c]=void 0;for(var f=!1,c=1;l>c;c++){f=!1;for(var v=0;v<o.length;v++){var g=u[o[v].source().id()],y=u[o[v].target().id()],m=n.apply(o[v],[o[v]]),x=d[g]+m;if(x<d[y]&&(d[y]=x,h[y]=g,p[y]=o[v],f=!0),!r){var x=d[y]+m;x<d[g]&&(d[g]=x,h[g]=y,p[g]=o[v],f=!0)}}if(!f)break}if(f)for(var v=0;v<o.length;v++){var g=u[o[v].source().id()],y=u[o[v].target().id()],m=n.apply(o[v],[o[v]]);if(d[g]+m<d[y])return e.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var b=[],c=0;l>c;c++)b.push(s[c].id());var w={distanceTo:function(t){if(e.is.string(t))var n=a.filter(t)[0].id();else var n=t.id();return d[u[n]]},pathTo:function(t){var n=function(e,t,n,r,i,o){for(;;){if(i.push(a.getElementById(r[n])),i.push(o[n]),t===n)return i;var s=e[n];if("undefined"==typeof s)return void 0;n=s}};if(e.is.string(t))var r=a.filter(t)[0].id();else var r=t.id();var o=[],s=n(h,u[i.id()],u[r],b,o,p);return null!=s&&s.reverse(),new e.Collection(a,s)},hasNegativeWeightCycle:!1};return w},kargerStein:function(t){t=t||{};var n=function(e,t,n){for(var r=n[e],i=r[1],a=r[2],o=t[i],s=t[a],l=n.filter(function(e){return t[e[1]]===o&&t[e[2]]===s?!1:t[e[1]]===s&&t[e[2]]===o?!1:!0}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=o):c[2]===s&&(l[u]=c.slice(0),l[u][2]=o)}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l},r=function(e,t,i,a){if(a>=i)return t;var o=Math.floor(Math.random()*t.length),s=n(o,e,t);return r(e,s,i-1,a)},i=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l=a.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),c=Math.floor(s/Math.sqrt(2));if(2>s)return void e.util.error("At least 2 nodes are required for KargerSteing algorithm!");for(var d={},h=0;s>h;h++)d[o[h].id()]=h;for(var p=[],h=0;l>h;h++){var f=a[h];p.push([h,d[f.source().id()],d[f.target().id()]])}for(var v,g=1/0,y=[],h=0;s>h;h++)y.push(h);for(var m=0;u>=m;m++){var x=y.slice(0),b=r(x,p,s,c),w=x.slice(0),E=r(x,b,c,2),_=r(w,b,c,2);E.length<=_.length&&E.length<g?(g=E.length,v=[E,x]):_.length<=E.length&&_.length<g&&(g=_.length,v=[_,w])}for(var k=v[0].map(function(e){return a[e[0]]}),S=[],T=[],C=v[1][0],h=0;h<v[1].length;h++){var D=v[1][h];D===C?S.push(o[h]):T.push(o[h])}var N={cut:new e.Collection(i,k),partition1:new e.Collection(i,S),partition2:new e.Collection(i,T)};return N},pageRank:function(t){t=t||{};var n=function(e){for(var t=e.length,n=0,r=0;t>r;r++)n+=e[r];for(var r=0;t>r;r++)e[r]=e[r]/n};if(null!=t&&null!=t.dampingfactor)var r=t.dampingFactor;else var r=.8;if(null!=t&&null!=t.precision)var i=t.precision;else var i=1e-6;if(null!=t&&null!=t.iterations)var a=t.iterations;else var a=200;if(null!=t&&null!=t.weight&&e.is.fn(t.weight))var o=t.weight;else var o=function(e){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,d=l.length,h={},p=0;c>p;p++)h[u[p].id()]=p;for(var f=[],v=[],g=(1-r)/c,p=0;c>p;p++){for(var y=[],m=0;c>m;m++)y.push(0);f.push(y),v.push(0)}for(var p=0;d>p;p++){var x=l[p],b=h[x.source().id()],w=h[x.target().id()],E=o.apply(x,[x]);f[w][b]+=E,v[b]+=E}for(var _=1/c+g,m=0;c>m;m++)if(0===v[m])for(var p=0;c>p;p++)f[p][m]=_;else for(var p=0;c>p;p++)f[p][m]=f[p][m]/v[m]+g;for(var k,S=[],T=[],p=0;c>p;p++)S.push(1),T.push(0);for(var C=0;a>C;C++){for(var D=T.slice(0),p=0;c>p;p++)for(var m=0;c>m;m++)D[p]+=f[p][m]*S[m];n(D),k=S,S=D;for(var N=0,p=0;c>p;p++)N+=Math.pow(k[p]-S[p],2);if(i>N)break}var P={rank:function(t){if(e.is.string(t))var n=s.filter(t)[0].id();else var n=t.id();return S[h[n]]}};return P},degreeCentralityNormalized:function(t){if(t=t||{},null!=t.directed)var n=t.directed;else var n=!1;var r=this.nodes(),i=r.length;if(n){for(var a={},o={},s=0,l=0,u=0;i>u;u++){var c=r[u],d=this.degreeCentrality(e.util.extend({},t,{root:c}));s<d.indegree&&(s=d.indegree),l<d.outdegree&&(l=d.outdegree),a[c.id()]=d.indegree,o[c.id()]=d.outdegree}return{indegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return a[t]/s},outdegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return o[t]/l}}}for(var h={},p=0,u=0;i>u;u++){var c=r[u],d=this.degreeCentrality(e.util.extend({},t,{root:c}));p<d.degree&&(p=d.degree),h[c.id()]=d.degree}return{degree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return h[t]/p}}},degreeCentrality:function(t){t=t||{};var n=this;if(null==t||null==t.root)return void 0;var r=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var i=t.weight;else var i=function(e){return 1};if(null!=t.directed)var a=t.directed;else var a=!1;if(null!=t.alpha&&e.is.number(t.alpha))var o=t.alpha;else o=0;if(a){for(var s=r.connectedEdges('edge[target = "'+r.id()+'"]').intersection(n),l=r.connectedEdges('edge[source = "'+r.id()+'"]').intersection(n),u=s.length,c=l.length,d=0,h=0,p=0;p<s.length;p++){
var f=s[p];d+=i.apply(f,[f])}for(var p=0;p<l.length;p++){var f=l[p];h+=i.apply(f,[f])}return{indegree:Math.pow(u,1-o)*Math.pow(d,o),outdegree:Math.pow(c,1-o)*Math.pow(h,o)}}for(var v=r.connectedEdges().intersection(n),g=v.length,y=0,p=0;p<v.length;p++){var f=v[p];y+=i.apply(f,[f])}return{degree:Math.pow(g,1-o)*Math.pow(y,o)}},closenessCentralityNormalized:function(t){t=t||{};for(var n={},r=0,i=this.nodes(),a=this.floydWarshall({weight:t.weight,directed:t.directed}),o=0;o<i.length;o++){for(var s=0,l=0;l<i.length;l++)o!=l&&(s+=1/a.distance(i[o],i[l]));s>r&&(r=s),n[i[o].id()]=s}return{closeness:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return n[t]/r}}},closenessCentrality:function(t){if(t=t||{},null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var n=this.filter(t.root)[0];else var n=t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var r=t.weight;else var r=function(){return 1};if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var a=this.dijkstra({root:n,weight:r,directed:i}),o=0,s=this.nodes(),l=0;l<s.length;l++)s[l].id()!=n.id()&&(o+=1/a.distanceTo(s[l]));return o},betweennessCentrality:function(t){if(t=t||{},null!=t.weight&&e.is.fn(t.weight))var n=t.weight,r=!0;else var r=!1;if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var a=function(e,t){e.unshift(t);for(var n=0;v[e[n]]<v[e[n+1]]&&n<e.length-1;n++){var r=e[n];e[n]=e[n+1],e[n+1]=r}},o=this._private.cy,s=this.nodes(),l={},u={},c=0;c<s.length;c++)l[s[c].id()]=i?s[c].outgoers("node"):s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)u[s[c].id()]=0;for(var d=0;d<s.length;d++){for(var h=[],p={},f={},v={},g=[],c=0;c<s.length;c++)p[s[c].id()]=[],f[s[c].id()]=0,v[s[c].id()]=Number.POSITIVE_INFINITY;for(f[s[d].id()]=1,v[s[d].id()]=0,g.unshift(s[d].id());g.length>0;){var y=g.pop();h.push(y),l[y].forEach(r?function(e){if(o.$("#"+y).edgesTo(e).length>0)var t=o.$("#"+y).edgesTo(e)[0];else var t=e.edgesTo("#"+y)[0];var r=n.apply(t,[t]);v[e.id()]>v[y]+r&&(v[e.id()]=v[y]+r,g.indexOf(e.id())<0?a(g,e.id()):(g.splice(g.indexOf(e.id()),1),a(g,e.id())),f[e.id()]=0,p[e.id()]=[]),v[e.id()]==v[y]+r&&(f[e.id()]=f[e.id()]+f[y],p[e.id()].push(y))}:function(e){v[e.id()]==Number.POSITIVE_INFINITY&&(g.unshift(e.id()),v[e.id()]=v[y]+1),v[e.id()]==v[y]+1&&(f[e.id()]=f[e.id()]+f[y],p[e.id()].push(y))})}for(var m={},c=0;c<s.length;c++)m[s[c].id()]=0;for(;h.length>0;){var x=h.pop();p[x].forEach(function(e){m[e]=m[e]+f[e]/f[x]*(1+m[x]),x!=s[d].id()&&(u[x]=u[x]+m[x])})}}var b=0;for(var w in u)b<u[w]&&(b=u[w]);var E={betweenness:function(t){if(e.is.string(t))var t=o.filter(t)[0].id();else var t=t.id();return u[t]},betweennessNormalized:function(t){if(e.is.string(t))var t=o.filter(t)[0].id();else var t=t.id();return u[t]/b}};return E.betweennessNormalised=E.betweennessNormalized,E}}),e.elesfn.dc=e.elesfn.degreeCentrality,e.elesfn.dcn=e.elesfn.degreeCentralityNormalised=e.elesfn.degreeCentralityNormalized,e.elesfn.cc=e.elesfn.closenessCentrality,e.elesfn.ccn=e.elesfn.closenessCentralityNormalised=e.elesfn.closenessCentralityNormalized,e.elesfn.bc=e.elesfn.betweennessCentrality}(cytoscape),function(e){"use strict";e.fn.eles({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop()})}(cytoscape),function(e){"use strict";e.fn.eles({addClass:function(t){t=t.split(/\s+/);for(var n=this,r=[],i=0;i<t.length;i++){var a=t[i];if(!e.is.emptyString(a))for(var o=0;o<n.length;o++){var s=n[o],l=s._private.classes[a];s._private.classes[a]=!0,l||r.push(s)}}return r.length>0&&new e.Collection(this._private.cy,r).updateStyle().trigger("class"),n},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes[e]?!0:!1},toggleClass:function(t,n){for(var r=t.split(/\s+/),i=this,a=[],o=0,s=i.length;s>o;o++)for(var l=i[o],u=0;u<r.length;u++){var c=r[u];if(!e.is.emptyString(c)){var d=l._private.classes[c],h=n||void 0===n&&!d;h?(l._private.classes[c]=!0,d||a.push(l)):(l._private.classes[c]=!1,d&&a.push(l))}}return a.length>0&&new e.Collection(this._private.cy,a).updateStyle().trigger("class"),i},removeClass:function(t){t=t.split(/\s+/);for(var n=this,r=[],i=0;i<n.length;i++)for(var a=n[i],o=0;o<t.length;o++){var s=t[o];if(s&&""!==s){var l=a._private.classes[s];a._private.classes[s]=void 0,l&&r.push(a)}}return r.length>0&&new e.Collection(n._private.cy,r).updateStyle(),n.trigger("class"),n},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}})}(cytoscape),function(e){"use strict";e.fn.eles({allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var n=0;n<this.length;n++){var r=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(r)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var r=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!r)return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}}),e.elesfn.allAreNeighbours=e.elesfn.allAreNeighbors}(cytoscape),function(e){"use strict";e.fn.eles({parent:function(t){for(var n=[],r=this._private.cy,i=0;i<this.length;i++){var a=this[i],o=r.getElementById(a._private.data.parent);o.size()>0&&n.push(o)}return new e.Collection(r,n,{unique:!0}).filter(t)},parents:function(t){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var a=r[i];n.push(a)}r=r.parent()}return new e.Collection(this.cy(),n,{unique:!0}).filter(t)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n],i=r.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];n=n.concat(i._private.children)}return new e.Collection(this.cy(),n,{unique:!0}).filter(t)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(t){function n(e){for(var t=0;t<e.length;t++){var i=e[t];r.push(i),i.children().nonempty()&&n(i.children())}}var r=[];return n(this.children()),new e.Collection(this.cy(),r,{unique:!0}).filter(t)}}),e.elesfn.ancestors=e.elesfn.parents}(cytoscape),function(e){"use strict";var t=1,n=0;e.fn.eles({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:e.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:e.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:e.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:e.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0},position:e.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()}}),silentPosition:e.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()}}),positions:function(t,n){if(e.is.plainObject(t))this.position(t);else if(e.is.fn(t)){for(var r=t,i=0;i<this.length;i++){var a=this[i],t=r.apply(a,[i,a]);if(t&&!a.locked()){var o=a._private.position;o.x=t.x,o.y=t.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;n?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},updateCompoundBounds:function(){function t(e){var t=e.children(),n=e._private.style,i="include"===n["compound-sizing-wrt-labels"].value,a=t.boundingBox({includeLabels:i,includeEdges:!0}),o={top:n["padding-top"].pxValue,bottom:n["padding-bottom"].pxValue,left:n["padding-left"].pxValue,right:n["padding-right"].pxValue},s=e._private.position,l=!1;"auto"===n.width.value&&(e._private.autoWidth=a.w+o.left+o.right,s.x=(a.x1+a.x2-o.left+o.right)/2,l=!0),"auto"===n.height.value&&(e._private.autoHeight=a.h+o.top+o.bottom,s.y=(a.y1+a.y2-o.top+o.bottom)/2,l=!0),l&&r.push(e)}var n=this.cy();if(!n.styleEnabled()||!n.hasCompoundNodes())return n.collection();for(var r=[],i=this.parent();i.nonempty();){for(var a=0;a<i.length;a++){var o=i[a];t(o)}i=i.parent()}return new e.Collection(n,r)},renderedPosition:function(t,n){var r=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=e.is.plainObject(t)?t:void 0,l=void 0!==s||void 0!==n&&e.is.string(t);if(r&&r.isNode()){if(!l){var u=r._private.position;return s={x:u.x*a+o.x,y:u.y*a+o.y},void 0===t?s:s[t]}for(var c=0;c<this.length;c++){var r=this[c];void 0!==n?r._private.position[t]=(n-o[t])/a:void 0!==s&&(r._private.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a})}this.rtrigger("position")}else if(!l)return void 0;return this},relativePosition:function(t,n){var r=this[0],i=this.cy(),a=e.is.plainObject(t)?t:void 0,o=void 0!==a||void 0!==n&&e.is.string(t),s=i.hasCompoundNodes();if(r&&r.isNode()){if(!o){var l=r._private.position,u=s?r.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u._private.position:{x:0,y:0};return a={x:l.x-h.x,y:l.y-h.y},void 0===t?a:a[t]}for(var p=0;p<this.length;p++){var r=this[p],u=s?r.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u._private.position:{x:0,y:0};void 0!==n?r._private.position[t]=n+h[t]:void 0!==a&&(r._private.position={x:a.x+h.x,y:a.y+h.y})}this.rtrigger("position")}else if(!o)return void 0;return this},width:function(){var e=this[0],t=e._private.cy,n=t._private.styleEnabled;if(e){if(n){var r=e._private.style.width;return"auto"===r.strValue?e._private.autoWidth:r.pxValue}return 1}},outerWidth:function(){var e=this[0],r=e._private.cy,i=r._private.styleEnabled;if(e){if(i){var a=e._private.style,o="auto"===a.width.strValue?e._private.autoWidth:a.width.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+n:0;return o+s}return 1}},renderedWidth:function(){var e=this[0];if(e){var t=e.width();return t*this.cy().zoom()}},renderedOuterWidth:function(){var e=this[0];if(e){var t=e.outerWidth();return t*this.cy().zoom()}},height:function(){var e=this[0],t=e._private.cy,n=t._private.styleEnabled;if(e&&"nodes"===e._private.group){if(n){var r=e._private.style.height;return"auto"===r.strValue?e._private.autoHeight:r.pxValue}return 1}},outerHeight:function(){var e=this[0],r=e._private.cy,i=r._private.styleEnabled;if(e&&"nodes"===e._private.group){if(!i)return 1;var a=e._private.style,o="auto"===a.height.strValue?e._private.autoHeight:a.height.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+n:0;return o+s}},renderedHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.height();return t*this.cy().zoom()}},renderedOuterHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.outerHeight();return t*this.cy().zoom()}},renderedBoundingBox:function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},boundingBox:function(e){var t=this,n=t._private.cy,r=n._private,i=r.styleEnabled;e=e||{};var a=void 0===e.includeNodes?!0:e.includeNodes,o=void 0===e.includeEdges?!0:e.includeEdges,s=void 0===e.includeLabels?!0:e.includeLabels;i&&r.renderer.recalculateRenderedStyle(this);for(var l=1/0,u=-(1/0),c=1/0,d=-(1/0),h=0;h<t.length;h++){var p,f,v,g,y,m,x=t[h],b=x._private,w=i?b.style.display.value:"element",E="nodes"===b.group,_=!1;if("none"!==w){if(E&&a){_=!0;var k=b.position;y=k.x,m=k.y;var S=x.outerWidth(),T=S/2,C=x.outerHeight(),D=C/2;p=y-T,f=y+T,v=m-D,g=m+D,l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d}else if(x.isEdge()&&o){_=!0;var N=x._private.source._private.position,P=x._private.target._private.position,M=x._private.rstyle||{};if(p=N.x,f=P.x,v=N.y,g=P.y,p>f){var B=p;p=f,f=B}if(v>g){var B=v;v=g,g=B}if(l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d,i)for(var L=M.bezierPts||[],S=x._private.style.width.pxValue,O=S/2,A=0;A<L.length;A++){var I=L[A];p=I.x-O,f=I.x+O,v=I.y-O,g=I.y+O,l=l>p?p:l,u=f>u?f:u,c=c>v?v:c,d=g>d?g:d}}if(i){var z=x._private.style,M=x._private.rstyle,F=z.content.strValue,R=z["font-size"],j=z["text-halign"],X=z["text-valign"],q=M.labelWidth,V=M.labelHeight,$=M.labelX,Y=M.labelY;if(_&&s&&F&&R&&null!=V&&null!=q&&null!=$&&null!=Y&&j&&X){var H,W,U,Z,G=V,K=q;if(x.isEdge())H=$-K/2,W=$+K/2,U=Y-G/2,Z=Y+G/2;else{switch(j.value){case"left":H=$-K,W=$;break;case"center":H=$-K/2,W=$+K/2;break;case"right":H=$,W=$+K}switch(X.value){case"top":U=Y-G,Z=Y;break;case"center":U=Y-G/2,Z=Y+G/2;break;case"bottom":U=Y,Z=Y+G}}l=l>H?H:l,u=W>u?W:u,c=c>U?U:c,d=Z>d?Z:d}}}}return{x1:l,x2:u,y1:c,y2:d,w:u-l,h:d-c}}});var r=e.elesfn;r.attr=r.data,r.removeAttr=r.removeData,r.modelPosition=r.point=r.position,r.modelPositions=r.points=r.positions,r.renderedPoint=r.renderedPosition,r.relativePoint=r.relativePosition,r.boundingbox=r.boundingBox,r.renderedBoundingbox=r.renderedBoundingBox}(cytoscape),function(e){"use strict";function t(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];(t||!s.isLoop())&&(r+=e(i,s))}return r}}}function n(e,t){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](n);void 0===s||void 0!==r&&!t(s,r)||(r=s)}return r}}e.fn.eles({degree:t(function(e,t){return t.source().same(t.target())?2:1}),indegree:t(function(e,t){return t.target().same(e)?1:0}),outdegree:t(function(e,t){return t.source().same(e)?1:0})}),e.fn.eles({minDegree:n("degree",function(e,t){return t>e}),maxDegree:n("degree",function(e,t){return e>t}),minIndegree:n("indegree",function(e,t){return t>e}),maxIndegree:n("indegree",function(e,t){return e>t}),minOutdegree:n("outdegree",function(e,t){return t>e}),maxOutdegree:n("outdegree",function(e,t){return e>t})}),e.fn.eles({totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}})}(cytoscape),function(e){"use strict";e.fn.eles({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger(),rtrigger:function(e,t){return 0!==this.length?(this.cy().notify({type:e,collection:this}),this.trigger(e,t),this):void 0}}),e.define.eventAliasesOn(e.elesfn)}(cytoscape),function(e){"use strict";e.fn.eles({nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(t){var n=this._private.cy;if(e.is.fn(t)){for(var r=[],i=0;i<this.length;i++){var a=this[i];t.apply(a,[i,a])&&r.push(a)}return new e.Collection(n,r)}return e.is.string(t)||e.is.elementOrCollection(t)?new e.Selector(t).filter(this):void 0===t?this:new e.Collection(n)},not:function(t){var n=this._private.cy;if(t){e.is.string(t)&&(t=this.filter(t));for(var r=[],i=0;i<this.length;i++){var a=this[i],o=t._private.ids[a.id()];o||r.push(a)}return new e.Collection(n,r)}return this},absoluteComplement:function(){var e=this._private.cy;return e.elements().not(this)},intersect:function(t){var n=this._private.cy;if(e.is.string(t)){var r=t;return this.filter(r)}for(var i=[],a=this,o=t,s=this.length<t.length,l=s?o._private.ids:a._private.ids,u=s?a:o,c=0;c<u.length;c++){var d=u[c]._private.data.id,h=l[d];h&&i.push(h)}return new e.Collection(n,i)},xor:function(t){var n=this._private.cy;e.is.string(t)&&(t=n.$(t));var r=[],i=this,a=t,o=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=t._private.ids[a];o||r.push(i)}};return o(i,a),o(a,i),new e.Collection(n,r)},diff:function(t){var n=this._private.cy;e.is.string(t)&&(t=n.$(t));var r=[],i=[],a=[],o=this,s=t,l=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id,s=t._private.ids[o];s?a.push(i):n.push(i)}};return l(o,s,r),l(s,o,i),{left:new e.Collection(n,r,{unique:!0}),right:new e.Collection(n,i,{unique:!0}),both:new e.Collection(n,a,{unique:!0})}},add:function(t){var n=this._private.cy;if(!t)return this;if(e.is.string(t)){var r=t;t=n.elements(r)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var a=0;a<t.length;a++){var o=!this._private.ids[t[a].id()];o&&i.push(t[a])}return new e.Collection(n,i)},merge:function(t){var n=this._private,r=n.cy;if(!t)return this;if(e.is.string(t)){var i=t;t=r.elements(i)}for(var a=0;a<t.length;a++){var o=t[a],s=o.id(),l=!n.ids[s];if(l){var u=this.length++;this[u]=o,n.ids[s]=o,n.indexes[s]=u}}return this},unmergeOne:function(e){e=e[0];var t=this._private,n=e.id(),r=t.indexes[n];if(null==r)return this;this[r]=void 0,t.ids[n]=void 0,t.indexes[n]=void 0;var i=r===this.length-1;if(this.length>1&&!i){var a=this.length-1,o=this[a];this[a]=void 0,this[r]=o,t.indexes[o.id()]=r}return this.length--,this},unmerge:function(t){var n=this._private.cy;if(!t)return this;if(e.is.string(t)){var r=t;t=n.elements(r)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var a=r[i],o=t?e.apply(t,[a,i,r]):e(a,i,r);n.push(o)}return n},stdFilter:function(t,n){for(var r=[],i=this,a=this._private.cy,o=0;o<i.length;o++){var s=i[o],l=n?t.apply(n,[s,o,i]):t(s,o,i);l&&r.push(s)}return new e.Collection(a,r)},max:function(e,t){for(var n,r=-(1/0),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>r&&(r=s,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);r>s&&(r=s,n=o)}return{value:r,ele:n}}});var t=e.elesfn;t.u=t["|"]=t["+"]=t.union=t.or=t.add,t["\\"]=t["!"]=t["-"]=t.difference=t.relativeComplement=t.not,t.n=t["&"]=t["."]=t.and=t.intersection=t.intersect,t["^"]=t["(+)"]=t["(-)"]=t.symmetricDifference=t.symdiff=t.xor,t.fnFilter=t.filterFn=t.stdFilter,t.complement=t.abscomp=t.absoluteComplement}(cytoscape),function(e){"use strict";e.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}})}(cytoscape),function(e){"use strict";e.fn.eles({each:function(t){if(e.is.fn(t))for(var n=0;n<this.length;n++){var r=this[n],i=t.apply(r,[n,r]);if(i===!1)break}return this},forEach:function(t,n){if(e.is.fn(t))for(var r=0;r<this.length;r++){var i=this[r],a=n?t.apply(n,[i,r,this]):t(i,r,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(t,n){var r=[],i=this.length;null==n&&(n=i),null==t&&(t=0),0>t&&(t=i+t),0>n&&(n=i+n);for(var a=t;a>=0&&n>a&&i>a;a++)r.push(this[a]);return new e.Collection(this.cy(),r)},size:function(){return this.length},eq:function(t){return this[t]||new e.Collection(this.cy())},first:function(){return this[0]||new e.Collection(this.cy())},last:function(){return this[this.length-1]||new e.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!e.is.fn(t))return this;var n=this.cy(),r=this.toArray().sort(t);return new e.Collection(n,r)},sortByZIndex:function(){return this.sort(e.Collection.zIndexSort)},zDepth:function(){var e=this[0];if(!e)return void 0;var t=e._private,n=t.group;if("nodes"===n){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:Number.MAX_VALUE}var i=t.source,a=t.target,o=i.zDepth(),s=a.zDepth();return Math.max(o,s,0)}}),e.Collection.zIndexSort=function(e,t){var n=e.cy(),r=e._private,i=t._private,a=r.style["z-index"].value-i.style["z-index"].value,o=0,s=0,l=n.hasCompoundNodes(),u="nodes"===r.group,c="edges"===r.group,d="nodes"===i.group,h="edges"===i.group;l&&(o=e.zDepth(),s=t.zDepth());var p=o-s,f=0===p;return f?u&&h?1:c&&d?-1:0===a?r.index-i.index:a:p}}(cytoscape),function(e){"use strict";e.fn.eles({layoutPositions:function(t,n,r){var i=this.nodes(),a=this.cy();if(t.trigger({type:"layoutstart",layout:t}),n.animate){for(var o=0;o<i.length;o++){var s=i[o],l=o===i.length-1,u=r.call(s,o,s),c=s.position();e.is.number(c.x)&&e.is.number(c.y)||s.silentPosition({x:0,y:0}),s.animate({position:u},{duration:n.animationDuration,step:l?function(){n.fit&&a.fit(n.padding)}:void 0,complete:l?function(){null!=n.zoom&&a.zoom(n.zoom),n.pan&&a.pan(n.pan),n.fit&&a.fit(n.padding),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t})}:void 0})}t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t})}else i.positions(r),n.fit&&a.fit(n.padding),null!=n.zoom&&a.zoom(n.zoom),n.pan&&a.pan(n.pan),t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t});return this},layout:function(t){var n=this.cy();return n.layout(e.util.extend({},t,{eles:this})),this},makeLayout:function(t){var n=this.cy();return n.makeLayout(e.util.extend({},t,{eles:this}))}}),e.elesfn.createLayout=e.elesfn.makeLayout}(cytoscape),function(e){"use strict";e.fn.eles({updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){for(var n=t._private.batchStyleEles,r=0;r<this.length;r++){var i=this[r];n.ids[i._private.id]||n.push(i)}return this}var a=t.style();e=e||void 0===e?!0:!1,a.apply(this);var o=this.updateCompoundBounds(),s=o.length>0?this.add(o):this;return e?s.rtrigger("style"):s.trigger("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=e||void 0===e?!0:!1,!t.styleEnabled())return this;n.updateMappers(this);var r=this.updateCompoundBounds(),i=r.length>0?this.add(r):this;return e?i.rtrigger("style"):i.trigger("style"),this},renderedCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n){var r=n.cy().style().getRenderedStyle(n);return void 0===e?r:r[e]}},css:function(t,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,a=r.style();if(e.is.plainObject(t)){var o=t;a.applyBypass(this,o,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(e.is.string(t)){if(void 0===n){var u=this[0];return u?u._private.style[t].strValue:void 0}a.applyBypass(this,t,n,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===t){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];r.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var o=i[a];r.removeBypasses(o,e,n)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;return l.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],n=e.hasCompoundNodes();if(t){var r=t._private.style;if("visible"!==r.visibility.value||"element"!==r.display.value)return!1;if("nodes"===t._private.group){if(!n)return!0;var i=t._private.data.parent?t.parents():null;if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var c=t._private.source,d=t._private.target;return c.visible()&&d.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=r.style.opacity.value;if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s._private.style.opacity.value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();return t?n?0===t.effectiveOpacity():0===t._private.style.opacity.value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var n="auto"===t._private.style.width.value,r="auto"===t._private.style.height.value;return t.isParent()&&n&&r}},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return t._private.backgrounding?!0:!1}}),e.elesfn.bypass=e.elesfn.style=e.elesfn.css,e.elesfn.renderedStyle=e.elesfn.renderedCss,e.elesfn.removeBypass=e.elesfn.removeStyle=e.elesfn.removeCss}(cytoscape),function(e){"use strict";function t(t){return function(){var n=arguments,r=[];if(2===n.length){var i=n[0],a=n[1];this.bind(t.event,i,a)}else if(1===n.length){var a=n[0];this.bind(t.event,a)}else if(0===n.length){for(var o=0;o<this.length;o++){var s=this[o],l=!t.ableField||s._private[t.ableField],u=s._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[t.field]=t.value,u&&r.push(s))}var d=e.Collection(this.cy(),r);d.updateStyle(),d.trigger(t.event)}return this}}function n(n){e.elesfn[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(void 0!==t)return t}return e._private[n.field]}},e.elesfn[n.on]=t({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),e.elesfn[n.off]=t({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}n({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),n({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),n({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),n({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),e.elesfn.deselect=e.elesfn.unselect,e.elesfn.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0},n({field:"active",on:"activate",off:"unactivate"}),e.elesfn.inactive=function(){var e=this[0];return e?!e._private.active:void 0}}(cytoscape),function(e){"use strict";function t(t){return function(n){for(var r=[],i=this._private.cy,a=0;a<this.length;a++){var o=this[a],s=o._private[t.attr];s&&r.push(s)}return new e.Collection(i,r,{unique:!0}).filter(n)}}function n(t){return function(n){var r=[],i=this._private.cy,a=t||{};e.is.string(n)&&(n=i.$(n));for(var o=n.connectedEdges(),s=this._private.ids,l=0;l<o.length;l++){var u,c=o[l],d=c._private.data;if(a.thisIs){var h=d[a.thisIs];u=s[h]}else u=s[d.source]||s[d.target];u&&r.push(c)}return new e.Collection(i,r,{unique:!0})}}function r(t){var n={codirected:!1};return t=e.util.extend({},n,t),function(n){for(var r=this._private.cy,i=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],u=l.source()[0],c=u.id(),d=l.target()[0],h=d.id(),p=u._private.edges,f=0;f<p.length;f++){var v=p[f],g=v._private.data,y=g.target,m=g.source,x=y===h&&m===c,b=c===y&&h===m;(o.codirected&&x||!o.codirected&&(x||b))&&i.push(v)}return new e.Collection(r,i,{unique:!0}).filter(n)}}e.fn.eles({roots:function(t){for(var n=this,r=[],i=0;i<n.length;i++){var a=n[i];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("target")===a.id()&&this.data("source")!==a.id()}).length>0;o||r.push(a)}}return new e.Collection(this._private.cy,r,{unique:!0}).filter(t)},leaves:function(t){for(var n=this,r=[],i=0;i<n.length;i++){var a=n[i];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("source")===a.id()&&this.data("target")!==a.id()}).length>0;o||r.push(a)}}return new e.Collection(this._private.cy,r,{unique:!0}).filter(t)},outgoers:function(t){for(var n=this,r=[],i=0;i<n.length;i++){var a=n[i],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;c===o&&d!==o&&(r.push(u),r.push(u.target()[0]))}}return new e.Collection(this._private.cy,r,{unique:!0}).filter(t)},successors:function(t){for(var n=this,r=[],i={};;){var a=n.outgoers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,r.push(l),o=!0)}if(!o)break;n=a}return new e.Collection(this._private.cy,r,{unique:!0}).filter(t)},incomers:function(t){for(var n=this,r=[],i=0;i<n.length;i++){var a=n[i],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;d===o&&c!==o&&(r.push(u),r.push(u.source()[0]))}}return new e.Collection(this._private.cy,r,{unique:!0}).filter(t)},predecessors:function(t){for(var n=this,r=[],i={};;){var a=n.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,r.push(l),o=!0)}if(!o)break;n=a}return new e.Collection(this._private.cy,r,{unique:!0}).filter(t)}}),e.fn.eles({neighborhood:function(t){for(var n=[],r=this._private.cy,i=this.nodes(),a=0;a<i.length;a++)for(var o=i[a],s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.connectedNodes().not(o);c.length>0&&n.push(c[0]),n.push(u[0])}return new e.Collection(r,n,{unique:!0}).filter(t)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),e.elesfn.neighbourhood=e.elesfn.neighborhood,e.elesfn.closedNeighbourhood=e.elesfn.closedNeighborhood,e.elesfn.openNeighbourhood=e.elesfn.openNeighborhood,e.fn.eles({source:function(e){var t,n=this[0];return n&&(t=n._private.source),t&&e?t.filter(e):t},target:function(e){var t,n=this[0];return n&&(t=n._private.target),t&&e?t.filter(e):t},sources:t({attr:"source"}),targets:t({attr:"target"})}),e.fn.eles({edgesWith:n(),edgesTo:n({thisIs:"source"})}),e.fn.eles({connectedEdges:function(t){for(var n=[],r=this._private.cy,i=this,a=0;a<i.length;a++){var o=i[a];if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l];n.push(u)}}return new e.Collection(r,n,{unique:!0}).filter(t)},connectedNodes:function(t){for(var n=[],r=this._private.cy,i=this,a=0;a<i.length;a++){var o=i[a];o.isEdge()&&(n.push(o.source()[0]),n.push(o.target()[0]))}return new e.Collection(r,n,{unique:!0}).filter(t)},parallelEdges:r(),codirectedEdges:r({codirected:!0})})}(cytoscape),function(e){"use strict";e.fn.eles({fit:function(){},center:function(){}})}(cytoscape),function(e){"use strict";e.Minheap=function(t,n,r){return new e.Heap(t,n,e.Heap.minHeapComparator,r)},e.Maxheap=function(t,n,r){return new e.Heap(t,n,e.Heap.maxHeapComparator,r)},e.Heap=function(t,n,r,i){if("undefined"!=typeof r&&"undefined"!=typeof n){"undefined"==typeof i&&(i=e.Heap.idFn);var a,o,s,l=[],u={},c=[],d=0;for(n=this.getArgumentAsCollection(n,t),s=n.length,d=0;s>d;d+=1){if(l.push(i.call(t,n[d],d,n)),a=n[d].id(),
u.hasOwnProperty(a))throw"ERROR: Multiple items with the same id found: "+a;u[a]=d,c.push(a)}for(this._private={cy:t,heap:l,pointers:u,elements:c,comparator:r,extractor:i,length:s},d=Math.floor(s/2);d>=0;d-=1)o=this.heapify(d);return o}},e.Heap.idFn=function(e){return e.id()},e.Heap.minHeapComparator=function(e,t){return e>=t},e.Heap.maxHeapComparator=function(e,t){return t>=e},e.fn.heap=function(t,n){for(var r in t){var i=t[r];e.Heap.prototype[r]=i}},e.heapfn=e.Heap.prototype,e.heapfn.size=function(){return this._private.length},e.heapfn.getArgumentAsCollection=function(t,n){var r;if("undefined"==typeof n&&(n=this._private.cy),e.is.elementOrCollection(t))r=t;else{for(var i=[],a=[].concat.apply([],[t]),o=0;o<a.length;o++){var s=a[o],l=n.getElementById(s);l.length>0&&i.push(l)}r=new e.Collection(n,i)}return r},e.heapfn.isHeap=function(){var e,t,n,r,i,a=this._private.heap,o=a.length,s=this._private.comparator;for(e=0;o>e;e+=1)if(t=2*e+1,n=t+1,r=o>t?s(a[t],a[e]):!0,i=o>n?s(a[n],a[e]):!0,!r||!i)return!1;return!0},e.heapfn.heapSwap=function(e,t){var n=this._private.heap,r=this._private.pointers,i=this._private.elements,a=n[e],o=i[e],s=i[e],l=i[t];n[e]=n[t],i[e]=i[t],r[s]=t,r[l]=e,n[t]=a,i[t]=o},e.heapfn.heapify=function(e,t){var n,r,i,a,o,s,l,u=0,c=!1;for("undefined"==typeof t&&(t=!0),n=this._private.heap,u=n.length,s=this._private.comparator,r=e;!c;)t?(i=2*r+1,a=i+1,o=r,u>i&&!s(n[i],n[o])&&(o=i),u>a&&!s(n[a],n[o])&&(o=a),c=o===r,c||(this.heapSwap(o,r),r=o)):(l=Math.floor((r-1)/2),o=r,c=0>l||s(n[o],n[l]),c||(this.heapSwap(o,l),r=l))},e.heapfn.insert=function(e){var t,n,r,i,a,o=this.getArgumentAsCollection(e),s=o.length;for(a=0;s>a;a+=1){if(t=o[a],n=this._private.heap.length,r=this._private.extractor(t),i=t.id(),this._private.pointers.hasOwnProperty(i))throw"ERROR: Multiple items with the same id found: "+i;this._private.heap.push(r),this._private.elements.push(i),this._private.pointers[i]=n,this.heapify(n,!1)}this._private.length=this._private.heap.length},e.heapfn.getValueById=function(e){if(this._private.pointers.hasOwnProperty(e)){var t=this._private.pointers[e];return this._private.heap[t]}},e.heapfn.contains=function(e){for(var t=this.getArgumentAsCollection(e),n=0;n<t.length;n+=1){var r=t[n].id();if(!this._private.pointers.hasOwnProperty(r))return!1}return!0},e.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},e.heapfn.pop=function(){if(this._private.length>0){var e,t,n,r=this.top(),i=this._private.length-1;return this.heapSwap(0,i),e=this._private.elements[i],t=this._private.heap[i],n=e,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[n]=void 0,this.heapify(0),r}},e.heapfn.findDirectionHeapify=function(e){var t=Math.floor((e-1)/2),n=this._private.heap,r=0>t||this._private.comparator(n[e],n[t]);this.heapify(e,r)},e.heapfn.edit=function(t,n){for(var r=this.getArgumentAsCollection(t),i=0;i<r.length;i+=1){var a=r[i].id(),o=this._private.pointers[a],s=this._private.heap[o];e.is.number(n)?this._private.heap[o]=n:e.is.fn(n)&&(this._private.heap[o]=n.call(this._private.cy,s,o)),this.findDirectionHeapify(o)}},e.heapfn.remove=function(e){for(var t=this.getArgumentAsCollection(e),n=0;n<t.length;n+=1){var r,i,a,o=t[n].id(),s=this._private.pointers[o],l=this._private.length-1;s!==l&&this.heapSwap(s,l),r=this._private.elements[l],i=this._private.heap[l],a=r,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[a]=void 0,this.findDirectionHeapify(s)}return i}}(cytoscape),function(e){"use strict";function t(e){this.options=e,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:e.cy,container:e.cy.container(),canvases:new Array(t.CANVAS_LAYERS),contexts:new Array(t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(t.CANVAS_LAYERS),bufferCanvases:new Array(t.BUFFER_COUNT),bufferContexts:new Array(t.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=e.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var n=this.data.canvasContainer.style;n.position="absolute",n.zIndex="0",n.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var r=0;r<t.CANVAS_LAYERS;r++)this.data.canvases[r]=document.createElement("canvas"),this.data.contexts[r]=this.data.canvases[r].getContext("2d"),this.data.canvases[r].style.position="absolute",this.data.canvases[r].setAttribute("data-id","layer"+r),this.data.canvases[r].style.zIndex=String(t.CANVAS_LAYERS-r),this.data.canvasContainer.appendChild(this.data.canvases[r]),this.data.canvasNeedsRedraw[r]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[t.NODE].setAttribute("data-id","layer"+t.NODE+"-node"),this.data.canvases[t.SELECT_BOX].setAttribute("data-id","layer"+t.SELECT_BOX+"-selectbox"),this.data.canvases[t.DRAG].setAttribute("data-id","layer"+t.DRAG+"-drag");for(var r=0;r<t.BUFFER_COUNT;r++)this.data.bufferCanvases[r]=document.createElement("canvas"),this.data.bufferContexts[r]=this.data.bufferCanvases[r].getContext("2d"),this.data.bufferCanvases[r].style.position="absolute",this.data.bufferCanvases[r].setAttribute("data-id","buffer"+r),this.data.bufferCanvases[r].style.zIndex=String(-r-1),this.data.bufferCanvases[r].style.visibility="hidden";this.hideEdgesOnViewport=e.hideEdgesOnViewport,this.hideLabelsOnViewport=e.hideLabelsOnViewport,this.textureOnViewport=e.textureOnViewport,this.wheelSensitivity=e.wheelSensitivity,this.motionBlurEnabled=e.motionBlur,this.forcedPixelRatio=e.pixelRatio,this.motionBlur=!0,this.motionBlurOpacity=e.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.tapThreshold=e.tapThreshold,this.tapThreshold2=e.tapThreshold*e.tapThreshold,this.tapholdDuration=500,this.load()}t.CANVAS_LAYERS=3,t.SELECT_BOX=0,t.DRAG=1,t.NODE=2,t.BUFFER_COUNT=3,t.TEXTURE_BUFFER=0,t.MOTIONBLUR_BUFFER_NODE=1,t.MOTIONBLUR_BUFFER_DRAG=2,t.panOrBoxSelectDelay=400,t.isTouch=e.is.touch();var n="undefined"!=typeof Path2D;t.usePaths=function(){return n},t.prototype.notify=function(n){var r;r=e.is.array(n.type)?n.type:[n.type];for(var i=0;i<r.length;i++){var a=r[i];switch(a){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}("load"===a||"resize"===a)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[t.NODE]=!0,this.data.canvasNeedsRedraw[t.DRAG]=!0,this.redraw()},t.prototype.destroy=function(){this.destroyed=!0;for(var e=0;e<this.bindings.length;e++){var t=this.bindings[e],n=t;n.target.removeEventListener(n.event,n.handler,n.useCapture)}this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv&&document.body.removeChild(this.labelCalcDiv)};for(var r in e.math)t.prototype[r]=e.math[r];e("renderer","canvas",t)}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype,r=t.arrowShapes={};t.arrowShapeHeight=.3;var i=function(e,t,n,r,i,a,o,s){var l=n-i/2,u=n+i/2,c=r-a/2,d=r+a/2;return e>=l&&u>=e&&t>=c&&d>=t},a=function(e,t,n,r,i){r=-r;var a=e*Math.cos(r)-t*Math.sin(r),o=e*Math.sin(r)+t*Math.cos(r),s=a*n,l=o*n,u=s+i.x,c=l+i.y;return{x:u,y:c}};r.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(t,n,i,a,o,s,l,u){var c=r.arrow._points;return e.math.pointInsidePolygon(t,n,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,n,i){for(var o=r.arrow._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,n,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},r.triangle=r.arrow,r["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(t,n,i,a,o,s,l,u){var c=r.triangle._points;return e.math.pointInsidePolygon(t,n,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,n,i){for(var o,s=r.triangle._points,l=0;l<s.length/2;l++){var u=a(s[2*l],s[2*l+1],t,n,i);0===l&&(o=u),e.lineTo(u.x,u.y)}var c=this._ctrlPt,d=a(c[0],c[1],t,n,i);e.quadraticCurveTo(d.x,d.y,o.x,o.y)},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},r["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,n,i,a,o,s,l,u){var c=r["triangle-tee"]._points,d=r["triangle-tee"]._pointsTee,h=e.math.pointInsidePolygon(t,n,d,i,a,o,s,l,u)||e.math.pointInsidePolygon(t,n,c,i,a,o,s,l,u);return h},roughCollide:i,draw:function(e,t,n,i){for(var o=r["triangle-tee"]._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,n,i);e.lineTo(l.x,l.y)}var u=r["triangle-tee"]._pointsTee,c=a(u[0],u[1],t,n,i);e.moveTo(c.x,c.y);for(var s=0;s<u.length/2;s++){var l=a(u[2*s],u[2*s+1],t,n,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},r["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(t,n,r,i,a,o,s,l){var u=this._points;return e.math.pointInsidePolygon(t,n,u,r,i,a,o,s,l)},roughCollide:i,draw:function(e,t,n,r){for(var i=this._points,o=0;o<i.length/2;o++){var s=a(i[2*o],i[2*o+1],t,n,r);e.lineTo(s.x,s.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},r.none={collide:function(e,t,n,r,i,a,o,s){return!1},roughCollide:function(e,t,n,r,i,a,o,s){return!1},draw:function(e){},spacing:function(e){return 0},gap:function(e){return 0}},r.circle={_baseRadius:.15,collide:function(e,t,n,i,a,o,s,l){if(a!=o){var u=(o+l)/(a+l);return t/=u,i/=u,Math.pow(n-e,2)+Math.pow(i-t,2)<=Math.pow((a+l)*r.circle._baseRadius,2)}return Math.pow(n-e,2)+Math.pow(i-t,2)<=Math.pow((a+l)*r.circle._baseRadius,2)},roughCollide:i,draw:function(e,t,n,i){e.arc(i.x,i.y,r.circle._baseRadius*t,0,2*Math.PI,!1)},spacing:function(e){return n.getArrowWidth(e._private.style.width.pxValue)*r.circle._baseRadius},gap:function(e){return 2*e._private.style.width.pxValue}},r.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(t,n,i,a,o,s,l,u){var c=r.inhibitor._points;return e.math.pointInsidePolygon(t,n,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,n,i){for(var o=r.inhibitor._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,n,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 1},gap:function(e){return 1}},r.tee=r.inhibitor,r.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(t,n,i,a,o,s,l,u){var c=r.square._points;return e.math.pointInsidePolygon(t,n,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,n,i){for(var o=r.square._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,n,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},r.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(t,n,i,a,o,s,l,u){var c=r.diamond._points;return e.math.pointInsidePolygon(t,n,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,n,i){for(var o=r.diamond._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,n,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return e._private.style.width.pxValue}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.getCachedNodes=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedNodes&&(e.cache.cachedNodes=t.nodes()),e.cache.cachedNodes},n.updateNodesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedNodes=t.nodes()},n.getCachedEdges=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedEdges&&(e.cache.cachedEdges=t.edges()),e.cache.cachedEdges},n.updateEdgesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedEdges=t.edges()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.projectIntoViewport=function(e,t){var n=this.findContainerClientCoords(),r=n[0],i=n[1],a=e-r,o=t-i;return a-=this.data.cy.pan().x,o-=this.data.cy.pan().y,a/=this.data.cy.zoom(),o/=this.data.cy.zoom(),[a,o]},n.findContainerClientCoords=function(){var e=this.data.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]},n.invalidateContainerClientCoordsCache=function(){this.containerBB=null},n.findNearestElement=function(n,r,i){function a(e){var a=e.outerWidth(),o=e.outerHeight(),l=a/2,c=o/2,d=e._private.position;if(d.x-l<=n&&n<=d.x+l&&d.y-c<=r&&r<=d.y+c){var h=!i||e.visible()&&!e.transparent();if(i&&!h)return;var p=t.nodeShapes[s.getNodeShape(e)],v=e._private.style["border-width"].pxValue/2;p.checkPoint(n,r,v,a+f,o+f,d.x,d.y)&&u.push(e)}}function o(o){var l,c=o._private.rscratch,d=o._private.style,f=d.width.pxValue,v=f*f,g=2*f,y=o._private.source,m=o._private.target,x=!1,b=function(){if(void 0!==l)return l;if(!i)return l=!0,!0;var e=o.visible()&&!o.transparent();return e?(l=!0,!0):(l=!1,!1)};if("self"===c.edgeType||"compound"===c.edgeType)((x=e.math.inBezierVicinity(n,r,c.startX,c.startY,c.cp2ax,c.cp2ay,c.selfEdgeMidX,c.selfEdgeMidY,v))&&b()&&v+p>e.math.sqDistanceToQuadraticBezier(n,r,c.startX,c.startY,c.cp2ax,c.cp2ay,c.selfEdgeMidX,c.selfEdgeMidY)||(x=e.math.inBezierVicinity(n,r,c.selfEdgeMidX,c.selfEdgeMidY,c.cp2cx,c.cp2cy,c.endX,c.endY,v))&&b()&&v+p>e.math.sqDistanceToQuadraticBezier(n,r,c.selfEdgeMidX,c.selfEdgeMidY,c.cp2cx,c.cp2cy,c.endX,c.endY))&&u.push(o);else if("haystack"===c.edgeType){var w=d["haystack-radius"].value,E=w/2,_=m._private.position,k=m.width(),S=m.height(),T=y._private.position,C=y.width(),D=y.height(),N=T.x+c.source.x*C*E,P=T.y+c.source.y*D*E,M=_.x+c.target.x*k*E,B=_.y+c.target.y*S*E;(x=e.math.inLineVicinity(n,r,N,P,M,B,g))&&b()&&v+p>e.math.sqDistanceToFiniteLine(n,r,N,P,M,B)&&u.push(o)}else"straight"===c.edgeType?(x=e.math.inLineVicinity(n,r,c.startX,c.startY,c.endX,c.endY,g))&&b()&&v+p>e.math.sqDistanceToFiniteLine(n,r,c.startX,c.startY,c.endX,c.endY)&&u.push(o):"bezier"===c.edgeType&&(x=e.math.inBezierVicinity(n,r,c.startX,c.startY,c.cp2x,c.cp2y,c.endX,c.endY,v))&&b()&&v+p>e.math.sqDistanceToQuadraticBezier(n,r,c.startX,c.startY,c.cp2x,c.cp2y,c.endX,c.endY)&&u.push(o);if(x&&b()&&0===u.length||u[u.length-1]!==o){var L=t.arrowShapes[d["source-arrow-shape"].value],O=t.arrowShapes[d["target-arrow-shape"].value],y=y||o._private.source,m=m||o._private.target,_=m._private.position,T=y._private.position,A=s.getArrowWidth(d.width.pxValue),I=s.getArrowHeight(d.width.pxValue),z=A,F=I;(L.roughCollide(n,r,c.arrowStartX,c.arrowStartY,A,I,[c.arrowStartX-T.x,c.arrowStartY-T.y],0)&&L.collide(n,r,c.arrowStartX,c.arrowStartY,A,I,[c.arrowStartX-T.x,c.arrowStartY-T.y],0)||O.roughCollide(n,r,c.arrowEndX,c.arrowEndY,z,F,[c.arrowEndX-_.x,c.arrowEndY-_.y],0)&&O.collide(n,r,c.arrowEndX,c.arrowEndY,z,F,[c.arrowEndX-_.x,c.arrowEndY-_.y],0))&&u.push(o)}h&&u.length>0&&u[u.length-1]===o&&(a(y),a(m))}for(var s=this,l=this.getCachedZSortedEles(),u=[],c=t.isTouch,d=this.data.cy.zoom(),h=this.data.cy.hasCompoundNodes(),p=(c?256:32)/d,f=(c?16:0)/d,v=l.length-1;v>=0;v--){var g=l[v];if(u.length>0)break;"nodes"===g._private.group?a(l[v]):o(l[v])}return u.length>0?u[u.length-1]:null},n.getAllInBox=function(n,r,i,a){var o=this.getCachedNodes(),s=this.getCachedEdges(),l=[],u=Math.min(n,i),c=Math.max(n,i),d=Math.min(r,a),h=Math.max(r,a);n=u,i=c,r=d,a=h;for(var p,f=0;f<o.length;f++){var v=o[f]._private.position,g=this.getNodeShape(o[f]),y=this.getNodeWidth(o[f]),m=this.getNodeHeight(o[f]),x=o[f]._private.style["border-width"].pxValue/2,b=t.nodeShapes[g];b.intersectBox(n,r,i,a,y,m,v.x,v.y,x)&&l.push(o[f])}for(var f=0;f<s.length;f++){var w=s[f]._private.rscratch;if("self"==s[f]._private.rscratch.edgeType&&((p=e.math.boxInBezierVicinity(n,r,i,a,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(n,r,i,a,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[f]._private.style.width.pxValue))||(p=e.math.boxInBezierVicinity(n,r,i,a,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(n,r,i,a,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[f]._private.style.width.pxValue)))&&l.push(s[f]),"bezier"==w.edgeType&&(p=e.math.boxInBezierVicinity(n,r,i,a,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(n,r,i,a,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"straight"==w.edgeType&&(p=e.math.boxInBezierVicinity(n,r,i,a,w.startX,w.startY,.5*w.startX+.5*w.endX,.5*w.startY+.5*w.endY,w.endX,w.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkStraightEdgeInBox(n,r,i,a,w.startX,w.startY,w.endX,w.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"haystack"==w.edgeType){var E=s[f].target()[0],_=E.position(),k=s[f].source()[0],S=k.position(),T=S.x+w.source.x,C=S.y+w.source.y,D=_.x+w.target.x,N=_.y+w.target.y,P=T>=n&&i>=T&&C>=r&&a>=C,M=D>=n&&i>=D&&N>=r&&a>=N;P&&M&&l.push(s[f])}}return l},n.getNodeWidth=function(e){return e.width()},n.getNodeHeight=function(e){return e.height()},n.getNodeShape=function(e){var t=e._private.style.shape.value;return e.isParent()?"rectangle"===t||"roundrectangle"===t?t:"rectangle":t},n.getNodePadding=function(e){var t=e._private.style["padding-left"].pxValue,n=e._private.style["padding-right"].pxValue,r=e._private.style["padding-top"].pxValue,i=e._private.style["padding-bottom"].pxValue;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=0),{left:t,right:n,top:r,bottom:i}},n.zOrderSort=e.Collection.zIndexSort,n.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},n.getCachedZSortedEles=function(e){var t=this.lastZOrderCachedNodes,n=this.lastZOrderCachedEdges,r=this.getCachedNodes(),i=this.getCachedEdges(),a=[];if(!e&&t&&n&&t===r&&n===i)a=this.cachedZSortedEles;else{for(var o=0;o<r.length;o++)r[o].visible()&&!r[o].transparent()&&a.push(r[o]);for(var o=0;o<i.length;o++)i[o].visible()&&!i[o].transparent()&&a.push(i[o]);a.sort(this.zOrderSort),this.cachedZSortedEles=a}return this.lastZOrderCachedNodes=r,this.lastZOrderCachedEdges=i,a},n.projectBezier=function(t){function n(e){a.push({x:r(e[0],e[2],e[4],.05),y:r(e[1],e[3],e[5],.05)}),a.push({x:r(e[0],e[2],e[4],.25),y:r(e[1],e[3],e[5],.25)}),a.push({x:r(e[0],e[2],e[4],.4),y:r(e[1],e[3],e[5],.4)});var t={x:r(e[0],e[2],e[4],.5),y:r(e[1],e[3],e[5],.5)};a.push(t),"self"===i.edgeType||"compound"===i.edgeType?(i.midX=i.selfEdgeMidX,i.midY=i.selfEdgeMidY):(i.midX=t.x,i.midY=t.y),a.push({x:r(e[0],e[2],e[4],.6),y:r(e[1],e[3],e[5],.6)}),a.push({x:r(e[0],e[2],e[4],.75),y:r(e[1],e[3],e[5],.75)}),a.push({x:r(e[0],e[2],e[4],.95),y:r(e[1],e[3],e[5],.95)})}var r=e.math.qbezierAt,i=t._private.rscratch,a=t._private.rstyle.bezierPts=[];"self"===i.edgeType?(n([i.startX,i.startY,i.cp2ax,i.cp2ay,i.selfEdgeMidX,i.selfEdgeMidY]),n([i.selfEdgeMidX,i.selfEdgeMidY,i.cp2cx,i.cp2cy,i.endX,i.endY])):"bezier"===i.edgeType&&n([i.startX,i.startY,i.cp2x,i.cp2y,i.endX,i.endY])},n.recalculateNodeLabelProjection=function(e){var t=e._private.style.content.strValue;if(t&&!t.match(/^\s+$/)){var n,r,i=e.outerWidth(),a=e.outerHeight(),o=e._private.position,s=e._private.style["text-halign"].strValue,l=e._private.style["text-valign"].strValue,u=e._private.rscratch,c=e._private.rstyle;switch(s){case"left":n=o.x-i/2;break;case"right":n=o.x+i/2;break;default:n=o.x}switch(l){case"top":r=o.y-a/2;break;case"bottom":r=o.y+a/2;break;default:r=o.y}u.labelX=n,u.labelY=r,c.labelX=n,c.labelY=r,this.applyLabelDimensions(e)}},n.recalculateEdgeLabelProjection=function(t){var n=t._private.style.content.strValue;if(n&&!n.match(/^\s+$/)){var r,i,a,o,s=t._private,l=s.rscratch,u=s.rstyle;if("self"==l.edgeType)a=l.selfEdgeMidX,o=l.selfEdgeMidY;else if("straight"==l.edgeType)a=(l.startX+l.endX)/2,o=(l.startY+l.endY)/2;else if("bezier"==l.edgeType)a=e.math.qbezierAt(l.startX,l.cp2x,l.endX,.5),o=e.math.qbezierAt(l.startY,l.cp2y,l.endY,.5);else if("haystack"==l.edgeType){var c=l.haystackPts;a=(c[0]+c[2])/2,o=(c[1]+c[3])/2}r=a,i=o,l.labelX=r,l.labelY=i,u.labelX=r,u.labelY=i,this.applyLabelDimensions(t)}},n.applyLabelDimensions=function(e){var t=e._private.rscratch,n=e._private.rstyle,r=this.getLabelText(e),i=this.calculateLabelDimensions(e,r);n.labelWidth=i.width,t.labelWidth=i.width,n.labelHeight=i.height,t.labelHeight=i.height},n.getLabelText=function(e){var t=e._private.style,n=e._private.style.content.strValue,r=t["text-transform"].value,i=e._private.rscratch;if("none"==r||("uppercase"==r?n=n.toUpperCase():"lowercase"==r&&(n=n.toLowerCase())),"wrap"===t["text-wrap"].value){if(i.labelWrapKey===i.labelKey)return i.labelWrapCachedText;for(var a=n.split("\n"),o=t["text-max-width"].pxValue,s=[],l=0;l<a.length;l++){var u=a[l],c=this.calculateLabelDimensions(e,u,"line="+u),d=c.width;if(d>o){for(var h=u.split(/\s+/),p="",f=0;f<h.length;f++){var v=h[f],g=0===p.length?v:p+" "+v,y=this.calculateLabelDimensions(e,g,"testLine="+g),m=y.width;o>=m?p+=v+" ":(s.push(p),p=v+" ")}p.match(/^\s+$/)||s.push(p)}else s.push(u)}i.labelWrapCachedLines=s,i.labelWrapCachedText=n=s.join("\n"),i.labelWrapKey=i.labelKey}return n},n.calculateLabelDimensions=function(e,t,n){var r=this,i=e._private.style,a=i["font-style"].strValue,o=i["font-size"].pxValue+"px",s=i["font-family"].strValue,l=i["font-weight"].strValue,u=e._private.labelKey;n&&(u+="$@$"+n);var c=r.labelDimCache||(r.labelDimCache={});if(c[u])return c[u];var d=this.labelCalcDiv;d||(d=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(d));var h=d.style;return h.fontFamily=s,h.fontStyle=a,h.fontSize=o,h.fontWeight=l,h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none",h.padding="0",h.lineHeight="1",h.whiteSpace="wrap"===i["text-wrap"].value?"pre":"normal",d.textContent=t,c[u]={width:d.clientWidth,height:d.clientHeight},c[u]},n.recalculateRenderedStyle=function(e){for(var t=[],n=[],r={},i=0;i<e.length;i++){var a=e[i],o=a._private,s=o.style,l=o.rscratch,u=o.rstyle,c=o.data.id,d=null!=l.boundingBoxKey&&o.boundingBoxKey===l.boundingBoxKey,h=null!=l.labelKey&&o.labelKey===l.labelKey,p=d&&h;if("nodes"===a._private.group){var f=o.position,v=null!=u.nodeX&&null!=u.nodeY&&f.x===u.nodeX&&f.y===u.nodeY,g=null!=u.nodeW&&u.nodeW===s.width.pxValue,y=null!=u.nodeH&&u.nodeH===s.height.pxValue;v&&p&&g&&y||n.push(a),u.nodeX=f.x,u.nodeY=f.y,u.nodeW=s.width.pxValue,u.nodeH=s.height.pxValue}else{var m=a._private.source._private.position,x=a._private.target._private.position,b=null!=u.srcX&&null!=u.srcY&&m.x===u.srcX&&m.y===u.srcY,w=null!=u.tgtX&&null!=u.tgtY&&x.x===u.tgtX&&x.y===u.tgtY,E=b&&w;if(!E||!p){var _=o.style["curve-style"].value;if("bezier"===_){if(!r[c]){t.push(a),r[c]=!0;for(var k=a.parallelEdges(),i=0;i<k.length;i++){var S=k[i],T=S._private.data.id;r[T]||(t.push(S),r[T]=!0)}}}else t.push(a)}u.srcX=m.x,u.srcY=m.y,u.tgtX=x.x,u.tgtY=x.y}l.boundingBoxKey=o.boundingBoxKey,l.labelKey=o.labelKey}this.recalculateEdgeProjections(t),this.recalculateLabelProjections(n,t)},n.recalculateLabelProjections=function(e,t){for(var n=0;n<e.length;n++)this.recalculateNodeLabelProjection(e[n]);for(var n=0;n<t.length;n++)this.recalculateEdgeLabelProjection(t[n])},n.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},n.findEdgeControlPoints=function(n){if(n&&0!==n.length){for(var r,i=this.data.cy,a=i.hasCompoundNodes(),o={},s=[],l=[],u=0;u<n.length;u++){var c=n[u],d=c._private.style,h="unbundled-bezier"===d["curve-style"].value;if("none"!==d.display.value)if("haystack"!==d["curve-style"].value){var p=c._private.data.source,f=c._private.data.target;r=p>f?f+"-"+p:p+"-"+f,h&&(r="unbundled"+c._private.data.id),null==o[r]&&(o[r]=[],s.push(r)),o[r].push(c),h&&(o[r].hasUnbundled=!0)}else l.push(c)}for(var v,g,y,m,x,b,w,E,_,k,S,T,C,D,N=0;N<s.length;N++){r=s[N];var P=o[r];if(P.sort(function(e,t){return e._private.index-t._private.index}),v=P[0]._private.source,g=P[0]._private.target,v._private.data.id>g._private.data.id){var M=v;v=g,g=M}if(y=v._private.position,m=g._private.position,x=this.getNodeWidth(v),b=this.getNodeHeight(v),w=this.getNodeWidth(g),E=this.getNodeHeight(g),_=t.nodeShapes[this.getNodeShape(v)],k=t.nodeShapes[this.getNodeShape(g)],S=v._private.style["border-width"].pxValue,T=g._private.style["border-width"].pxValue,D=!1,P.length>1&&v!==g||P.hasUnbundled){var B=_.intersectLine(y.x,y.y,x,b,m.x,m.y,S/2),L=k.intersectLine(m.x,m.y,w,E,y.x,y.y,T/2),O={x1:B[0],x2:L[0],y1:B[1],y2:L[1]},A=L[1]-B[1],I=L[0]-B[0],z=Math.sqrt(I*I+A*A),F={x:I,y:A},R={x:F.x/z,y:F.y/z};C={x:-R.y,y:R.x},(k.checkPoint(B[0],B[1],T/2,w,E,m.x,m.y)||_.checkPoint(L[0],L[1],S/2,x,b,y.x,y.y))&&(C={},D=!0)}for(var c,j,u=0;u<P.length;u++){c=P[u],j=c._private.rscratch;var X=j.lastEdgeIndex,q=u,V=j.lastNumEdges,$=P.length,Y=c._private.style,H=Y["control-point-step-size"].pxValue,W=void 0!==Y["control-point-distance"]?Y["control-point-distance"].pxValue:void 0,U=Y["control-point-weight"].value,h="unbundled-bezier"===Y["curve-style"].value,Z=j.lastSrcCtlPtX,G=y.x,K=j.lastSrcCtlPtY,J=y.y,Q=j.lastSrcCtlPtW,ee=v.outerWidth(),te=j.lastSrcCtlPtH,ne=v.outerHeight(),re=j.lastTgtCtlPtX,ie=m.x,ae=j.lastTgtCtlPtY,oe=m.y,se=j.lastTgtCtlPtW,le=g.outerWidth(),ue=j.lastTgtCtlPtH,ce=g.outerHeight(),de=j.lastW,he=Y["control-point-step-size"].pxValue;if(j.badBezier=D?!0:!1,Z!==G||K!==J||Q!==ee||te!==ne||re!==ie||ae!==oe||se!==le||ue!==ce||de!==he||!(X===q&&V===$||h)){if(j.lastSrcCtlPtX=G,j.lastSrcCtlPtY=J,j.lastSrcCtlPtW=ee,j.lastSrcCtlPtH=ne,j.lastTgtCtlPtX=ie,j.lastTgtCtlPtY=oe,j.lastTgtCtlPtW=le,j.lastTgtCtlPtH=ce,j.lastEdgeIndex=q,j.lastNumEdges=$,j.lastWidth=he,v===g){j.edgeType="self";var pe=u,fe=H;h&&(pe=0,fe=W),j.cp2ax=y.x,j.cp2ay=y.y-(1+Math.pow(b,1.12)/100)*fe*(pe/3+1),j.cp2cx=y.x-(1+Math.pow(x,1.12)/100)*fe*(pe/3+1),j.cp2cy=y.y,j.selfEdgeMidX=(j.cp2ax+j.cp2cx)/2,j.selfEdgeMidY=(j.cp2ay+j.cp2cy)/2}else if(a&&(v.isParent()||v.isChild()||g.isParent()||g.isChild())&&(v.parents().anySame(g)||g.parents().anySame(v))){j.edgeType="compound",j.badBezier=!1;var pe=u,fe=H;h&&(pe=0,fe=W);var ve=50,ge={x:y.x-x/2,y:y.y-b/2},ye={x:m.x-w/2,y:m.y-E/2},me=1;j.cp2ax=ge.x,j.compoundStretchA=Math.max(me,Math.log(.01*x)),j.cp2ay=ge.y-(1+Math.pow(ve,1.12)/100)*fe*(pe/3+1)*j.compoundStretchA,j.compoundStretchB=Math.max(me,Math.log(.01*w)),j.cp2cx=ye.x-(1+Math.pow(ve,1.12)/100)*fe*(pe/3+1)*j.compoundStretchB,j.cp2cy=ye.y,j.selfEdgeMidX=(j.cp2ax+j.cp2cx)/2,j.selfEdgeMidY=(j.cp2ay+j.cp2cy)/2}else if(P.length%2!==1||u!==Math.floor(P.length/2)||h){var xe,be=(.5-P.length/2+u)*H,we=e.math.signum(be);xe=h?W:void 0!==W?we*W:void 0;var Ee=void 0!==xe?xe:be,_e=1-U,ke=U,Se=c._private.source!==v;Se&&(_e=U,ke=1-U);var Te={x:O.x1*_e+O.x2*ke,y:O.y1*_e+O.y2*ke};j.edgeType="bezier",j.cp2x=Te.x+C.x*Ee,j.cp2y=Te.y+C.y*Ee}else j.edgeType="straight";this.findEndpoints(c);var Ce=!e.is.number(j.startX)||!e.is.number(j.startY),De=!e.is.number(j.arrowStartX)||!e.is.number(j.arrowStartY),Ne=!e.is.number(j.endX)||!e.is.number(j.endY),Pe=!e.is.number(j.arrowEndX)||!e.is.number(j.arrowEndY),Me=3,Be=this.getArrowWidth(c._private.style.width.pxValue)*t.arrowShapeHeight,Le=Me*Be,Oe=e.math.distance({x:j.cp2x,y:j.cp2y},{x:j.startX,y:j.startY}),Ae=Le>Oe,Ie=e.math.distance({x:j.cp2x,y:j.cp2y},{x:j.endX,y:j.endY}),ze=Le>Ie;if("bezier"===j.edgeType){var Fe=!1;if(Ce||De||Ae){Fe=!0;var Re={x:j.cp2x-y.x,y:j.cp2y-y.y},je=Math.sqrt(Re.x*Re.x+Re.y*Re.y),Xe={x:Re.x/je,y:Re.y/je},qe=Math.max(x,b),Ve={x:j.cp2x+2*Xe.x*qe,y:j.cp2y+2*Xe.y*qe},$e=_.intersectLine(y.x,y.y,x,b,Ve.x,Ve.y,S/2);Ae?(j.cp2x=j.cp2x+Xe.x*(Le-Oe),j.cp2y=j.cp2y+Xe.y*(Le-Oe)):(j.cp2x=$e[0]+Xe.x*Le,j.cp2y=$e[1]+Xe.y*Le)}if(Ne||Pe||ze){Fe=!0;var Re={x:j.cp2x-m.x,y:j.cp2y-m.y},je=Math.sqrt(Re.x*Re.x+Re.y*Re.y),Xe={x:Re.x/je,y:Re.y/je},qe=Math.max(x,b),Ve={x:j.cp2x+2*Xe.x*qe,y:j.cp2y+2*Xe.y*qe},Ye=k.intersectLine(m.x,m.y,w,E,Ve.x,Ve.y,T/2);ze?(j.cp2x=j.cp2x+Xe.x*(Le-Ie),j.cp2y=j.cp2y+Xe.y*(Le-Ie)):(j.cp2x=Ye[0]+Xe.x*Le,j.cp2y=Ye[1]+Xe.y*Le)}Fe&&this.findEndpoints(c)}else"straight"===j.edgeType&&(j.midX=(G+ie)/2,j.midY=(J+oe)/2);this.projectBezier(c),this.recalculateEdgeLabelProjection(c)}}}for(var u=0;u<l.length;u++){var c=l[u],He=c._private,We=He.rscratch,j=We;if(!We.haystack){var Ue=2*Math.random()*Math.PI;We.source={x:Math.cos(Ue),y:Math.sin(Ue)};var Ue=2*Math.random()*Math.PI;We.target={x:Math.cos(Ue),y:Math.sin(Ue)}}var v=He.source,g=He.target,y=v._private.position,m=g._private.position,x=v.width(),w=g.width(),b=v.height(),E=g.height(),qe=d["haystack-radius"].value,Ze=qe/2;j.haystackPts=[j.source.x*x*Ze+y.x,j.source.y*b*Ze+y.y,j.target.x*w*Ze+m.x,j.target.y*E*Ze+m.y],We.edgeType="haystack",We.haystack=!0,this.recalculateEdgeLabelProjection(c)}return o}},n.findEndpoints=function(n){var r,i=n.source()[0],a=n.target()[0],o=n._private.style["target-arrow-shape"].value,s=n._private.style["source-arrow-shape"].value,l=a._private.style["border-width"].pxValue,u=i._private.style["border-width"].pxValue,c=n._private.rscratch;if("self"==c.edgeType||"compound"==c.edgeType){var d=[c.cp2cx,c.cp2cy];r=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),d[0],d[1],l/2);var h=e.math.shortenIntersection(r,d,t.arrowShapes[o].spacing(n)),p=e.math.shortenIntersection(r,d,t.arrowShapes[o].gap(n));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1];var d=[c.cp2ax,c.cp2ay];r=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),d[0],d[1],u/2);var f=e.math.shortenIntersection(r,d,t.arrowShapes[s].spacing(n)),v=e.math.shortenIntersection(r,d,t.arrowShapes[s].gap(n));c.startX=v[0],c.startY=v[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if("straight"==c.edgeType){r=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),i.position().x,i.position().y,l/2),c.noArrowPlacement=0===r.length?!0:!1;var h=e.math.shortenIntersection(r,[i.position().x,i.position().y],t.arrowShapes[o].spacing(n)),p=e.math.shortenIntersection(r,[i.position().x,i.position().y],t.arrowShapes[o].gap(n));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1],r=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),a.position().x,a.position().y,u/2),c.noArrowPlacement=0===r.length?!0:!1;var f=e.math.shortenIntersection(r,[a.position().x,a.position().y],t.arrowShapes[s].spacing(n)),v=e.math.shortenIntersection(r,[a.position().x,a.position().y],t.arrowShapes[s].gap(n));c.startX=v[0],c.startY=v[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if("bezier"==c.edgeType){var d=[c.cp2x,c.cp2y];r=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),d[0],d[1],l/2);var h=e.math.shortenIntersection(r,d,t.arrowShapes[o].spacing(n)),p=e.math.shortenIntersection(r,d,t.arrowShapes[o].gap(n));c.endX=p[0],c.endY=p[1],c.arrowEndX=h[0],c.arrowEndY=h[1],r=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),d[0],d[1],u/2);var f=e.math.shortenIntersection(r,d,t.arrowShapes[s].spacing(n)),v=e.math.shortenIntersection(r,d,t.arrowShapes[s].gap(n));

c.startX=v[0],c.startY=v[1],c.arrowStartX=f[0],c.arrowStartY=f[1]}else if(c.isArcEdge)return},n.findEdges=function(e){for(var t=this.getCachedEdges(),n={},r=[],i=0;i<e.length;i++)n[e[i]._private.data.id]=e[i];for(var i=0;i<t.length;i++)(n[t[i]._private.data.source]||n[t[i]._private.data.target])&&r.push(t[i]);return r},n.getArrowWidth=n.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[e];return n?n:(n=Math.max(Math.pow(13.37*e,.9),29),t[e]=n,n)}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.drawEdge=function(e,n,r){var i=n._private.rscratch,a=t.usePaths();if(!i.badBezier&&("bezier"!==i.edgeType&&"straight"!==i.edgeType||!isNaN(i.startX))){var o=n._private.style;if(!(o.width.pxValue<=0)){var s=o["overlay-padding"].pxValue,l=o["overlay-opacity"].value,u=o["overlay-color"].value;if(r){if(0===l)return;this.strokeStyle(e,u[0],u[1],u[2],l),e.lineCap="round","self"!=n._private.rscratch.edgeType||a||(e.lineCap="butt")}else{var c=o["line-color"].value;this.strokeStyle(e,c[0],c[1],c[2],o.opacity.value),e.lineCap="butt"}var d,h,p,f;p=d=n._private.source,f=h=n._private.target;var v=o.width.pxValue+(r?2*s:0),g=r?"solid":o["line-style"].value;e.lineWidth=v;var y=o["shadow-blur"].pxValue,m=o["shadow-opacity"].value,x=o["shadow-color"].value,b=o["shadow-offset-x"].pxValue,w=o["shadow-offset-y"].pxValue;if(this.shadowStyle(e,x,r?0:m,y,b,w),"haystack"===i.edgeType)this.drawStyledEdge(n,e,i.haystackPts,g,v);else if("self"===i.edgeType||"compound"===i.edgeType){var E=n._private.rscratch,_=[E.startX,E.startY,E.cp2ax,E.cp2ay,E.selfEdgeMidX,E.selfEdgeMidY,E.selfEdgeMidX,E.selfEdgeMidY,E.cp2cx,E.cp2cy,E.endX,E.endY];this.drawStyledEdge(n,e,_,g,v)}else if("straight"===i.edgeType){var k=h._private.position.x-d._private.position.x,S=h._private.position.y-d._private.position.y,T=i.endX-i.startX,C=i.endY-i.startY;if(0>k*T+S*C)i.straightEdgeTooShort=!0;else{var E=i;this.drawStyledEdge(n,e,[E.startX,E.startY,E.endX,E.endY],g,v),i.straightEdgeTooShort=!1}}else{var E=i;this.drawStyledEdge(n,e,[E.startX,E.startY,E.cp2x,E.cp2y,E.endX,E.endY],g,v)}"haystack"===i.edgeType?this.drawArrowheads(e,n,r):i.noArrowPlacement!==!0&&void 0!==i.startX&&this.drawArrowheads(e,n,r),this.shadowStyle(e,"transparent",0)}}},n.drawStyledEdge=function(e,n,r,i,a){var o,s=e._private.rscratch,l=n,u=!1,c=t.usePaths();if(c){for(var d=r,h=s.pathCacheKey&&d.length===s.pathCacheKey.length,p=h,f=0;p&&f<d.length;f++)s.pathCacheKey[f]!==d[f]&&(p=!1);p?(o=n=s.pathCache,u=!0):(o=n=new Path2D,s.pathCacheKey=d,s.pathCache=o)}if(l.setLineDash)switch(i){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([6,3]);break;case"solid":l.setLineDash([])}u||(n.beginPath&&n.beginPath(),n.moveTo(r[0],r[1]),6===r.length?n.quadraticCurveTo(r[2],r[3],r[4],r[5]):12===r.length?(n.quadraticCurveTo(r[2],r[3],r[4],r[5]),n.quadraticCurveTo(r[8],r[9],r[10],r[11])):n.lineTo(r[2],r[3])),n=l,c?n.stroke(o):n.stroke(),n.setLineDash&&n.setLineDash([])},n.drawArrowheads=function(e,t,n){function r(n,r,i,a,o){var s=v[n+"-arrow-shape"].value;if("none"!==s){var l=e.globalCompositeOperation,u="hollow"===v[n+"-arrow-fill"].value?"both":"filled",c=v[n+"-arrow-fill"].value;"half-triangle-overshot"===s&&(c="hollow",u="hollow"),1!==v.opacity.value&&(e.globalCompositeOperation="destination-out",d.fillStyle(e,255,255,255,1),d.drawArrowShape(t,n,e,u,v.width.pxValue,v[n+"-arrow-shape"].value,r,i,a,o),e.globalCompositeOperation=l);var h=v[n+"-arrow-color"].value;d.fillStyle(e,h[0],h[1],h[2],v.opacity.value),d.drawArrowShape(t,n,e,c,v.width.pxValue,v[n+"-arrow-shape"].value,r,i,a,o)}}if(!n){var i,a,o,s,l,u,c=t._private.rscratch,d=this,h="haystack"===c.edgeType,p=t.source().position(),f=t.target().position();h?(o=c.haystackPts[0],s=c.haystackPts[1],l=c.haystackPts[2],u=c.haystackPts[3]):(o=c.arrowStartX,s=c.arrowStartY,l=c.arrowEndX,u=c.arrowEndY);var v=t._private.style;i=o-p.x,a=s-p.y,h||isNaN(o)||isNaN(s)||isNaN(i)||isNaN(a)||r("source",o,s,i,a);var g=c.midX,y=c.midY;h&&(g=(o+l)/2,y=(s+u)/2),i=o-l,a=s-u,"self"===c.edgeType&&(i=1,a=-1),isNaN(g)||isNaN(y)||r("mid-target",g,y,i,a),i*=-1,a*=-1,isNaN(g)||isNaN(y)||r("mid-source",g,y,i,a),i=l-f.x,a=u-f.y,h||isNaN(l)||isNaN(u)||isNaN(i)||isNaN(a)||r("target",l,u,i,a)}},n.drawArrowShape=function(e,n,r,i,a,o,s,l,u,c){var d,h=t.usePaths(),p=e._private.rscratch,f=!1,v=r,g={x:s,y:l},y=Math.asin(c/Math.sqrt(u*u+c*c));0>u?y+=Math.PI/2:y=-(Math.PI/2+y);var m=this.getArrowWidth(a),x=t.arrowShapes[o];if(h){var b=m+"$"+o+"$"+y+"$"+s+"$"+l;p.arrowPathCacheKey=p.arrowPathCacheKey||{},p.arrowPathCache=p.arrowPathCache||{};var w=p.arrowPathCacheKey[n]===b;w?(d=r=p.arrowPathCache[n],f=!0):(d=r=new Path2D,p.arrowPathCacheKey[n]=b,p.arrowPathCache[n]=d)}r.beginPath&&r.beginPath(),f||x.draw(r,m,y,g),!x.leavePathOpen&&r.closePath&&r.closePath(),r=v,("filled"===i||"both"===i)&&(h?r.fill(d):r.fill()),("hollow"===i||"both"===i)&&(r.lineWidth=x.matchEdgeWidth?a:1,r.lineJoin="miter",h?r.stroke(d):r.stroke())}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.getCachedImage=function(e,t){var n=this,r=n.imageCache=n.imageCache||{};if(r[e]&&r[e].image)return r[e].image;var i=r[e]=r[e]||{},a=i.image=new Image;return a.addEventListener("load",t),a.src=e,a},n.drawInscribedImage=function(e,n,r){var i=this,a=r._private.position.x,o=r._private.position.y,s=r._private.style,l=s["background-fit"].value,u=s["background-position-x"],c=s["background-position-y"],d=s["background-repeat"].value,h=r.width(),p=r.height(),f=r._private.rscratch,v=s["background-clip"].value,g="node"===v,y=s["background-image-opacity"].value,m=n.width,x=n.height;if(0!==m&&0!==x){var b=s["background-width"];"auto"!==b.value&&(m="%"===b.units?b.value/100*h:b.pxValue);var w=s["background-height"];if("auto"!==w.value&&(x="%"===w.units?w.value/100*p:w.pxValue),0!==m&&0!==x){if("contain"===l){var E=Math.min(h/m,p/x);m*=E,x*=E}else if("cover"===l){var E=Math.max(h/m,p/x);m*=E,x*=E}var _=a-h/2;_+="%"===u.units?(h-m)*u.value/100:u.pxValue;var k=o-p/2;k+="%"===c.units?(p-x)*c.value/100:c.pxValue,f.pathCache&&(_-=a,k-=o,a=0,o=0);var S=e.globalAlpha;if(e.globalAlpha=y,"no-repeat"===d)g&&(e.save(),f.pathCache?e.clip(f.pathCache):(t.nodeShapes[i.getNodeShape(r)].drawPath(e,a,o,h,p),e.clip())),e.drawImage(n,0,0,n.width,n.height,_,k,m,x),g&&e.restore();else{var T=e.createPattern(n,d);e.fillStyle=T,t.nodeShapes[i.getNodeShape(r)].drawPath(e,a,o,h,p),e.translate(_,k),e.fill(),e.translate(-_,-k)}e.globalAlpha=S}}}}(cytoscape),function(e){"use strict";function t(e,t,n,r,i,a){var a=a||5;e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill()}var n=e("renderer","canvas"),r=n.prototype;r.drawEdgeText=function(t,n){var r=n._private.style.content.strValue;if(!(!r||r.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var i=n._private.style["font-size"].pxValue*n.cy().zoom(),a=n._private.style["min-zoomed-font-size"].pxValue;if(!(a>i)){t.textAlign="center",t.textBaseline="middle";var o=n._private.rscratch;if(e.is.number(o.labelX)&&e.is.number(o.labelY)){var s,l,u,c=n._private.style,d="autorotate"===c["edge-text-rotation"].strValue;if(d){switch(o.edgeType){case"haystack":l=o.haystackPts[2]-o.haystackPts[0],u=o.haystackPts[3]-o.haystackPts[1];break;default:l=o.endX-o.startX,u=o.endY-o.startY}s=Math.atan(u/l),t.translate(o.labelX,o.labelY),t.rotate(s),this.drawText(t,n,0,0),t.rotate(-s),t.translate(-o.labelX,-o.labelY)}else this.drawText(t,n,o.labelX,o.labelY)}}}},r.drawNodeText=function(t,n){var r=n._private.style.content.strValue;if(r&&!r.match(/^\s+$/)){var i=n._private.style["font-size"].pxValue*n.cy().zoom(),a=n._private.style["min-zoomed-font-size"].pxValue;if(!(a>i)){var o=n._private.style["text-halign"].strValue,s=n._private.style["text-valign"].strValue,l=n._private.rscratch;if(e.is.number(l.labelX)&&e.is.number(l.labelY)){switch(o){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}switch(s){case"top":t.textBaseline="bottom";break;case"bottom":t.textBaseline="top";break;default:t.textBaseline="middle"}this.drawText(t,n,l.labelX,l.labelY)}}}},r.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},r.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t._private.style,i=r["font-style"].strValue,a=r["font-size"].pxValue+"px",o=r["font-family"].strValue,s=r["font-weight"].strValue,l=r["text-opacity"].value*r.opacity.value*n,u=r["text-outline-opacity"].value*l,c=r.color.value,d=r["text-outline-color"].value,h=r["text-shadow-blur"].pxValue,p=r["text-shadow-opacity"].value,f=r["text-shadow-color"].value,v=r["text-shadow-offset-x"].pxValue,g=r["text-shadow-offset-y"].pxValue,y=t._private.fontKey,m=this.getFontCache(e);m.key!==y&&(e.font=i+" "+s+" "+a+" "+o,m.key=y);var x=this.getLabelText(t);return e.lineJoin="round",this.fillStyle(e,c[0],c[1],c[2],l),this.strokeStyle(e,d[0],d[1],d[2],u),this.shadowStyle(e,f,p,h,v,g),x},r.drawText=function(e,n,r,i){var a=n._private,o=a.style,s=a.rstyle,l=a.rscratch,u=n.effectiveOpacity();if(0!==u&&0!==o["text-opacity"].value){var c=this.setupTextStyle(e,n),d=o["text-halign"].value,h=o["text-valign"].value;if(n.isEdge()&&(d="center",h="center"),null!=c&&!isNaN(r)&&!isNaN(i)){var p=o["text-background-opacity"].value;if((o["text-background-color"]&&"none"!=o["text-background-color"].value||o["text-border-width"].pxValue>0)&&p>0){var f=o["text-border-width"].pxValue,v=4+f/2;n.isNode()&&("top"==h?i-=v:"bottom"==h&&(i+=v),"left"==d?r-=v:"right"==d&&(r+=v));var g=s.labelWidth,y=s.labelHeight,m=r;d&&("center"==d?m-=g/2:"left"==d&&(m-=g));var x=i;if(n.isNode()?"top"==h?x-=y:"center"==h&&(x-=y/2):x-=y/2,"autorotate"===o["edge-text-rotation"].strValue?(i=0,g+=4,m=r-g/2,x=i-y/2):(m-=v,x-=v,y+=2*v,g+=2*v),o["text-background-color"]){var b=e.fillStyle,w=o["text-background-color"].value;e.fillStyle="rgba("+w[0]+","+w[1]+","+w[2]+","+p*u+")";var E=o["text-background-shape"].strValue;"roundrectangle"==E?t(e,m,x,g,y,2):e.fillRect(m,x,g,y),e.fillStyle=b}if(f>0){var _=e.strokeStyle,k=e.lineWidth,S=o["text-border-color"].value,T=o["text-border-style"].value;if(e.strokeStyle="rgba("+S[0]+","+S[1]+","+S[2]+","+p*u+")",e.lineWidth=f,e.setLineDash)switch(T){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=f/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(m,x,g,y),"double"===T){var C=f/2;e.strokeRect(m+C,x+C,g-2*C,y-2*C)}e.setLineDash&&e.setLineDash([]),e.lineWidth=k,e.strokeStyle=_}}var D=2*o["text-outline-width"].pxValue;if(D>0&&(e.lineWidth=D),"wrap"===o["text-wrap"].value){var N=l.labelWrapCachedLines,P=s.labelHeight/N.length;switch(h){case"top":i-=(N.length-1)*P;break;case"bottom":break;default:case"center":i-=(N.length-1)*P/2}for(var M=0;M<N.length;M++)D>0&&e.strokeText(N[M],r,i),e.fillText(N[M],r,i),i+=P}else D>0&&e.strokeText(c,r,i),e.fillText(c,r,i);this.shadowStyle(e,"transparent",0)}}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.drawNode=function(e,n,r){var i,a,o,s=this,l=n._private.style,u=n._private.rscratch,c=n._private,d=t.usePaths(),h=e,p=!1,f=l["overlay-padding"].pxValue,v=l["overlay-opacity"].value,g=l["overlay-color"].value;if(!r||0!==v){var y=n.effectiveOpacity();if(0!==y)if(i=this.getNodeWidth(n),a=this.getNodeHeight(n),e.lineWidth=l["border-width"].pxValue,void 0!==r&&r)v>0&&(this.fillStyle(e,g[0],g[1],g[2],v),t.nodeShapes.roundrectangle.drawPath(e,n._private.position.x,n._private.position.y,i+2*f,a+2*f),e.fill());else{var m,x=l["background-image"].value[2]||l["background-image"].value[1];if(void 0!==x){m=this.getCachedImage(x,function(){s.data.canvasNeedsRedraw[t.NODE]=!0,s.data.canvasNeedsRedraw[t.DRAG]=!0,s.drawingImage=!0,s.redraw()});var b=c.backgrounding;c.backgrounding=!m.complete,b!==c.backgrounding&&n.updateStyle(!1)}var w=l["background-color"].value,E=l["border-color"].value,_=l["border-style"].value;this.fillStyle(e,w[0],w[1],w[2],l["background-opacity"].value*l.opacity.value*y),this.strokeStyle(e,E[0],E[1],E[2],l["border-opacity"].value*l.opacity.value*y);var k=l["shadow-blur"].pxValue,S=l["shadow-opacity"].value,T=l["shadow-color"].value,C=l["shadow-offset-x"].pxValue,D=l["shadow-offset-y"].pxValue;if(this.shadowStyle(e,T,S,k,C,D),e.lineJoin="miter",e.setLineDash)switch(_){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var N=l.shape.strValue,P=n._private.position;if(d){var M=N+"$"+i+"$"+a;e.translate(P.x,P.y),u.pathCacheKey===M?(o=e=u.pathCache,p=!0):(o=e=new Path2D,u.pathCacheKey=M,u.pathCache=o)}if(!p){var B=P;d&&(B={x:0,y:0}),t.nodeShapes[this.getNodeShape(n)].drawPath(e,B.x,B.y,i,a)}e=h,d?e.fill(o):e.fill(),this.shadowStyle(e,"transparent",0),void 0!==x&&m.complete&&this.drawInscribedImage(e,m,n);var L=l["background-blacken"].value,O=l["border-width"].pxValue;if(this.hasPie(n)&&(this.drawPie(e,n),(0!==L||0!==O)&&(d||t.nodeShapes[this.getNodeShape(n)].drawPath(e,P.x,P.y,i,a))),L>0?(this.fillStyle(e,0,0,0,L),d?e.fill(o):e.fill()):0>L&&(this.fillStyle(e,255,255,255,-L),d?e.fill(o):e.fill()),O>0&&(d?e.stroke(o):e.stroke(),"double"===_)){e.lineWidth=l["border-width"].pxValue/3;var A=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(o):e.stroke(),e.globalCompositeOperation=A}d&&e.translate(-P.x,-P.y),e.setLineDash&&e.setLineDash([])}}},n.hasPie=function(e){return e=e[0],e._private.hasPie},n.drawPie=function(n,r){r=r[0];var i=r._private.style["pie-size"],a=this.getNodeWidth(r),o=this.getNodeHeight(r),s=r._private.position.x,l=r._private.position.y,u=Math.min(a,o)/2,c=0,d=t.usePaths();d&&(s=0,l=0),"%"===i.units?u=u*i.value/100:void 0!==i.pxValue&&(u=i.pxValue/2);for(var h=1;h<=e.style.pieBackgroundN;h++){var p=r._private.style["pie-"+h+"-background-size"].value,f=r._private.style["pie-"+h+"-background-color"].value,v=r._private.style["pie-"+h+"-background-opacity"].value,g=p/100,y=1.5*Math.PI+2*Math.PI*c,m=2*Math.PI*g,x=y+m;0===p||c>=1||c+g>1||(n.beginPath(),n.moveTo(s,l),n.arc(s,l,u,y,x),n.closePath(),this.fillStyle(n,f[0],f[1],f[2],v),n.fill(),c+=g)}}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t,r=t.prototype;r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if(t=n[i],t.context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.shadowStyle=function(e,t,n,r,i,a){var o=this.data.cy.zoom();n>0?(e.shadowBlur=r*o,e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+n+")",e.shadowOffsetX=i*o,e.shadowOffsetY=a*o):(e.shadowBlur=0,e.shadowColor="transparent")},r.matchCanvasSize=function(e){var r=this.data,i=e.clientWidth,a=e.clientHeight,o=this.getPixelRatio(),s=this.motionBlurPxRatio;(e===this.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE]||e===this.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l,u=i*o,c=a*o;if(u!==this.canvasWidth||c!==this.canvasHeight){this.fontCaches=null;var d=r.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)l=r.canvases[h],(l.width!==u||l.height!==c)&&(l.width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px");for(var h=0;h<t.BUFFER_COUNT;h++)l=r.bufferCanvases[h],(l.width!==u||l.height!==c)&&(l.width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px");this.textureMult=1,1>=o&&(l=r.bufferCanvases[t.TEXTURE_BUFFER],this.textureMult=2,l.width=u*this.textureMult,l.height=c*this.textureMult),this.canvasWidth=u,this.canvasHeight=c}},r.renderTo=function(e,t,n,r){this.redraw({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},t.minRedrawLimit=1e3/60,t.maxRedrawLimit=1e3,t.motionBlurDelay=100,r.redraw=function(r){function i(){function r(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,c.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function i(e,t){var i,s,d,h;c.clearingMotionBlur||e!==p.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]&&e!==p.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]?(i=C,s=S,d=c.canvasWidth,h=c.canvasHeight):(i={x:T.x*y,y:T.y*y},s=k*y,d=c.canvasWidth*y,h=c.canvasHeight*y),e.setTransform(1,0,0,1,0,0),"motionBlur"===t?r(e,0,0,d,h):a||void 0!==t&&!t||e.clearRect(0,0,d,h),o||(e.translate(i.x,i.y),e.scale(s,s)),u&&e.translate(u.x,u.y),l&&e.scale(l,l)}function b(e,t){for(var n=e.eles,r=0;r<n.length;r++){var i=n[r];i.isNode()?(c.drawNode(t,i),X||c.drawNodeText(t,i),c.drawNode(t,i,!0)):j||(c.drawEdge(t,i),X||c.drawEdgeText(t,i),c.drawEdge(t,i,!0))}}c.textureDrawLastFrame&&!v&&(f[n.NODE]=!0,f[n.SELECT_BOX]=!0);var E=c.getCachedEdges(),_=h.style()._private.coreStyle,k=h.zoom(),S=void 0!==l?l:k,T=h.pan(),C={x:T.x,y:T.y},N={zoom:k,pan:{x:T.x,y:T.y}},P=c.prevViewport,M=void 0===P||N.zoom!==P.zoom||N.pan.x!==P.pan.x||N.pan.y!==P.pan.y;M||x&&!m||(c.motionBlurPxRatio=1),u&&(C=u),S*=d,C.x*=d,C.y*=d;var B={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if(v||(c.textureDrawLastFrame=!1),v){c.textureDrawLastFrame=!0;var L;if(!c.textureCache){c.textureCache={},L=c.textureCache.bb=h.elements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[t.TEXTURE_BUFFER];var O=c.data.bufferContexts[t.TEXTURE_BUFFER];O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.redraw({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:d*c.textureMult});var N=c.textureCache.viewport={zoom:h.zoom(),pan:h.pan(),width:c.canvasWidth,height:c.canvasHeight};N.mpan={x:(0-N.pan.x)/N.zoom,y:(0-N.pan.y)/N.zoom}}f[n.DRAG]=!1,f[n.NODE]=!1;var A=p.contexts[n.NODE],I=c.textureCache.texture,N=c.textureCache.viewport;L=c.textureCache.bb,A.setTransform(1,0,0,1,0,0),g?r(A,0,0,N.width,N.height):A.clearRect(0,0,N.width,N.height);var z=_["outside-texture-bg-color"].value,F=_["outside-texture-bg-opacity"].value;c.fillStyle(A,z[0],z[1],z[2],F),A.fillRect(0,0,N.width,N.height);var k=h.zoom();i(A,!1),A.clearRect(N.mpan.x,N.mpan.y,N.width/N.zoom/d,N.height/N.zoom/d),A.drawImage(I,N.mpan.x,N.mpan.y,N.width/N.zoom/d,N.height/N.zoom/d)}else c.textureOnViewport&&!a&&(c.textureCache=null);var R=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,j=c.hideEdgesOnViewport&&R,X=c.hideLabelsOnViewport&&R;if(f[n.DRAG]||f[n.NODE]||o||s){j||c.findEdgeControlPoints(E);for(var q=c.getCachedZSortedEles(),V=h.extent(),$=0;$<q.length;$++){var Y,H=q[$],L=a?null:H.boundingBox(),W=a?!0:e.math.boundingBoxesIntersect(V,L);W&&(Y=H._private.rscratch.inDragLayer?B.drag:B.nondrag,Y.eles.push(H))}}var U=[];if(U[n.NODE]=!f[n.NODE]&&g&&!c.clearedForMotionBlur[n.NODE]||c.clearingMotionBlur,U[n.NODE]&&(c.clearedForMotionBlur[n.NODE]=!0),U[n.DRAG]=!f[n.DRAG]&&g&&!c.clearedForMotionBlur[n.DRAG]||c.clearingMotionBlur,U[n.DRAG]&&(c.clearedForMotionBlur[n.DRAG]=!0),f[n.DRAG]&&g&&f[n.NODE]&&x){var A=p.contexts[n.NODE];i(A,!0),b(B.nondrag,A),f[n.NODE]=!1,U[n.NODE]=!1}else if(f[n.NODE]||o||s||U[n.NODE]){var Z=g&&!U[n.NODE]&&1!==y,A=a||(Z?c.data.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]:p.contexts[n.NODE]);i(A,g&&!Z?"motionBlur":void 0),b(B.nondrag,A),o||g||(f[n.NODE]=!1)}if(!s&&(f[n.DRAG]||o||U[n.DRAG])){var Z=g&&!U[n.DRAG]&&1!==y,A=a||(Z?c.data.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]:p.contexts[n.DRAG]);i(A,g&&!Z?"motionBlur":void 0),b(B.drag,A),o||g||(f[n.DRAG]=!1)}if(c.showFps||!s&&f[n.SELECT_BOX]&&!o){var A=a||p.contexts[n.SELECT_BOX];if(i(A),1==p.select[4]&&(c.hoverData.selecting||c.touchData.selecting)){var k=p.cy.zoom(),G=_["selection-box-border-width"].value/k;A.lineWidth=G,A.fillStyle="rgba("+_["selection-box-color"].value[0]+","+_["selection-box-color"].value[1]+","+_["selection-box-color"].value[2]+","+_["selection-box-opacity"].value+")",A.fillRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]),G>0&&(A.strokeStyle="rgba("+_["selection-box-border-color"].value[0]+","+_["selection-box-border-color"].value[1]+","+_["selection-box-border-color"].value[2]+","+_["selection-box-opacity"].value+")",A.strokeRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]))}if(p.bgActivePosistion&&!c.hoverData.selecting){var k=p.cy.zoom(),K=p.bgActivePosistion;A.fillStyle="rgba("+_["active-bg-color"].value[0]+","+_["active-bg-color"].value[1]+","+_["active-bg-color"].value[2]+","+_["active-bg-opacity"].value+")",A.beginPath(),A.arc(K.x,K.y,_["active-bg-size"].pxValue/k,0,2*Math.PI),A.fill()}var J=c.averageRedrawTime;if(c.showFps&&J){J=Math.round(J);var Q=Math.round(1e3/J);A.setTransform(1,0,0,1,0,0),A.fillStyle="rgba(255, 0, 0, 0.75)",A.strokeStyle="rgba(255, 0, 0, 0.75)",A.lineWidth=1,A.fillText("1 frame = "+J+" ms = "+Q+" fps",0,20);var ee=60;A.strokeRect(0,30,250,20),A.fillRect(0,30,250*Math.min(Q/ee,1),20)}o||(f[n.SELECT_BOX]=!1)}if(g&&1!==y){var te=p.contexts[n.NODE],ne=c.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE],re=p.contexts[n.DRAG],ie=c.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG],ae=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!w?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):r(e,0,0,c.canvasWidth,c.canvasHeight);var i=y;e.drawImage(t,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};(f[n.NODE]||U[n.NODE])&&(ae(te,ne,U[n.NODE]),f[n.NODE]=!1),(f[n.DRAG]||U[n.DRAG])&&(ae(re,ie,U[n.DRAG]),f[n.DRAG]=!1)}var oe=Date.now();void 0===c.averageRedrawTime&&(c.averageRedrawTime=oe-D),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0),c.redrawTotalTime+=oe-D,c.lastRedrawTime=oe-D,c.averageRedrawTime=c.averageRedrawTime/2+(oe-D)/2,c.currentlyDrawing=!1,c.prevViewport=N,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),g&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[n.NODE]=!1,c.clearedForMotionBlur[n.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!v,c.mbFrames=0,f[n.NODE]=!0,f[n.DRAG]=!0,c.redraw()},t.motionBlurDelay)),c.drawingImage=!1}r=r||{};var a=r.forcedContext,o=r.drawAllLayers,s=r.drawOnlyNodeLayer,l=r.forcedZoom,u=r.forcedPan,c=this,d=void 0===r.forcedPxRatio?this.getPixelRatio():r.forcedPxRatio,h=c.data.cy,p=c.data,f=p.canvasNeedsRedraw,v=c.textureOnViewport&&!a&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),g=void 0!==r.motionBlur?r.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=h.hasCompoundNodes(),x=c.hoverData.draggingEles,b=c.hoverData.selecting||c.touchData.selecting?!0:!1;g=g&&!a&&c.motionBlurEnabled&&!b;var w=g;!a&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),!a&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var E=t.minRedrawLimit,_=t.maxRedrawLimit,k=this.averageRedrawTime;k=E>k?E:k,k=_>k?k:_,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var S=Date.now(),T=S-this.lastDrawTime,C=T>=k;if(!a&&!c.clearingMotionBlur){if(!C||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout(function(){c.redraw()},k));this.lastDrawTime=S,this.currentlyDrawing=!0}g&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(w=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1);var D=Date.now();a?i():e.util.requestAnimationFrame(i),a||c.initrender||(c.initrender=!0,h.trigger("initrender")),a||h.triggerOnRender()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.drawPolygonPath=function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],n+s*a[2*l+1]);e.closePath()},n.drawPolygon=function(e,t,n,r,i,a){this.drawPolygonPath(e,t,n,r,i,a),e.fill()},n.drawRoundRectanglePath=function(t,n,r,i,a,o){var s=i/2,l=a/2,u=e.math.getRoundRectangleRadius(i,a);t.beginPath&&t.beginPath(),t.moveTo(n,r-l),t.arcTo(n+s,r-l,n+s,r,u),t.arcTo(n+s,r+l,n,r+l,u),t.arcTo(n-s,r+l,n-s,r,u),t.arcTo(n-s,r-l,n,r-l,u),t.lineTo(n,r-l),t.closePath()},n.drawRoundRectangle=function(e,t,n,r,i,a){this.drawRoundRectanglePath(e,t,n,r,i,a),e.fill()}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t.prototype;n.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},n.bufferCanvasImage=function(t){var n=this.data,r=n.cy,i=r.elements().boundingBox(),a=t.full?Math.ceil(i.w):this.data.container.clientWidth,o=t.full?Math.ceil(i.h):this.data.container.clientHeight,s=1;if(void 0!==t.scale)a*=t.scale,o*=t.scale,s=t.scale;else if(e.is.number(t.maxWidth)||e.is.number(t.maxHeight)){var l=1/0,u=1/0;e.is.number(t.maxWidth)&&(l=s*t.maxWidth/a),e.is.number(t.maxHeight)&&(u=s*t.maxHeight/o),s=Math.min(l,u),a*=s,o*=s}var c=document.createElement("canvas");c.width=a,c.height=o,c.style.width=a+"px",c.style.height=o+"px";var d=c.getContext("2d");if(a>0&&o>0)if(d.clearRect(0,0,a,o),t.bg&&(d.fillStyle=t.bg,d.rect(0,0,a,o),d.fill()),d.globalCompositeOperation="source-over",t.full)this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:s,forcedPan:{x:-i.x1*s,y:-i.y1*s},forcedPxRatio:1});else{var h=r.pan(),p={x:h.x*s,y:h.y*s},f=r.zoom()*s;this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:f,forcedPan:p,forcedPxRatio:1})}return c},n.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")},n.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")}}(cytoscape),function(e){"use strict";var t=e("renderer","canvas"),n=t,r=n.prototype;r.registerBinding=function(e,t,n,r){this.bindings.push({target:e,event:t,handler:n,useCapture:r}),e.addEventListener(t,n,r)},r.nodeIsDraggable=function(e){return 0!==e._private.style.opacity.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&!e.locked()&&e.grabbable()?!0:!1},r.load=function(){var t=this,r=function(e){var n;if(e.addToList&&t.data.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var r=0;r<e.addToList.length;r++){var i=e.addToList[r];e.addToList.hasId[i.id()]=!0}}n=e.addToList.hasId}return n||{}},i=function(e,t){if(e._private.cy.hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList))for(var n=r(t),i=e.descendants(),a=0;a<i.size();a++){var o=i[a],s=o._private;t.inDragLayer&&(s.rscratch.inDragLayer=!0),t.addToList&&!n[o.id()]&&(t.addToList.push(o),n[o.id()]=!0,s.grabbed=!0);for(var l=s.edges,u=0;t.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},a=function(e,t){var n=e._private,a=r(t);t.inDragLayer&&(n.rscratch.inDragLayer=!0),t.addToList&&!a[e.id()]&&(t.addToList.push(e),a[e.id()]=!0,n.grabbed=!0);for(var s=n.edges,l=0;t.inDragLayer&&l<s.length;l++)s[l]._private.rscratch.inDragLayer=!0;i(e,t),o(e,{inDragLayer:t.inDragLayer})},o=function(e,t){if(null!=t.inDragLayer||null!=t.addToList){var n=e;if(e._private.cy.hasCompoundNodes()){for(;n.parent().nonempty();)n=n.parent()[0];if(n!=e){for(var i=n.descendants().merge(n).unmerge(e).unmerge(e.descendants()),a=i.connectedEdges(),o=r(t),s=0;s<i.size();s++)void 0!==t.inDragLayer&&(i[s]._private.rscratch.inDragLayer=t.inDragLayer),t.addToList&&!o[i[s].id()]&&(t.addToList.push(i[s]),o[i[s].id()]=!0,i[s]._private.grabbed=!0);for(var l=0;void 0!==t.inDragLayer&&l<a.length;l++)a[l]._private.rscratch.inDragLayer=t.inDragLayer}}}};"undefined"!=typeof MutationObserver?(t.removeObserver=new MutationObserver(function(e){for(var n=0;n<e.length;n++){var r=e[n],i=r.removedNodes;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o===t.data.container){t.destroy();break}}}}),t.removeObserver.observe(t.data.container.parentNode,{childList:!0})):t.registerBinding(t.data.container,"DOMNodeRemoved",function(e){t.destroy()}),t.registerBinding(window,"resize",e.util.debounce(function(e){t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.data.container),t.data.canvasNeedsRedraw[n.NODE]=!0,t.redraw()},100));for(var s=function(e){t.registerBinding(e,"scroll",function(e){t.invalidateContainerClientCoordsCache()})},l=t.data.cy.container();s(l),l.parentNode;)l=l.parentNode;t.registerBinding(t.data.container,"contextmenu",function(e){e.preventDefault()});var u=function(){return 0!==t.data.select[4]};t.registerBinding(t.data.container,"mousedown",function(r){r.preventDefault(),t.hoverData.capture=!0,t.hoverData.which=r.which;var i=t.data.cy,o=t.projectIntoViewport(r.clientX,r.clientY),s=t.data.select,l=t.findNearestElement(o[0],o[1],!0),u=t.dragData.possibleDragElements;t.hoverData.mdownPos=o;var c=t.data.canvasNeedsRedraw,d=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var n=t.hoverData.down;n?n.trigger(new e.Event(r,{type:"taphold",cyPosition:{x:o[0],y:o[1]}})):i.trigger(new e.Event(r,{type:"taphold",cyPosition:{x:o[0],y:o[1]}}))}},t.tapholdDuration)};if(3==r.which){t.hoverData.cxtStarted=!0;var h=new e.Event(r,{type:"cxttapstart",cyPosition:{x:o[0],y:o[1]}});l?(l.activate(),l.trigger(h),t.hoverData.down=l):i.trigger(h),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==r.which){if(l&&l.activate(),null!=l){if(t.nodeIsDraggable(l)){var p=new e.Event(r,{type:"grab",cyPosition:{x:o[0],y:o[1]}});if(l.isNode()&&!l.selected())u=t.dragData.possibleDragElements=[],a(l,{addToList:u}),l.trigger(p);else if(l.isNode()&&l.selected()){u=t.dragData.possibleDragElements=[];for(var f=i.$(function(){return this.isNode()&&this.selected()}),v=0;v<f.length;v++)t.nodeIsDraggable(f[v])&&a(f[v],{addToList:u});l.trigger(p)}c[n.NODE]=!0,c[n.DRAG]=!0}l.trigger(new e.Event(r,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(r,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(r,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}))}else null==l&&i.trigger(new e.Event(r,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(r,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(r,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}));if(t.hoverData.down=l,t.hoverData.downTime=(new Date).getTime(),null==l||l.isEdge()){s[4]=1;var g=Math.max(0,n.panOrBoxSelectDelay-(+new Date-t.hoverData.downTime));clearTimeout(t.bgActiveTimeout),i.boxSelectionEnabled()||l&&l.isEdge()?t.bgActiveTimeout=setTimeout(function(){l&&l.unactivate(),t.data.bgActivePosistion={x:o[0],y:o[1]},t.hoverData.dragging=!0,c[n.SELECT_BOX]=!0,t.redraw()},g):(t.data.bgActivePosistion={x:o[0],y:o[1]},c[n.SELECT_BOX]=!0,t.redraw())}d()}s[0]=s[2]=o[0],s[1]=s[3]=o[1]},!1),t.registerBinding(window,"mousemove",e.util.throttle(function(r){var i=!1,o=t.hoverData.capture;if(!o){var s=t.findContainerClientCoords();if(!(r.clientX>s[0]&&r.clientX<s[0]+t.canvasWidth&&r.clientY>s[1]&&r.clientY<s[1]+t.canvasHeight))return;for(var l=t.data.container,u=r.target,c=u.parentNode,d=!1;c;){if(c===l){d=!0;break}c=c.parentNode}if(!d)return}var h=t.data.cy,p=h.zoom(),f=t.projectIntoViewport(r.clientX,r.clientY),v=t.data.select,g=t.data.canvasNeedsRedraw,y=null;t.hoverData.draggingEles||(y=t.findNearestElement(f[0],f[1],!0));

var m=t.hoverData.last,x=t.hoverData.down,b=[f[0]-v[2],f[1]-v[3]],w=t.dragData.possibleDragElements,E=v[2]-v[0],_=E*E,k=v[3]-v[1],S=k*k,T=_+S,C=T*p*p;t.hoverData.tapholdCancelled=!0;var D=function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(b[0]),e.push(b[1])):(e[0]+=b[0],e[1]+=b[1])};if(i=!0,null!=y?y.trigger(new e.Event(r,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(r,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(r,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})):null==y&&h.trigger(new e.Event(r,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(r,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(r,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})),3===t.hoverData.which){var N=new e.Event(r,{type:"cxtdrag",cyPosition:{x:f[0],y:f[1]}});x?x.trigger(N):h.trigger(N),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&y===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.trigger(new e.Event(r,{type:"cxtdragout",cyPosition:{x:f[0],y:f[1]}})),t.hoverData.cxtOver=y,y&&y.trigger(new e.Event(r,{type:"cxtdragover",cyPosition:{x:f[0],y:f[1]}})))}else if(t.hoverData.dragging){if(i=!0,h.panningEnabled()&&h.userPanningEnabled()){var P;if(t.hoverData.justStartedPan){var M=t.hoverData.mdownPos;P={x:(f[0]-M[0])*p,y:(f[1]-M[1])*p},t.hoverData.justStartedPan=!1}else P={x:b[0]*p,y:b[1]*p};h.panBy(P),t.hoverData.dragged=!0}f=t.projectIntoViewport(r.clientX,r.clientY)}else if(1==v[4]&&(null==x||x.isEdge())&&(!h.boxSelectionEnabled()||+new Date-t.hoverData.downTime>=n.panOrBoxSelectDelay)&&!t.hoverData.selecting&&C>=t.tapThreshold2&&h.panningEnabled()&&h.userPanningEnabled())t.hoverData.dragging=!0,t.hoverData.selecting=!1,t.hoverData.justStartedPan=!0,v[4]=0;else{if(h.boxSelectionEnabled()&&!t.hoverData.dragging&&Math.pow(v[2]-v[0],2)+Math.pow(v[3]-v[1],2)>7&&v[4]&&(clearTimeout(t.bgActiveTimeout),t.data.bgActivePosistion=void 0,t.hoverData.selecting=!0,g[n.SELECT_BOX]=!0,t.redraw()),x&&x.isEdge()&&x.active()&&x.unactivate(),y!=m&&(m&&(m.trigger(new e.Event(r,{type:"mouseout",cyPosition:{x:f[0],y:f[1]}})),m.trigger(new e.Event(r,{type:"tapdragout",cyPosition:{x:f[0],y:f[1]}}))),y&&(y.trigger(new e.Event(r,{type:"mouseover",cyPosition:{x:f[0],y:f[1]}})),y.trigger(new e.Event(r,{type:"tapdragover",cyPosition:{x:f[0],y:f[1]}}))),t.hoverData.last=y),x&&x.isNode()&&t.nodeIsDraggable(x))if(C>=t.tapThreshold2){var B=!t.dragData.didDrag;B&&(g[n.NODE]=!0),t.dragData.didDrag=!0;for(var L=[],O=0;O<w.length;O++){var A=w[O];if(t.hoverData.draggingEles||a(A,{inDragLayer:!0}),A.isNode()&&t.nodeIsDraggable(A)&&A.grabbed()){var I=A._private.position;if(L.push(A),e.is.number(b[0])&&e.is.number(b[1])&&(I.x+=b[0],I.y+=b[1],B)){var z=t.hoverData.dragDelta;e.is.number(z[0])&&e.is.number(z[1])&&(I.x+=z[0],I.y+=z[1])}}}t.hoverData.draggingEles=!0;var F=new e.Collection(h,L);F.updateCompoundBounds(),F.trigger("position drag"),g[n.DRAG]=!0,t.redraw()}else D();i=!0}return v[2]=f[0],v[3]=f[1],i?(r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),!1):void 0},1e3/30,{trailing:!0}),!1),t.registerBinding(window,"mouseup",function(r){var i=t.hoverData.capture;if(i){t.hoverData.capture=!1;var a=t.data.cy,s=t.projectIntoViewport(r.clientX,r.clientY),l=t.data.select,u=t.findNearestElement(s[0],s[1],!0),c=t.dragData.possibleDragElements,d=t.hoverData.down,h=r.shiftKey,p=t.data.canvasNeedsRedraw;if(t.data.bgActivePosistion&&(p[n.SELECT_BOX]=!0,t.redraw()),t.data.bgActivePosistion=void 0,clearTimeout(t.bgActiveTimeout),d&&d.unactivate(),3===t.hoverData.which){var f=new e.Event(r,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(d?d.trigger(f):a.trigger(f),!t.hoverData.cxtDragged){var v=new e.Event(r,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});d?d.trigger(v):a.trigger(v)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else{if(null!=d||t.dragData.didDrag||Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]||t.hoverData.dragged||(a.$(function(){return this.selected()}).unselect(),c.length>0&&(p[n.NODE]=!0),t.dragData.possibleDragElements=c=[]),null!=u?u.trigger(new e.Event(r,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(r,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})),Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)!==0||t.dragData.didDrag||t.hoverData.dragged||(null!=u?u.trigger(new e.Event(r,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(r,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(r,{type:"vclick",cyPosition:{x:s[0],y:s[1]}}))),u!=d||t.dragData.didDrag||null!=u&&u._private.selectable&&(t.hoverData.dragging||("additive"===a.selectionType()||h?u.selected()?u.unselect():u.select():h||(a.$(":selected").unmerge(u).unselect(),u.select())),p[n.NODE]=!0),t.hoverData.selecting&&a.boxSelectionEnabled()&&Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]){var g=[],y=t.getAllInBox(l[0],l[1],l[2],l[3]);p[n.SELECT_BOX]=!0,y.length>0&&(p[n.NODE]=!0);for(var m=0;m<y.length;m++)y[m]._private.selectable&&g.push(y[m]);var x=new e.Collection(a,g);"additive"===a.selectionType()?x.select():(h||a.$(":selected").unmerge(x).unselect(),x.select()),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,p[n.SELECT_BOX]=!0,p[n.NODE]=!0,t.redraw()),!l[4]){p[n.DRAG]=!0,p[n.NODE]=!0;for(var m=0;m<c.length;m++)if("nodes"===c[m]._private.group){c[m]._private.rscratch.inDragLayer=!1,c[m]._private.grabbed=!1;for(var b=c[m]._private.edges,w=0;w<b.length;w++)b[w]._private.rscratch.inDragLayer=!1;o(c[m],{inDragLayer:!1})}else"edges"===c[m]._private.group&&(c[m]._private.rscratch.inDragLayer=!1);d&&d.trigger("free")}}l[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[]}},!1);var c=function(e){if(!t.scrollingPage){var r=t.data.cy,i=t.projectIntoViewport(e.clientX,e.clientY),a=[i[0]*r.zoom()+r.pan().x,i[1]*r.zoom()+r.pan().y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||u())return void e.preventDefault();if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.data.canvasNeedsRedraw[n.NODE]=!0,t.redraw()},150);var o=e.deltaY/-250||e.wheelDeltaY/1e3||e.wheelDelta/1e3;o*=t.wheelSensitivity;var s=1===e.deltaMode;s&&(o*=33),r.zoom({level:r.zoom()*Math.pow(10,o),renderedPosition:{x:a[0],y:a[1]}})}}};t.registerBinding(t.data.container,"wheel",c,!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.data.container,"mouseout",function(n){var r=t.projectIntoViewport(n.clientX,n.clientY);t.data.cy.trigger(new e.Event(n,{type:"mouseout",cyPosition:{x:r[0],y:r[1]}}))},!1),t.registerBinding(t.data.container,"mouseover",function(n){var r=t.projectIntoViewport(n.clientX,n.clientY);t.data.cy.trigger(new e.Event(n,{type:"mouseover",cyPosition:{x:r[0],y:r[1]}}))},!1);var d,h,p,f,v,g,y,m,x,b,w,E,_,k=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},S=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};t.registerBinding(t.data.container,"touchstart",function(r){clearTimeout(this.threeFingerSelectTimeout),r.target!==t.data.link&&r.preventDefault(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var i=t.data.cy,o=t.getCachedNodes(),s=t.getCachedEdges(),l=t.touchData.now,u=t.touchData.earlier,c=t.data.canvasNeedsRedraw;if(r.touches[0]){var T=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=T[0],l[1]=T[1]}if(r.touches[1]){var T=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=T[0],l[3]=T[1]}if(r.touches[2]){var T=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=T[0],l[5]=T[1]}if(r.touches[1]){var C=function(e){for(var t=0;t<e.length;t++)e[t]._private.grabbed=!1,e[t]._private.rscratch.inDragLayer=!1,e[t].active()&&e[t].unactivate()};C(o),C(s);var D=t.findContainerClientCoords();x=D[0],b=D[1],w=D[2],E=D[3],d=r.touches[0].clientX-x,h=r.touches[0].clientY-b,p=r.touches[1].clientX-x,f=r.touches[1].clientY-b,_=d>=0&&w>=d&&p>=0&&w>=p&&h>=0&&E>=h&&f>=0&&E>=f;var N=i.pan(),P=i.zoom();v=k(d,h,p,f),g=S(d,h,p,f),y=[(d+p)/2,(h+f)/2],m=[(y[0]-N.x)/P,(y[1]-N.y)/P];var M=200,B=M*M;if(B>g&&!r.touches[2]){var L=t.findNearestElement(l[0],l[1],!0),O=t.findNearestElement(l[2],l[3],!0);return L&&L.isNode()?(L.activate().trigger(new e.Event(r,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),t.touchData.start=L):O&&O.isNode()?(O.activate().trigger(new e.Event(r,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),t.touchData.start=O):(i.trigger(new e.Event(r,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),t.touchData.start=null),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(r.touches[2]);else if(r.touches[1]);else if(r.touches[0]){var A=t.findNearestElement(l[0],l[1],!0);if(null!=A){if(A.activate(),t.touchData.start=A,A.isNode()&&t.nodeIsDraggable(A)){var I=t.dragData.touchDragEles=[];if(c[n.NODE]=!0,c[n.DRAG]=!0,A.selected())for(var z=i.$(function(){return this.isNode()&&this.selected()}),F=0;F<z.length;F++){var R=z[F];t.nodeIsDraggable(R)&&a(R,{addToList:I})}else a(A,{addToList:I});A.trigger(new e.Event(r,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}A.trigger(new e.Event(r,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(r,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(r,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}null==A&&(i.trigger(new e.Event(r,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(r,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(r,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}})),t.data.bgActivePosistion={x:T[0],y:T[1]},c[n.SELECT_BOX]=!0,t.redraw());for(var j=0;j<l.length;j++)u[j]=l[j],t.touchData.startPosition[j]=l[j];t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved!==!1||t.pinching||(t.touchData.start?t.touchData.start.trigger(new e.Event(r,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})):(t.data.cy.trigger(new e.Event(r,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})),i.$(":selected").unselect()))},t.tapholdDuration)}},!1),t.registerBinding(window,"touchmove",e.util.throttle(function(r){var i=t.data.select,o=t.touchData.capture;o&&r.preventDefault();var s=t.data.cy,l=t.touchData.now,u=t.touchData.earlier,c=s.zoom(),y=t.data.canvasNeedsRedraw;if(r.touches[0]){var w=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=w[0],l[1]=w[1]}if(r.touches[1]){var w=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=w[0],l[3]=w[1]}if(r.touches[2]){var w=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=w[0],l[5]=w[1]}for(var E=[],T=0;T<l.length;T++)E[T]=l[T]-u[T];var C=t.touchData.startPosition,D=l[0]-C[0],N=D*D,P=l[1]-C[1],M=P*P,B=N+M,L=B*c*c;if(o&&t.touchData.cxt){var O=r.touches[0].clientX-x,A=r.touches[0].clientY-b,I=r.touches[1].clientX-x,z=r.touches[1].clientY-b,F=S(O,A,I,z),R=F/g,j=150,X=j*j,q=1.5,V=q*q;if(R>=V||F>=X){t.touchData.cxt=!1,t.touchData.start&&(t.touchData.start.unactivate(),t.touchData.start=null),t.data.bgActivePosistion=void 0,y[n.SELECT_BOX]=!0;var $=new e.Event(r,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});t.touchData.start?t.touchData.start.trigger($):s.trigger($)}}if(o&&t.touchData.cxt){var $=new e.Event(r,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});t.data.bgActivePosistion=void 0,y[n.SELECT_BOX]=!0,t.touchData.start?t.touchData.start.trigger($):s.trigger($),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Y=t.findNearestElement(l[0],l[1],!0);t.touchData.cxtOver&&Y===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.trigger(new e.Event(r,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}})),t.touchData.cxtOver=Y,Y&&Y.trigger(new e.Event(r,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}})))}else if(o&&r.touches[2]&&s.boxSelectionEnabled())t.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,t.touchData.selecting=!0,y[n.SELECT_BOX]=!0,i&&0!==i.length&&void 0!==i[0]?(i[2]=(l[0]+l[2]+l[4])/3,i[3]=(l[1]+l[3]+l[5])/3):(i[0]=(l[0]+l[2]+l[4])/3,i[1]=(l[1]+l[3]+l[5])/3,i[2]=(l[0]+l[2]+l[4])/3+1,i[3]=(l[1]+l[3]+l[5])/3+1),i[4]=1,t.touchData.selecting=!0,t.redraw();else if(o&&r.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){t.data.bgActivePosistion=void 0,y[n.SELECT_BOX]=!0;var H=t.dragData.touchDragEles;if(H){y[n.DRAG]=!0;for(var W=0;W<H.length;W++)H[W]._private.grabbed=!1,H[W]._private.rscratch.inDragLayer=!1}var O=r.touches[0].clientX-x,A=r.touches[0].clientY-b,I=r.touches[1].clientX-x,z=r.touches[1].clientY-b,U=k(O,A,I,z),Z=U/v;if(1!=Z&&_){var G=O-d,K=A-h,J=I-p,Q=z-f,ee=(G+J)/2,te=(K+Q)/2,ne=s.zoom(),re=ne*Z,ie=s.pan(),ae=m[0]*ne+ie.x,oe=m[1]*ne+ie.y,se={x:-re/ne*(ae-ie.x-ee)+ae,y:-re/ne*(oe-ie.y-te)+oe};if(t.touchData.start){var H=t.dragData.touchDragEles;if(H)for(var W=0;W<H.length;W++)H[W]._private.grabbed=!1,H[W]._private.rscratch.inDragLayer=!1;t.touchData.start._private.active=!1,t.touchData.start._private.grabbed=!1,t.touchData.start._private.rscratch.inDragLayer=!1,y[n.DRAG]=!0,t.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:re,pan:se,cancelOnFailedZoom:!0}),v=U,d=O,h=A,p=I,f=z,t.pinching=!0}if(r.touches[0]){var w=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=w[0],l[1]=w[1]}if(r.touches[1]){var w=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=w[0],l[3]=w[1]}if(r.touches[2]){var w=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=w[0],l[5]=w[1]}}else if(r.touches[0]){var le=t.touchData.start,ue=t.touchData.last,Y=Y||t.findNearestElement(l[0],l[1],!0);if(null!=le&&"nodes"==le._private.group&&t.nodeIsDraggable(le))if(L>=t.tapThreshold2){for(var H=t.dragData.touchDragEles,ce=0;ce<H.length;ce++){var de=H[ce];if(t.nodeIsDraggable(de)&&de.isNode()&&de.grabbed()){t.dragData.didDrag=!0;var he=de._private.position,pe=!t.hoverData.draggingEles;if(e.is.number(E[0])&&e.is.number(E[1])&&(he.x+=E[0],he.y+=E[1]),pe){a(de,{inDragLayer:!0});var fe=t.touchData.dragDelta;e.is.number(fe[0])&&e.is.number(fe[1])&&(he.x+=fe[0],he.y+=fe[1])}}}var ve=new e.Collection(s,de);ve.updateCompoundBounds(),ve.trigger("position drag"),t.hoverData.draggingEles=!0,y[n.DRAG]=!0,t.touchData.startPosition[0]==u[0]&&t.touchData.startPosition[1]==u[1]&&(y[n.NODE]=!0),t.redraw()}else{var fe=t.touchData.dragDelta=t.touchData.dragDelta||[];0===fe.length?(fe.push(E[0]),fe.push(E[1])):(fe[0]+=E[0],fe[1]+=E[1])}null!=le&&(le.trigger(new e.Event(r,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),le.trigger(new e.Event(r,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),le.trigger(new e.Event(r,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==le&&(null!=Y&&(Y.trigger(new e.Event(r,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),Y.trigger(new e.Event(r,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),Y.trigger(new e.Event(r,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==Y&&(s.trigger(new e.Event(r,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new e.Event(r,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new e.Event(r,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}})))),Y!=ue&&(ue&&ue.trigger(new e.Event(r,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}})),Y&&Y.trigger(new e.Event(r,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}}))),t.touchData.last=Y;for(var W=0;W<l.length;W++)l[W]&&t.touchData.startPosition[W]&&Math.abs(l[W]-t.touchData.startPosition[W])>4&&(t.touchData.singleTouchMoved=!0);if(o&&(null==le||le.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){t.swipePanning?s.panBy({x:E[0]*c,y:E[1]*c}):L>=t.tapThreshold2&&(t.swipePanning=!0,s.panBy({x:D*c,y:P*c})),le&&(le.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion={x:l[0],y:l[1]}),y[n.SELECT_BOX]=!0,t.touchData.start=null);var w=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=w[0],l[1]=w[1]}}for(var T=0;T<l.length;T++)u[T]=l[T]},1e3/30,{trailing:!0}),!1),t.registerBinding(window,"touchcancel",function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",function(r){var i=t.touchData.start,a=t.touchData.capture;if(a){t.touchData.capture=!1,r.preventDefault();var s=t.data.select;t.swipePanning=!1,t.hoverData.draggingEles=!1;var l=t.data.cy,u=l.zoom(),c=t.touchData.now,d=t.touchData.earlier,h=t.data.canvasNeedsRedraw;if(r.touches[0]){var p=t.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0],c[1]=p[1]}if(r.touches[1]){var p=t.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=p[0],c[3]=p[1]}if(r.touches[2]){var p=t.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=p[0],c[5]=p[1]}i&&i.unactivate();var f;if(t.touchData.cxt){if(f=new e.Event(r,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}}),i?i.trigger(f):l.trigger(f),!t.touchData.cxtDragged){var v=new e.Event(r,{type:"cxttap",cyPosition:{x:c[0],y:c[1]}});i?i.trigger(v):l.trigger(v)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!r.touches[2]&&l.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1,clearTimeout(this.threeFingerSelectTimeout);var g=[],y=t.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,h[n.SELECT_BOX]=!0;for(var m=0;m<y.length;m++)y[m]._private.selectable&&g.push(y[m]);var x=new e.Collection(l,g);"single"===l.selectionType()&&l.$(":selected").unmerge(x).unselect(),x.select(),x.length>0?h[n.NODE]=!0:t.redraw()}var b=!1;if(null!=i&&(i._private.active=!1,b=!0,i.unactivate()),r.touches[2])t.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0;else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){if(t.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0,null!=i){i._private.grabbed&&(i._private.grabbed=!1,i.trigger("free"),i._private.rscratch.inDragLayer=!1);for(var w=i._private.edges,E=0;E<w.length;E++)w[E]._private.rscratch.inDragLayer=!1;if(o(i,!1),i.selected())for(var _=l.$("node:selected"),k=0;k<_.length;k++){var S=_[k];S._private.rscratch.inDragLayer=!1,S._private.grabbed=!1;for(var w=S._private.edges,E=0;E<w.length;E++)w[E]._private.rscratch.inDragLayer=!1;o(S,!1)}h[n.DRAG]=!0,h[n.NODE]=!0,i.trigger(new e.Event(r,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),i.unactivate(),t.touchData.start=null}else{var T=t.findNearestElement(c[0],c[1],!0);null!=T&&T.trigger(new e.Event(r,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),null==T&&l.trigger(new e.Event(r,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}))}var C=t.touchData.startPosition[0]-c[0],D=C*C,N=t.touchData.startPosition[1]-c[1],P=N*N,M=D+P,B=M*u*u;null!=i&&!t.dragData.didDrag&&i._private.selectable&&B<t.tapThreshold2&&!t.pinching&&("single"===l.selectionType()?(l.$(":selected").unmerge(i).unselect(),i.select()):i.selected()?i.unselect():i.select(),b=!0,h[n.NODE]=!0),t.touchData.singleTouchMoved===!1&&(i?i.trigger(new e.Event(r,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})):l.trigger(new e.Event(r,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(r,{type:"vclick",cyPosition:{x:c[0],y:c[1]}}))),t.touchData.singleTouchMoved=!0}for(var E=0;E<c.length;E++)d[E]=c[E];t.dragData.didDrag=!1,r.touches[0]&&(t.touchData.dragDelta=[]),b&&i&&i.updateStyle(!1),r.touches.length<2&&(t.pinching=!1,h[n.NODE]=!0,t.redraw())}},!1)}}(cytoscape),function(e){"use strict";function t(t,n){a[t]={points:n,draw:function(e,n,i,o,s){r.drawPolygon(e,n,i,o,s,a[t].points)},drawPath:function(e,n,i,o,s){r.drawPolygonPath(e,n,i,o,s,a[t].points)},intersectLine:function(n,r,i,o,s,l,u){return e.math.polygonIntersectLine(s,l,a[t].points,n,r,i/2,o/2,u)},intersectBox:function(n,r,i,o,s,l,u,c,d){var h=a[t].points;return e.math.boxIntersectPolygon(n,r,i,o,h,s,l,u,c,[0,-1],d)},checkPoint:function(n,r,i,o,s,l,u){return e.math.pointInsidePolygon(n,r,a[t].points,l,u,o,s,[0,-1],i)}}}for(var n=e("renderer","canvas"),r=n.prototype,i=n.usePaths(),a=n.nodeShapes={},o=Math.sin(0),s=Math.cos(0),l={},u={},c=.1,d=0*Math.PI;d<2*Math.PI;d+=c)l[d]=Math.sin(d),u[d]=Math.cos(d);a.ellipse={draw:function(e,t,n,r,i){a.ellipse.drawPath(e,t,n,r,i),e.fill()},drawPath:function(e,t,n,r,a){if(i){e.beginPath&&e.beginPath();for(var d,h,p=r/2,f=a/2,v=0*Math.PI;v<2*Math.PI;v+=c)d=t-p*l[v]*o+p*u[v]*s,h=n+f*u[v]*o+f*l[v]*s,0===v?e.moveTo(d,h):e.lineTo(d,h);e.closePath()}else e.beginPath&&e.beginPath(),e.translate(t,n),e.scale(r/2,a/2),e.arc(0,0,1,0,2*Math.PI*.999,!1),e.closePath(),e.scale(2/r,2/a),e.translate(-t,-n)},intersectLine:function(t,n,r,i,a,o,s){var l=e.math.intersectLineEllipse(a,o,t,n,r/2+s,i/2+s);return l},intersectBox:function(t,n,r,i,a,o,s,l,u){return e.math.boxIntersectEllipse(t,n,r,i,u,a,o,s,l)},checkPoint:function(e,t,n,r,i,a,o){return e-=a,t-=o,e/=r/2+n,t/=i/2+n,Math.pow(e,2)+Math.pow(t,2)<=1}},t("triangle",e.math.generateUnitNgonPointsFitToSquare(3,0)),t("square",e.math.generateUnitNgonPointsFitToSquare(4,0)),a.rectangle=a.square,a.roundrectangle={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,i,a){r.drawRoundRectangle(e,t,n,i,a,10)},drawPath:function(e,t,n,i,a){r.drawRoundRectanglePath(e,t,n,i,a,10)},intersectLine:function(t,n,r,i,a,o,s){return e.math.roundRectangleIntersectLine(a,o,t,n,r,i,s)},intersectBox:function(t,n,r,i,a,o,s,l,u){return e.math.roundRectangleIntersectBox(t,n,r,i,a,o,s,l,u)},checkPoint:function(t,n,r,i,o,s,l){var u=e.math.getRoundRectangleRadius(i,o);if(e.math.pointInsidePolygon(t,n,a.roundrectangle.points,s,l,i,o-2*u,[0,-1],r))return!0;if(e.math.pointInsidePolygon(t,n,a.roundrectangle.points,s,l,i-2*u,o,[0,-1],r))return!0;var c=function(e,t,n,r,i,a,o){return e-=n,t-=r,e/=i/2+o,t/=a/2+o,Math.pow(e,2)+Math.pow(t,2)<=1};return c(t,n,s-i/2+u,l-o/2+u,2*u,2*u,r)?!0:c(t,n,s+i/2-u,l-o/2+u,2*u,2*u,r)?!0:c(t,n,s+i/2-u,l+o/2-u,2*u,2*u,r)?!0:c(t,n,s-i/2+u,l+o/2-u,2*u,2*u,r)?!0:!1}},t("diamond",[0,1,1,0,0,-1,-1,0]),t("pentagon",e.math.generateUnitNgonPointsFitToSquare(5,0)),t("hexagon",e.math.generateUnitNgonPointsFitToSquare(6,0)),t("heptagon",e.math.generateUnitNgonPointsFitToSquare(7,0)),t("octagon",e.math.generateUnitNgonPointsFitToSquare(8,0));var h=new Array(20),p=e.math.generateUnitNgonPoints(5,0),f=e.math.generateUnitNgonPoints(5,Math.PI/5),v=.5*(3-Math.sqrt(5));v*=1.57;for(var d=0;d<f.length/2;d++)f[2*d]*=v,f[2*d+1]*=v;for(var d=0;5>d;d++)h[4*d]=p[2*d],h[4*d+1]=p[2*d+1],h[4*d+2]=f[2*d],h[4*d+3]=f[2*d+1];h=e.math.fitPolygonToSquare(h),t("star",h),t("vee",[-1,-1,0,-.333,1,-1,0,1]),t("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])}(cytoscape),function(e){"use strict";function t(t){this._private={},this._private.options=e.util.extend({},n,t)}var n={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var t=e;return t.max<=.5||t.mean<=.3},infinite:!1};t.prototype.run=function(){var t=this,n=this._private.options;return e.util.require("arbor",function(r){function i(e,t){return null==t?void 0:"function"==typeof t?t.apply(e,[e._private.data,{nodes:u.length,edges:c.length,element:e}]):t}function a(e){if(!e.isFullAutoParent()){var t=e._private.data.id,r=i(e,n.nodeMass),a=e._private.locked,o=e.position(),s=p.fromScreen({x:o.x,y:o.y});e.scratch().arbor=p.addNode(t,{element:e,mass:r,fixed:a,x:a?s.x:void 0,y:a?s.y:void 0})}}function o(e){var t=e.source().id(),r=e.target().id(),a=i(e,n.edgeLength);e.scratch().arbor=p.addEdge(t,r,{length:a})}var s=n.cy,l=n.eles,u=l.nodes().not(":parent"),c=l.edges(),d=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),h=!1;if(t.trigger({type:"layoutstart",layout:t}),void 0!==n.liveUpdate&&(n.animate=n.liveUpdate),s.nodes().size()<=1)return n.fit&&s.reset(),s.nodes().position({x:Math.round((d.x1+d.x2)/2),y:Math.round((d.y1+d.y2)/2)}),t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),void t.trigger({type:"layoutstop",layout:t});var p=t._private.system=r.ParticleSystem();p.parameters({repulsion:n.repulsion,stiffness:n.stiffness,friction:n.friction,gravity:n.gravity,fps:n.fps,dt:n.dt,precision:n.precision}),n.animate&&n.fit&&s.fit(d,n.padding);var f,v=250,g=!1,y=+new Date,m={init:function(e){},redraw:function(){var e=p.energy();if(!n.infinite&&null!=n.stableEnergy&&null!=e&&e.n>0&&n.stableEnergy(e))return void t.stop();n.infinite||v==1/0||(clearTimeout(f),f=setTimeout(S,v));var r=s.collection();p.eachNode(function(e,t){var n=e.data,i=n.element;null!=i&&(i.locked()||i.grabbed()||(i.silentPosition({x:d.x1+t.x,y:d.y1+t.y}),r.merge(i)))}),n.animate&&r.length>0&&(h=!0,r.rtrigger("position"),n.fit&&s.fit(n.padding),y=+new Date,h=!1),g||(g=!0,t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t}))}};p.renderer=m,p.screenSize(d.w,d.h),p.screenPadding(n.padding,n.padding,n.padding,n.padding),p.screenStep(n.stepSize);var x;u.on("grab free position",x=function(e){if(!h){var t=this.position(),i=p.fromScreen(t);if(i){var a=r.Point(i.x,i.y),o=n.padding;switch(d.x1+o<=t.x&&t.x<=d.x2-o&&d.y1+o<=t.y&&t.y<=d.y2-o&&(this.scratch().arbor.p=a),e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var b;u.on("lock unlock",b=function(e){node.scratch().arbor.fixed=node.locked()});var w;l.on("remove",w=function(e){});var E;s.on("add","*",E=function(){});var _;s.on("resize",_=function(){if(null==n.boundingBox&&null!=t._private.system){var e=s.width(),r=s.height();p.screenSize(e,r)}}),u.each(function(e,t){a(t)}),c.each(function(e,t){o(t)});var k=u.filter(":grabbable");n.ungrabifyWhileSimulating&&k.ungrabify();var S=t._private.doneHandler=function(){t._private.doneHandler=null,n.animate||(n.fit&&s.reset(),u.rtrigger("position")),u.off("grab free position",x),u.off("lock unlock",b),l.off("remove",w),s.off("add","*",E),s.off("resize",_),n.ungrabifyWhileSimulating&&k.grabify(),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t})};p.start(),!n.infinite&&null!=n.maxSimulationTime&&n.maxSimulationTime>0&&n.maxSimulationTime!==1/0&&setTimeout(function(){t.stop()},n.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},e("layout","arbor",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var n={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t,n=this.options,r=n,i=n.cy,a=r.eles,o=a.nodes().not(":parent"),s=a,l=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(e.is.elementOrCollection(r.roots))t=r.roots;else if(e.is.array(r.roots)){for(var u=[],c=0;c<r.roots.length;c++){var d=r.roots[c],h=i.getElementById(d);u.push(h)}t=new e.Collection(i,u)}else if(e.is.string(r.roots))t=i.$(r.roots);else if(r.directed)t=o.roots();else{for(var p=[],f=o;f.length>0;){var v=i.collection();a.bfs({roots:f[0],visit:function(e,t,n,r,i){v=v.add(n)},directed:!1}),f=f.not(v),p.push(v)}t=i.collection();for(var c=0;c<p.length;c++){var g=p[c],y=g.maxDegree(!1),m=g.filter(function(){return this.degree(!1)===y});t=t.add(m)}}var x=[],b={},w={},E={},_={},k={};s.bfs({roots:t,directed:r.directed,visit:function(e,t,n,r,i){var a=this[0],o=a.id();if(x[t]||(x[t]=[]),x[t].push(a),b[o]=!0,w[o]=t,E[o]=i,_[o]=r,i){var s=i.id(),l=k[s]=k[s]||[];l.push(n)}}});for(var S=[],c=0;c<o.length;c++){var h=o[c];b[h.id()]||S.push(h)}for(var T=3*S.length,C=0;0!==S.length&&T>C;){for(var D=S.shift(),N=D.neighborhood().nodes(),P=!1,c=0;c<N.length;c++){var M=w[N[c].id()];if(void 0!==M){x[M].push(D),P=!0;break}}P||S.push(D),C++}for(;0!==S.length;){var D=S.shift(),P=!1;P||(0===x.length&&x.push([]),x[0].push(D))}var B=function(){for(var e=0;e<x.length;e++)for(var t=x[e],n=0;n<t.length;n++){var r=t[n];r._private.scratch.breadthfirst={depth:e,index:n}}};B();for(var L=function(e){for(var t,n=e.connectedEdges(function(){return this.data("target")===e.id()}),r=e._private.scratch.breadthfirst,i=0,a=0;a<n.length;a++){var o=n[a],s=o.source()[0],l=s._private.scratch.breadthfirst;r.depth<=l.depth&&i<l.depth&&(i=l.depth,t=s)}return t},O=0;O<r.maximalAdjustments;O++){for(var A=x.length,I=[],c=0;A>c;c++)for(var M=x[c],z=M.length,F=0;z>F;F++){var h=M[F],R=h._private.scratch.breadthfirst,j=L(h);j&&(R.intEle=j,I.push(h))}for(var c=0;c<I.length;c++){var h=I[c],R=h._private.scratch.breadthfirst,j=R.intEle,X=j._private.scratch.breadthfirst;x[R.depth].splice(R.index,1);for(var q=X.depth+1;q>x.length-1;)x.push([]);x[q].push(h),R.depth=q,R.index=x[q].length-1}B()}var V=0;if(r.avoidOverlap){for(var c=0;c<o.length;c++){var $=o[c].outerWidth(),Y=o[c].outerHeight();V=Math.max(V,$,Y)}V*=r.spacingFactor}for(var H={},W=function(e){if(H[e.id()])return H[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent"),r=0,i=0,a=0;a<n.length;a++){var o=n[a],s=o._private.scratch.breadthfirst,l=s.index,u=s.depth,c=x[u].length;(t>u||0===t)&&(r+=l/c,i++)}return i=Math.max(1,i),r/=i,0===i&&(r=void 0),H[e.id()]=r,r},U=function(e,t){var n=W(e),r=W(t);return n-r},Z=0;3>Z;Z++){for(var c=0;c<x.length;c++)x[c]=x[c].sort(U);B()}for(var G=0,c=0;c<x.length;c++)G=Math.max(x[c].length,G);for(var K={x:l.x1+l.w/2,y:l.x1+l.h/2},J=function(e,t){var n=e._private.scratch.breadthfirst,i=n.depth,a=n.index,o=x[i].length,s=Math.max(l.w/(o+1),V),u=Math.max(l.h/(x.length+1),V),c=Math.min(l.w/2/x.length,l.h/2/x.length);if(c=Math.max(c,V),r.circle){if(r.circle){var d=c*i+c-(x.length>0&&x[0].length<=3?c/2:0),h=2*Math.PI/x[i].length*a;return 0===i&&1===x[0].length&&(d=1),{x:K.x+d*Math.cos(h),y:K.y+d*Math.sin(h)}}return{x:K.x+(a+1-(o+1)/2)*s,y:(i+1)*u}}var p={x:K.x+(a+1-(o+1)/2)*s,y:(i+1)*u};return t?p:p},Q={},c=x.length-1;c>=0;c--)for(var M=x[c],F=0;F<M.length;F++){var D=M[F];Q[D.id()]=J(D,c===x.length-1)}return o.layoutPositions(this,r,function(){return Q[this.id()]}),this},e("layout","breadthfirst",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var n={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,n=t,r=t.cy,i=n.eles,a=i.nodes().not(":parent");

n.sort&&(a=a.sort(n.sort));for(var o,s=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=n.startAngle,c=2*Math.PI/a.length,d=0,h=0;h<a.length;h++){var p=a[h].outerWidth(),f=a[h].outerHeight();d=Math.max(d,p,f)}if(o=e.is.number(n.radius)?n.radius:a.length<=1?0:Math.min(s.h,s.w)/2-d,a.length>1&&n.avoidOverlap){d*=1.75;var c=2*Math.PI/a.length,v=Math.cos(c)-Math.cos(0),g=Math.sin(c)-Math.sin(0),y=Math.sqrt(d*d/(v*v+g*g));o=Math.max(y,o)}var m=function(e,t){var r=o*Math.cos(u),i=o*Math.sin(u),a={x:l.x+r,y:l.y+i};return u=n.counterclockwise?u-c:u+c,a};return a.layoutPositions(this,n,m),this},e("layout","circle",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},n,t)}var n={animate:!1,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.prototype.run=function(){var t=this,n=this.options;return e.util.require("cola",function(r){var i=n.cy,a=n.eles,o=a.nodes(),s=a.edges(),l=!1,u=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),c=function(t,n){if(e.is.fn(t)){var r=t;return r.apply(n,[n])}return t},d=function(){for(var t={min:1/0,max:-(1/0)},r={min:1/0,max:-(1/0)},a=0;a<o.length;a++){var s=o[a],c=s._private.scratch.cola;t.min=Math.min(t.min,c.x||0),t.max=Math.max(t.max,c.x||0),r.min=Math.min(r.min,c.y||0),r.max=Math.max(r.max,c.y||0)}o.positions(function(n,i){var a,o=i._private.scratch.cola;return i.grabbed()||i.isParent()||(a={x:u.x1+o.x-t.min,y:u.y1+o.y-r.min},e.is.number(a.x)&&e.is.number(a.y)||(a=void 0)),a}),o.updateCompoundBounds(),l||(p(),l=!0),n.fit&&i.fit(n.padding)},h=function(){t.manuallyStopped=!1,n.ungrabifyWhileSimulating&&y.grabify(),o.off("grab free position",m),o.off("lock unlock",x),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t})},p=function(){t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t})},f=n.refresh,v=1;n.refresh<0?(v=Math.abs(n.refresh),f=1):f=Math.max(1,f);var g=r.adaptor({trigger:function(e){switch(e.type){case"tick":n.animate&&d();break;case"end":d(),(!n.infinite||t.manuallyStopped)&&h()}},kick:function(t){var r=0,i=function(){var e=t();return e&&n.infinite&&g.resume(),e},a=function(){var e,t=r;if(r=(r+1)%v,0!==t)return!1;for(var n=0;f>n&&!e;n++)e=e||i();return e};if(n.animate){var o=function(){a()||e.util.requestAnimationFrame(o)};e.util.requestAnimationFrame(o)}else for(;!i(););},on:function(e,t){},drag:function(){}});t.adaptor=g;var y=o.filter(":grabbable");n.ungrabifyWhileSimulating&&y.ungrabify();var m;o.on("grab free position",m=function(t){var n=this,r=n._private.scratch.cola,i=n._private.position;switch(n.grabbed()?(r.x=i.x-u.x1,r.y=i.y-u.y1,g.dragstart(r)):e.is.number(r.x)&&e.is.number(r.y)&&(i.x=r.x+u.x1,i.y=r.y+u.y1),t.type){case"grab":g.dragstart(r),g.resume();break;case"free":g.dragend(r)}});var x;o.on("lock unlock",x=function(e){var t=this,n=t._private.scratch.cola;t.locked()?g.dragstart(n):g.dragend(n)});var b=o.stdFilter(function(e){return!e.isParent()});if(g.nodes(b.map(function(e,t){var r=c(n.nodeSpacing,e),i=e.position(),a=e._private.scratch.cola={x:n.randomize?Math.round(Math.random()*u.w):i.x,y:n.randomize?Math.round(Math.random()*u.h):i.y,width:e.outerWidth()+2*r,height:e.outerHeight()+2*r,index:t};return a})),n.alignment){var w=[],E=[];b.forEach(function(e){var t=c(n.alignment,e),r=e._private.scratch.cola,i=r.index;t&&(null!=t.x&&w.push({node:i,offset:t.x}),null!=t.y&&E.push({node:i,offset:t.y}))});var _=[];w.length>0&&_.push({type:"alignment",axis:"x",offsets:w}),E.length>0&&_.push({type:"alignment",axis:"y",offsets:E}),g.constraints(_)}g.groups(o.stdFilter(function(e){return e.isParent()}).map(function(e,t){return e._private.scratch.cola={index:t,leaves:e.descendants().stdFilter(function(e){return!e.isParent()}).map(function(e){return e[0]._private.scratch.cola.index})},e}).map(function(e){return e._private.scratch.cola.groups=e.descendants().stdFilter(function(e){return e.isParent()}).map(function(e){return e._private.scratch.cola.index}),e._private.scratch.cola}));var k,S;null!=n.edgeLength?(k=n.edgeLength,S="linkDistance"):null!=n.edgeSymDiffLength?(k=n.edgeSymDiffLength,S="symmetricDiffLinkLengths"):null!=n.edgeJaccardLength?(k=n.edgeJaccardLength,S="jaccardLinkLengths"):(k=100,S="linkDistance");var T=function(e){return e.calcLength};if(g.links(s.stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}).map(function(e,t){var n=e._private.scratch.cola={source:e.source()[0]._private.scratch.cola.index,target:e.target()[0]._private.scratch.cola.index};return null!=k&&(n.calcLength=c(k,e)),n})),g.size([u.w,u.h]),null!=k&&g[S](T),n.flow){var C,D="y",N=50;e.is.string(n.flow)?C={axis:n.flow,minSeparation:N}:e.is.number(n.flow)?C={axis:D,minSeparation:n.flow}:e.is.plainObject(n.flow)?(C=n.flow,C.axis=C.axis||D,C.minSeparation=null!=C.minSeparation?C.minSeparation:N):C={axis:D,minSeparation:N},g.flowLayout(C.axis,C.minSeparation)}g.avoidOverlaps(n.avoidOverlap).handleDisconnected(n.handleDisconnected).start(n.unconstrIter,n.userConstIter,n.allConstIter),t.trigger({type:"layoutstart",layout:t}),n.infinite||setTimeout(function(){g.stop()},n.maxSimulationTime)}),this},t.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e("layout","cola",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var n={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var t=this.options,n=t,r=t.cy,i=n.eles,a=i.nodes().not(":parent"),o=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=n.startAngle,c=0,d=0;d<a.length;d++){var h,p=a[d];h=n.concentric.apply(p,[p]),l.push({value:h,node:p}),p._private.scratch.concentric=h}a.updateStyle();for(var d=0;d<a.length;d++){var p=a[d];c=Math.max(c,p.outerWidth(),p.outerHeight())}l.sort(function(e,t){return t.value-e.value});for(var f=n.levelWidth(a),v=[[]],g=v[0],d=0;d<l.length;d++){var y=l[d];if(g.length>0){var m=Math.abs(g[0].value-y.value);m>=f&&(g=[],v.push(g))}g.push(y)}var x={},b=0,w=c+n.minNodeSpacing;if(!n.avoidOverlap){var E=v.length>0&&v[0].length>1,_=Math.min(o.w,o.h)/2-w,k=_/(v.length+E?1:0);w=Math.min(w,k)}for(var d=0;d<v.length;d++){var S=v[d],T=2*Math.PI/S.length;if(S.length>1&&n.avoidOverlap){var C=Math.cos(T)-Math.cos(0),D=Math.sin(T)-Math.sin(0),N=Math.sqrt(w*w/(C*C+D*D));b=Math.max(N,b)}for(var P=0;P<S.length;P++){var y=S[P],u=n.startAngle+(n.counterclockwise?-1:1)*T*P,M={x:s.x+b*Math.cos(u),y:s.y+b*Math.sin(u)};x[y.node.id()]=M}b+=w}return a.layoutPositions(this,n,function(){var e=this.id();return x[e]}),this},e("layout","concentric",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var n,r={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};t.prototype.run=function(){var t=this.options,r=t.cy,a=this;a.stopped=!1,a.trigger({type:"layoutstart",layout:a}),n=!0===t.debug?!0:!1;var o=new Date,d=i(r,a,t);n&&s(d),!0===t.randomize&&l(d,r),m(d,r,t);var h=function(e){return a.stopped?!1:(c(d,r,t,e),d.temperature=d.temperature*t.coolingFactor,d.temperature<t.minTemp?!1:!0)},p=function(){u(d,r,t),!0===t.fit&&r.fit(t.padding);var e=new Date;console.info("Layout took "+(e-o)+" ms"),a.one("layoutstop",t.stop),a.trigger({type:"layoutstop",layout:a})};if(t.animate){var f=0,v=function(){for(var n,i=0;i<t.refresh&&f<t.numIter;){var n=h(f);if(n===!1)break;i++,f++}u(d,r,t),t.fit&&r.fit(t.padding),n!==!1&&f+1<t.numIter?e.util.requestAnimationFrame(v):p()};e.util.requestAnimationFrame(v)}else{for(var f=0;f<t.numIter&&h(f)!==!1;f++);p()}return this},t.prototype.stop=function(){return this.stopped=!0,this};var i=function(t,n,r){for(var i=r.eles.edges(),o=r.eles.nodes(),s={layout:n,layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},l=0;l<s.nodeSize;l++){var u={};u.id=o[l].data("id"),u.parentId=o[l].data("parent"),u.children=[],u.positionX=o[l].position("x"),u.positionY=o[l].position("y"),u.offsetX=0,u.offsetY=0,u.height=o[l].height(),u.width=o[l].width(),u.maxX=u.positionX+u.width/2,u.minX=u.positionX-u.width/2,u.maxY=u.positionY+u.height/2,u.minY=u.positionY-u.height/2,u.padLeft=o[l]._private.style["padding-left"].pxValue,u.padRight=o[l]._private.style["padding-right"].pxValue,u.padTop=o[l]._private.style["padding-top"].pxValue,u.padBottom=o[l]._private.style["padding-bottom"].pxValue,s.layoutNodes.push(u),s.idToIndex[u.id]=l}for(var c=[],d=0,h=-1,p=[],l=0;l<s.nodeSize;l++){var f=s.layoutNodes[l],v=f.parentId;null!=v?s.layoutNodes[s.idToIndex[v]].children.push(f.id):(c[++h]=f.id,p.push(f.id))}for(s.graphSet.push(p);h>=d;){var g=c[d++],y=s.idToIndex[g],m=s.layoutNodes[y],x=m.children;if(x.length>0){s.graphSet.push(x);for(var l=0;l<x.length;l++)c[++h]=x[l]}}for(var l=0;l<s.graphSet.length;l++)for(var b=s.graphSet[l],w=0;w<b.length;w++){var E=s.idToIndex[b[w]];s.indexToGraph[E]=l}for(var l=0;l<s.edgeSize;l++){var _=i[l],k={};k.id=_.data("id"),k.sourceId=_.data("source"),k.targetId=_.data("target");var S=r.idealEdgeLength,T=s.idToIndex[k.sourceId],C=s.idToIndex[k.targetId],D=s.indexToGraph[T],N=s.indexToGraph[C];if(D!=N){for(var P=a(k.sourceId,k.targetId,s),M=s.graphSet[P],B=0,u=s.layoutNodes[T];-1===$.inArray(u.id,M);)u=s.layoutNodes[s.idToIndex[u.parentId]],B++;for(u=s.layoutNodes[C];-1===$.inArray(u.id,M);)u=s.layoutNodes[s.idToIndex[u.parentId]],B++;S*=B*r.nestingFactor}k.idealLength=S,s.layoutEdges.push(k)}return s},a=function(e,t,n){var r=o(e,t,0,n);return 2>r.count?0:r.graph},o=function(e,t,n,r){var i=r.graphSet[n];if(-1<$.inArray(e,i)&&-1<$.inArray(t,i))return{count:2,graph:n};for(var a=0,s=0;s<i.length;s++){var l=i[s],u=r.idToIndex[l],c=r.layoutNodes[u].children;if(0!==c.length){var d=r.indexToGraph[r.idToIndex[c[0]]],h=o(e,t,d,r);if(0!==h.count){if(1!==h.count)return h;if(a++,2===a)break}}}return{count:a,graph:n}},s=function(e){if(n){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t],i="\nindex: "+t+"\nId: "+r.id+"\nChildren: "+r.children.toString()+"\nparentId: "+r.parentId+"\npositionX: "+r.positionX+"\npositionY: "+r.positionY+"\nOffsetX: "+r.offsetX+"\nOffsetY: "+r.offsetY+"\npadLeft: "+r.padLeft+"\npadRight: "+r.padRight+"\npadTop: "+r.padTop+"\npadBottom: "+r.padBottom;console.debug(i)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var i="IndexToGraph",t=0;t<e.indexToGraph.length;t++)i+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(i),i="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];i+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(i),i="nodeSize: "+e.nodeSize,i+="\nedgeSize: "+e.edgeSize,i+="\ntemperature: "+e.temperature,console.debug(i)}},l=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];a.positionX=Math.random()*n,a.positionY=Math.random()*r}},u=function(e,t,n){var r=e.layout,i=n.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};n.boundingBox&&(i.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),i.positions(function(t,r){var i=e.layoutNodes[e.idToIndex[r.data("id")]];if(n.boundingBox){var s=(i.positionX-o.x1)/o.w,l=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+l*a.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.trigger({type:"layoutready",layout:this}))},c=function(e,t,n,r){d(e,t,n),v(e,t,n),g(e,t,n),y(e,t,n),m(e,t,n)},d=function(e,t,n){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],a=i.length,o=0;a>o;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],l=o+1;a>l;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];h(s,u,e,t,n)}},h=function(e,t,n,r,i){var a=t.positionX-e.positionX,o=t.positionY-e.positionY;if(0!==a||0!==o){var s=f(e,t,a,o);if(s>0)var l=i.nodeOverlap*s,u=Math.sqrt(a*a+o*o),c=l*a/u,d=l*o/u;else var h=p(e,a,o),v=p(t,-1*a,-1*o),g=v.x-h.x,y=v.y-h.y,m=g*g+y*y,u=Math.sqrt(m),l=i.nodeRepulsion/m,c=l*g/u,d=l*y/u;e.offsetX-=c,e.offsetY-=d,t.offsetX+=c,t.offsetY+=d}},p=function(e,t,n){var r=e.positionX,i=e.positionY,a=e.height,o=e.width,s=n/t,l=a/o,u={};do{if(0===t&&n>0){u.x=r,u.y=i+a/2;break}if(0===t&&0>n){u.x=r,u.y=i+a/2;break}if(t>0&&s>=-1*l&&l>=s){u.x=r+o/2,u.y=i+o*n/2/t;break}if(0>t&&s>=-1*l&&l>=s){u.x=r-o/2,u.y=i-o*n/2/t;break}if(n>0&&(-1*l>=s||s>=l)){u.x=r+a*t/2/n,u.y=i+a/2;break}if(0>n&&(-1*l>=s||s>=l)){u.x=r-a*t/2/n,u.y=i-a/2;break}}while(!1);return u},f=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(r>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},v=function(e,t,n){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(0===u&&0===c)return;var d=p(o,u,c),h=p(l,-1*u,-1*c),f=h.x-d.x,v=h.y-d.y,g=Math.sqrt(f*f+v*v),y=Math.pow(i.idealLength-g,2)/n.edgeElasticity;if(0!==g)var m=y*f/g,x=y*v/g;else var m=0,x=0;o.offsetX+=m,o.offsetY+=x,l.offsetX-=m,l.offsetY-=x}},g=function(e,t,n){for(var r=0;r<e.graphSet.length;r++){var i=e.graphSet[r],a=i.length;if(0===r)var o=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],u=e.layoutNodes[e.idToIndex[l.parentId]],o=u.positionX,s=u.positionY;for(var c=0;a>c;c++){var d=e.layoutNodes[e.idToIndex[i[c]]],h=o-d.positionX,p=s-d.positionY,f=Math.sqrt(h*h+p*p);if(f>1){var v=n.gravity*h/f,g=n.gravity*p/f;d.offsetX+=v,d.offsetY+=g}}}},y=function(e,t,n){var r=[],i=0,a=-1;for(r.push.apply(r,e.graphSet[0]),a+=e.graphSet[0].length;a>=i;){var o=r[i++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length){for(var c=l.offsetX,d=l.offsetY,h=0;h<u.length;h++){var p=e.layoutNodes[e.idToIndex[u[h]]];p.offsetX+=c,p.offsetY+=d,r[++a]=u[h]}l.offsetX=0,l.offsetY=0}}},m=function(e,t,n){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length)){var a=x(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,b(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},x=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else var i={x:e,y:t};return i},b=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],i=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,i=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,i=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,i=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,i=!0),i?b(r,t):void 0}};e("layout","cose",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},n,t)}var n={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var t=this.options,n=this;return e.util.require("dagre",function(r){var i=t.cy,a=t.eles,o=function(t,n){return e.is.fn(n)?n.apply(t,[t]):n},s=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),l=new r.graphlib.Graph({multigraph:!0,compound:!0}),u={},c=function(e,t){null!=t&&(u[e]=t)};c("nodesep",t.nodeSep),c("edgesep",t.edgeSep),c("ranksep",t.rankSep),c("rankdir",t.rankDir),l.setGraph(u),l.setDefaultEdgeLabel(function(){return{}}),l.setDefaultNodeLabel(function(){return{}});for(var d=a.nodes(),h=0;h<d.length;h++){var p=d[h];l.setNode(p.id(),{width:p.width(),height:p.height(),name:p.id()})}for(var h=0;h<d.length;h++){var p=d[h];p.isChild()&&l.setParent(p.id(),p.parent().id())}for(var f=a.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),h=0;h<f.length;h++){var v=f[h];l.setEdge(v.source().id(),v.target().id(),{minlen:o(v,t.minLen),weight:o(v,t.edgeWeight),name:v.id()},v.id())}r.layout(l);for(var g=l.nodes(),h=0;h<g.length;h++){var y=g[h],m=l.node(y);i.getElementById(y).scratch().dagre=m}var x;t.boundingBox?(x={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},d.forEach(function(e){var t=e.scratch().dagre;x.x1=Math.min(x.x1,t.x),x.x2=Math.max(x.x2,t.x),x.y1=Math.min(x.y1,t.y),x.y2=Math.max(x.y2,t.y)}),x.w=x.x2-x.x1,x.h=x.y2-x.y1):x=s;var b=function(e){if(t.boundingBox){var n=(e.x-x.x1)/x.w,r=(e.y-x.y1)/x.h;return{x:s.x1+n*s.w,y:s.y1+r*s.h}}return e};d.layoutPositions(n,t,function(){var e=this.scratch().dagre;return b({x:e.x,y:e.y})})}),this},e("layout","dagre",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var n={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,n=t,r=t.cy,i=n.eles,a=i.nodes().not(":parent");n.sort&&(a=a.sort(n.sort));var o=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===o.h||0===o.w)a.layoutPositions(this,n,function(){return{x:o.x1,y:o.y1}});else{var s=a.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),d=function(e){if(null==e)return Math.min(u,c);var t=Math.min(u,c);t==u?u=e:c=e},h=function(e){if(null==e)return Math.max(u,c);var t=Math.max(u,c);t==u?u=e:c=e};if(null!=n.rows&&null!=n.columns)u=n.rows,c=n.columns;else if(null!=n.rows&&null==n.columns)u=n.rows,c=Math.ceil(s/u);else if(null==n.rows&&null!=n.columns)c=n.columns,u=Math.ceil(s/c);else if(c*u>s){var p=d(),f=h();(p-1)*f>=s?d(p-1):(f-1)*p>=s&&h(f-1)}else for(;s>c*u;){var p=d(),f=h();(f+1)*p>=s?h(f+1):d(p+1)}var v=o.w/c,g=o.h/u;if(n.avoidOverlap)for(var y=0;y<a.length;y++){var m=a[y],x=m.outerWidth(),b=m.outerHeight();v=Math.max(v,x),g=Math.max(g,b)}for(var w={},E=function(e,t){return w["c-"+e+"-"+t]?!0:!1},_=function(e,t){w["c-"+e+"-"+t]=!0},k=0,S=0,T=function(){S++,S>=c&&(S=0,k++)},C={},y=0;y<a.length;y++){var m=a[y],D=n.position(m);if(D&&(void 0!==D.row||void 0!==D.col)){var N={row:D.row,col:D.col};if(void 0===N.col)for(N.col=0;E(N.row,N.col);)N.col++;else if(void 0===N.row)for(N.row=0;E(N.row,N.col);)N.row++;C[m.id()]=N,_(N.row,N.col)}}var P=function(e,t){var n,r;if(t.locked()||t.isFullAutoParent())return!1;var i=C[t.id()];if(i)n=i.col*v+v/2+o.x1,r=i.row*g+g/2+o.y1;else{for(;E(k,S);)T();n=S*v+v/2+o.x1,r=k*g+g/2+o.y1,_(k,S),T()}return{x:n,y:r}};a.layoutPositions(this,n,P)}return this},e("layout","grid",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},n,t)}var n={ready:function(){},stop:function(){}};t.prototype.run=function(){{var e=this.options,t=e.eles,n=this;e.cy}return n.trigger("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.trigger("layoutready"),n.one("layoutstop",e.stop),n.trigger("layoutstop"),this},t.prototype.stop=function(){return this},e("layout","null",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},n,t)}var n={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){function t(e){if(null==n.positions)return null;if(a)return n.positions.apply(e,[e]);var t=n.positions[e._private.data.id];return null==t?null:t}var n=this.options,r=n.eles,i=r.nodes(),a=e.is.fn(n.positions);return i.layoutPositions(this,n,function(e,n){var r=t(n);return n.locked()||null==r?!1:r}),this},e("layout","preset",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},n,t)}var n={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,n=t.cy,r=t.eles,i=r.nodes().not(":parent"),a=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o=function(e,t){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return i.layoutPositions(this,t,o),this},e("layout","random",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend({},i,t)}function n(e){for(var t,n,r,i=e.halfedges,a=0,o=0,s=0,l=0;l<i.length;++l)t=i[l].getEndpoint(),n=i[l].getStartpoint(),a+=t.x*n.y,a-=t.y*n.x,r=t.x*n.y-n.x*t.y,o+=(t.x+n.x)*r,s+=(t.y+n.y)*r;return a/=2,r=6*a,{x:o/r,y:s/r}}function r(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}var i={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};t.prototype.run=function(){var t=this,i=this.options;return e.util.requires(["foograph","Voronoi"],function(a,o){function s(e){for(var t=e.vertices,n=[],r=0;r<t.length;++r){var a=t[r];n[a.id]={x:a.x,y:a.y}}u.positions(function(e,t){var r=t._private.data.id,i=n[r];return{x:Math.round(g.x1+i.x),y:Math.round(g.y1+i.y)}}),i.fit&&l.fit(i.padding),l.nodes().rtrigger("position")}var l=i.cy,u=l.nodes(),c=l.edges(),d=l.width(),h=l.height(),p=i.boundingBox?e.util.makeBoundingBox(i.boundingBox):null,f=i.padding,v=Math.max(1,.8*Math.log(u.length));u.length<100&&(v/=2),t.trigger({type:"layoutstart",layout:t});var g={x1:0,y1:0,x2:d*v,y2:h*v};p&&(g.x1=p.x1,g.y1=p.y1,g.x2=p.x2,g.y2=p.y2),g.x1+=f,g.y1+=f,g.x2-=f,g.y2-=f;var y=g.x2-g.x1,m=g.y2-g.y1,x=Date.now();if(u.size()<=1){u.positions({x:Math.round((g.x1+g.x2)/2),y:Math.round((g.y1+g.y2)/2)}),i.fit&&l.fit(i.padding);var b=Date.now();return console.info("Layout on "+u.size()+" nodes took "+(b-x)+" ms"),t.one("layoutready",i.ready),t.trigger("layoutready"),t.one("layoutstop",i.stop),void t.trigger("layoutstop")}var w={width:y,height:m,minDist:i.minDist,expFact:i.expandingFactor,expIt:0,maxExpIt:i.maxExpandIterations,vertices:[],edges:[],startTime:x,maxFruchtermanReingoldIterations:i.maxFruchtermanReingoldIterations};u.each(function(e,t){var n=this._private.data.id;w.vertices.push({id:n,x:0,y:0})}),c.each(function(){var e=this.source().id(),t=this.target().id();w.edges.push({src:e,tgt:t})});var E=e.Thread();E.require(a,"foograph"),E.require(o),E.require(r),E.require(n);var _=!1;E.on("message",function(e){var n=e.message;i.animate&&(s(n),_||(t.trigger("layoutready"),_=!0))}),t.one("layoutready",i.ready),E.pass(w).run(function(e){function t(e){for(var t=0,n=0;n<e.length;++n){var i=e[n];null!=i.lSite&&null!=i.rSite&&r(i.lSite,i.rSite)<l&&++t}return t}for(var i=e.width,s=e.height,l=e.minDist,u=e.expFact,c=e.maxExpIt,d=e.maxFruchtermanReingoldIterations,h=function(){e.width=i,e.height=s,e.expIt=j,e.expFact=u,e.vertices=[];for(var t=0;t<k.length;++t)e.vertices.push({id:k[t].label,x:k[t].x,y:k[t].y})},p=function(){broadcast(e)},f=new a.Graph("FRgraph",!1),v={},g=e.vertices,y=0;y<g.length;++y){var m=g[y].id,x=new a.Vertex(m,Math.round(Math.random()*s),Math.round(Math.random()*s));v[m]=x,f.insertVertex(x)}for(var b=e.edges,w=0;w<b.length;++w){var E=b[w].src,_=b[w].tgt;f.insertEdge("",1,v[E],v[_])}var k=f.vertices,S=d,T=new a.ForceDirectedVertexLayout(i,s,S,!1,l);T.callback=function(){h(),p()},T.layout(f),h(),p();for(var C=new o,D={xl:0,xr:i,yt:0,yb:s},N=[],P=0;P<k.length;++P)N[k[P].label]=k[P];for(var M=C.compute(k,D),B=M.cells,P=0;P<B.length;++P){var L=B[P],O=L.site,A=n(L),I=N[O.label];I.x=A.x,I.y=A.y}0>u&&(u=Math.max(.05,Math.min(.1,l/Math.sqrt(i*s/k.length)*.5)));for(var z=t(M.edges),F=0>=z,R=0,j=0;!F;){++R;for(var X=0;4>=X;++X){C.recycle(M),M=C.compute(k,D),B=M.cells;for(var P=0;P<B.length;++P){var L=B[P],O=L.site,A=n(L),I=N[O.label];I.x=A.x,I.y=A.y}}var q=t(M.edges);0>=q?F=!0:(q>=z||R>=4)&&(j>=c?F=!0:(i+=i*u,s+=s*u,D={xl:0,xr:i,yt:0,yb:s},++j,R=0)),z=q,h(),p()}return h(),e}).then(function(e){var n=e.vertices;s(e);var r=e.startTime,a=new Date;console.info("Layout on "+n.length+" nodes took "+(a-r)+" ms"),t.one("layoutstop",i.stop),i.animate||t.trigger("layoutready"),t.trigger("layoutstop"),E.stop()})}),this},t.prototype.stop=function(){},e("layout","spread",t)}(cytoscape),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},n,t)}var n={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};t.prototype.run=function(){var t=this,n=this,r=this.options;return e.util.require("Springy",function(i){function a(e){var t=e.scratch("springy").model.id,n=w.layout.nodePoints[t].p,r=e.position(),i=null!=r.x&&null!=r.y?y(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};n.x=i.x,n.y=i.y}function o(){n.stopped=!1,r.ungrabifyWhileSimulating&&_.ungrabify(),w.start()}var s=!1,l=r.cy;t.trigger({type:"layoutstart",layout:t});var u=r.eles,c=u.nodes().not(":parent"),d=u.edges(),h=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),p=new i.Graph;c.each(function(e,t){t.scratch("springy",{model:p.newNode({element:t})})}),d.each(function(e,t){var n=t.source().scratch("springy").model,r=t.target().scratch("springy").model;t.scratch("springy",{model:p.newEdge(n,r,{element:t})})});var f=window.sim=new i.Layout.ForceDirected(p,r.stiffness,r.repulsion,r.damping);r.infinite&&(f.minEnergyThreshold=-(1/0));var v=f.getBoundingBox(),g=function(e){v=f.getBoundingBox();var t=v.topright.subtract(v.bottomleft),n=e.subtract(v.bottomleft).divide(t.x).x*h.w+h.x1,r=e.subtract(v.bottomleft).divide(t.y).y*h.h+h.x1;return new i.Vector(n,r)},y=function(e){v=f.getBoundingBox();var t=v.topright.subtract(v.bottomleft),n=(e.x-h.x1)/h.w*t.x+v.bottomleft.x,r=(e.y-h.y1)/h.h*t.y+v.bottomleft.y;return new i.Vector(n,r)},m=l.collection(),x=l.nodes().size(),b=1,w=new i.Renderer(f,function(){n.stopped||m.length>0&&r.animate&&(s=!0,m.rtrigger("position"),r.fit&&l.fit(r.padding),m=l.collection(),s=!1)},function(e,t,n){},function(e,i){if(!n.stopped){var a=g(i),o=e.data.element;o.locked()||o.grabbed()||(o._private.position={x:a.x,y:a.y},m.merge(o)),b==x&&(t.one("layoutready",r.ready),t.trigger({type:"layoutready",layout:t})),b++}});c.each(function(e,t){r.random||a(t)});var E;c.on("position",E=function(){s||a(this)});var _=c.filter(":grabbable");n.stopSystem=function(){n.stopped=!0,p.filterNodes(function(){return!1}),r.ungrabifyWhileSimulating&&_.grabify(),r.fit&&l.fit(r.padding),c.off("drag position",E),t.one("layoutstop",r.stop),t.trigger({type:"layoutstop",layout:t}),n.stopSystem=null},o(),r.infinite||setTimeout(function(){n.stop()},r.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},e("layout","springy",t)}(cytoscape),function(e){"use strict";function t(e){this.options=e}t.prototype.recalculateRenderedStyle=function(){},t.prototype.notify=function(){},e("renderer","null",t)}(cytoscape),$(loadCy=function(){cy=cytoscape(options={container:document.getElementById("cy"),minZoom:.5,maxZoom:2,style:[{selector:"node",css:{content:"data(name)","font-family":"helvetica","font-size":14,"text-outline-width":3,"text-outline-color":"#888","text-valign":"center",color:"#fff",width:"mapData(weight, 30, 80, 20, 50)",height:"mapData(height, 0, 200, 10, 45)","border-color":"#fff"}},{selector:":selected",css:{"background-color":"#000","line-color":"#000","target-arrow-color":"#000","text-outline-color":"#000"}},{selector:"edge",css:{width:2,"target-arrow-shape":"triangle"}},{selector:".foo",css:{"border-width":4,"border-color":"red"}}],elements:{nodes:[{data:{id:"j",name:"Jerry",weight:65,height:174}},{data:{id:"e",name:"Elaine",weight:48,height:160}},{data:{id:"k",name:"Kramer",weight:75,height:185}},{data:{id:"g",name:"George",weight:70,height:150}}],edges:[{data:{source:"j",target:"e",id:"je"}},{data:{source:"j",target:"k",id:"jk"}},{data:{source:"j",target:"g",id:"jg"}},{data:{source:"e",target:"j",id:"ej"}},{data:{source:"e",target:"k",id:"ek"}},{data:{source:"k",target:"j",id:"kj"}},{data:{source:"k",target:"e",id:"ke"}},{data:{source:"k",target:"g",id:"kg"}},{data:{source:"g",target:"j",id:"gj"}}]},ready:function(){}})}),window.isTouchDevice=cytoscape.is.touch(),$(function(){setTimeout(function(){cytoscape.defaults(window.options)},100),$("#navigation").on("wheel mousewheel DOMMouseScroll MozMousePixelScroll scroll",function(e){e.stopPropagation()}),$("#open-navigation").on("click",function(){$("body").addClass("navigation-open")}),$("#open-navigation-bg, #navigation a").on("click",function(){$("body").removeClass("navigation-open")}),$("#navigation a").on("click",function(){var e=$("#navigation").scrollTop();setTimeout(function(){$("#navigation").scrollTop(e+10),$("#navigation").scrollTop(e-10),$("#navigation").scrollTop(e)},0)}),loadCy(),$(document).on("click",".gallery-refresh",function(){var e=$(this).attr("data-embed-id"),t=document.getElementById(e);t.classList.remove("loaded"),t.src=t.src}),$(".gallery-embed").on("load",function(){$(this).addClass("loaded")}),$("body").on("mousedown click","#cy-refresh",function(){loadCy(),$("#cy").attr("style","")}),window.showCy=function(e){if($("#cy, #cy-hide, #cy-refresh, #cy-label").removeClass("hidden"),$("#cy-show").addClass("hidden"),e){var t=$("#cy-etc");t.removeClass("hidden").remove(),e.after(t)}cy.resize()},window.hideCy=function(){$("#cy, #cy-hide, #cy-refresh, #cy-label, #cy-etc").addClass("hidden"),$("#cy-show").removeClass("hidden")},$("#cy-hide").on("click",function(){hideCy()}),$("#cy-show").on("click",function(){showCy()}),$("#demo-source .expander").on("click",function(){$("#demo-source").removeClass("collapsed")}),$(document).on("click",".run.run-inline-code",function(){var $run=$(this),$pre=$(this).prevAll("pre:first");showCy($run);var text=$pre.text(),$title=$("#cy-title"),$content=$title.find(".content");$content.html(text),$title.show(),$content.hide().fadeIn(100).delay(250).hide(200,function(){var ret=eval(text);if(ret&&cytoscape.is.elementOrCollection(ret)&&ret.length>0){var css={"text-outline-color":"#4183C4","background-color":"#4183C4","line-color":"#4183C4","target-arrow-color":"#4183C4","source-arrow-color":"#4183C4"},delay=200;ret.stop(!0).animate({css:css}).delay(delay,function(){ret.removeCss()}).animate({css:css}).delay(delay,function(){ret.removeCss()}).animate({css:css}).delay(delay,function(){ret.removeCss(),$title.hide()})}})}),$("#download-button").on("click",function(){_gaq&&_gaq.push(["_trackEvent","Actions","Download"]);

})});